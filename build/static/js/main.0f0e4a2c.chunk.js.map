{"version":3,"sources":["utils/ua.js","dbL.js","components/t.js","components/lan-button.js","config/index.js","components/common/Layout.js","db.js","pages/race/index.js","components/player/PlayerCard.js","components/event/EventCard.js","components/event/EventDetail.js","components/common/List.js","components/event/EventList.js","components/skill/SkillCard.js","components/support/SupportCard.js","components/effect/index.js","components/support/SupportDetail.js","components/support/SupportList.js","components/skill/SkillDetail.js","components/skill/SkillList.js","components/race/index.js","components/player/PlayerDetail.js","components/player/PlayerList.js","pages/player/index.js","components/common/CheckBox.js","components/common/Input.js","components/skill/SkillFilterForm.js","components/support/SupportFilterForm.js","utils/useViewport.js","components/support/SupportListWithFilter.js","pages/support/index.js","components/buff.js","components/deck.js","pages/nurturing/index.js","pages/skill/index.js","pages/seed/index.js","pages/nurturingMo/index.js","pages/seedMo/index.js","pages/support/detail.js","pages/player/detail.js","pages/skill/detail.js","app.js","index.js"],"names":["useUa","ua","ios","test","navigator","userAgent","maxTouchPoints","android","isPhone","adapterL","LocalStorage","db","low","d","a","axios","get","res","set","data","write","value","supports","0","1","2","3","4","5","player","races","adapter","lan","lanData","ZH","EN","JP","t","text","dbL","LanButton","props","useState","code","setCode","show","setShow","useRef","size","color","onClick","ripple","active","toggler","className","window","location","reload","cdnServer","Layout","children","contentClass","rootClass","openNavbar","setOpenNavbar","useLocation","list","path","title","navbar","open","leftSide","map","item","to","pathname","data-tip","src","frameBorder","scrolling","width","height","target","rel","href","border","alt","preview","adapterM","Memory","jsonDB","players","skills","events","updateTime","buffs","effects","TITLE","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","dataIndex","filters","fixed","onFilter","record","Race","document","useDidRecover","dynamicTableHeight","React","innerHeight","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","PlayerCard","style","paddingBottom","charaName","onError","imgUrl","EventCard","choiceList","choice","result","join","EventDetail","List","listKey","sort","filterFunc","idList","dataList","itemRender","itemClass","detailRender","detailModalSize","reduce","cur","find","setCur","showModal","modal","ReactTooltip","rebuild","sortItem","sortList","filter","flag","func","length","Array","i","EventList","sortFlag","JSON","stringify","indexOf","isNur","SkillCard","rarity","describe","condition","SupportCard","limits","getValue","effect","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","div","divKey","getEffectMark","maxLevel","ok","10","15","20","25","30","35","40","TestEffectTable","state","selectingLevel","input","nodes","output","this","prevNode","level","upperNode","lowerNode","unique_effect","lv","setState","marks","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","Component","SupportDetail","eventList","pid","trainingEventSkill","possessionSkill","SupportList","ownList","history","useHistory","includes","allSupportList","allPlayerList","skillType","6","7","8","9","13","14","21","27","28","31","SkillDetail","undefined","parseInt","match","params","nur","supportList","support","skillList","forEach","b","playerList","maxWidth","ability","ability_time","cooldown","need_skill_point","grade_value","SkillList","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","RaceTimeline","memo","showButton","showSpare","setShowSpare","str","getDate","year","month","moment","getColor","curRace","raceList","Item","goal","filterRace","fontSize","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","PlayerItem","coloredGradeText","fontWeight","textShadow","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","eventList0","eventList2","eventList3","hideEvent","eventList1","eventList4","PlayerList","Player","CheckBox","register","icon","htmlFor","Input","placeholder","allSkillList","orderBy","conditionOptions","typeOptions","rarityOptions","SkillFilterForm","onUpdate","needId","checkOnly","useForm","watch","formState","subscription","getFilterList","unsubscribe","mySupports","Set","supportId","concat","q","rare","tempList","skill","icon_id","reg","RegExp","allSupports","effectOptions","SupportFilterForm","setValue","handleSubmit","skillId","eventIdList","event","eventId","innerWidth","setWidth","SupportListWithFilter","limitHeight","viewport","setList","chooseMode","setChooseMode","showMode","setShowMode","chosenList","setChosenList","changeChooseMode","tmpList","splice","update","Support","BuffButton","buttonType","BuffList","cellStyle","textAlign","paddingLeft","borderWidth","borderStyle","borderColor","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","playerId","assign","shortid","generate","shareDeck","formData","localeCompare","post","message","info","msg","overlayStyle","maxHeight","overflow","content","values","onChangeTag","span","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","showPlayer","closePlayer","showSupport","closeSupport","dynamicRowHeight","layoutWithBlank","x","w","h","layoutWithoutBlank","originalLayout","layout","setLayout","panelClass","headClass","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","useCSSTransforms","filterCondition","tmpRaceList","some","f","entries","tmpFilterRace","autoHide","cursor","display","flex","margin","background","newData","Skill","setSkillList","localStorage","getItem","setItem","userId","blueLabels","speed","stamina","power","guts","wisdom","redLabels","escapeR","leadingR","insertR","trackingR","PlayerInput","setData","triggerChange","changedValue","fallback","visible","onOk","onCancel","bodyStyle","SupportInput","SeedInput","Form","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","gutter","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","fields","add","errors","field","lg","md","xs","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","total","setTotal","onCopy","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","e","current","pageSize","simple","showQuickJumper","position","rowKey","footer","justifyContent","trigger","EditOutlined","paddingTop","lists","cascade","arrow","SeedCard","playerId0","gameId","SupportDetailPage","PlayerDetailPage","SkillDetailPage","AppPc","saveScrollPosition","exact","component","NurturingMO","SeedMo","html","Index","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.0f0e4a2c.chunk.js","sourcesContent":["const useUa = () => {\r\n  const ua = {};\r\n  ua.ios = /iPhone/.test(navigator.userAgent) || navigator.maxTouchPoints > 2;\r\n  ua.android = /Android \\d/.test(navigator.userAgent);\r\n  ua.isPhone = ua.ios || ua.android;\r\n  return ua;\r\n};\r\n\r\nexport default useUa;\r\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n// import Memory from 'lowdb/adapters/Memory'\r\nimport axios from 'axios'\r\n// import jsonDB from './assert/db.json'\r\n\r\nconst adapterL = new LocalStorage('db')\r\n// const adapterM = new Memory()\r\nconst db = low(adapterL)\r\n\r\n\r\nconst d = async ()=>{\r\n  // let res = await axios.get('https://urarawin.com/d')\r\n  let res = await axios.get('https://urarawin.com/api/sqlite/d')\r\n  db.set('userId',res.data).write()\r\n}\r\ndb.get('userId').value()||d()\r\ndb.get('lan').value()||db.set('lan','cn').write()\r\ndb.get('selected').value()||db.set('selected',{\r\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n  player:{},\r\n  races:[]\r\n}).write()\r\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\r\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\r\nexport  default db\r\n","import low from 'lowdb';\r\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\r\n\r\nimport ZH from '../assert/cn.json'\r\nimport EN from '../assert/us.json'\r\nimport JP from '../assert/jp.json'\r\nconst adapter = new LocalStorage('db')\r\nconst db = low(adapter)\r\n\r\nconst lan = db.get('lan').value() || 'cn'\r\nlet lanData = {}\r\nif (lan === 'cn') {\r\n  lanData = ZH\r\n} else if (lan === 'us') {\r\n  lanData = EN\r\n} else if (lan === 'jp') {\r\n  lanData = JP\r\n}\r\nconst t = (text, lan) => {\r\n  if (lan === 'cn') {\r\n    lanData = ZH\r\n  } else if (lan === 'us') {\r\n    lanData = EN\r\n  } else if (lan === 'jp') {\r\n    lanData = JP\r\n  }\r\n  let result = lanData[text] || text\r\n\r\n  return result\r\n}\r\nexport default t\r\n","import React, { useState, useRef } from \"react\";\r\n\r\nimport Modal from \"@material-tailwind/react/Modal\";\r\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\r\nimport Icon from \"@material-tailwind/react/Icon\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport dbL from \"../dbL.js\";\r\nimport t from \"./t.js\";\r\n\r\nlet lan = dbL.get(\"lan\").value();\r\nconst LanButton = (props) => {\r\n  const [code, setCode] = useState(lan || \"cn\");\r\n  const [show, setShow] = useState(false)\r\n  const buttonRef = useRef();\r\n  const changeToCn = () => {\r\n    lan = \"cn\";\r\n    dbL.set(\"lan\", \"cn\").write();\r\n    setCode(\"cn\");\r\n    t(\"\", \"cn\");\r\n    window.location.reload(true);\r\n  };\r\n  const changeToUs = () => {\r\n    lan = \"us\";\r\n    dbL.set(\"lan\", \"us\").write();\r\n    setCode(\"us\");\r\n    t(\"\", \"us\");\r\n    window.location.reload(true);\r\n  };\r\n  const changeToJp = () => {\r\n    lan = \"jp\";\r\n    dbL.set(\"lan\", \"jp\").write();\r\n    setCode(\"jp\");\r\n    t(\"\", \"jp\");\r\n    window.location.reload(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Button size='sm' color=\"lightBlue\" onClick={() => setShow(true)} ripple=\"light\">\r\n        {code}\r\n      </Button>\r\n      <Modal active={show} toggler={() => setShow(false)}>\r\n        <ModalBody>\r\n          <div className='grid grid-cols-3 gap-3'>\r\n            <Button\r\n              onClick={changeToCn}\r\n              code={\"cn\"}\r\n            >\r\n              cn\r\n            </Button>\r\n            <Button\r\n              className=\"cursor-pointer\"\r\n              onClick={changeToUs}\r\n              code={\"us\"}\r\n            >\r\n              us\r\n            </Button>\r\n            <Button\r\n              onClick={changeToJp}\r\n              code={\"jp\"}\r\n            >\r\n              jp\r\n            </Button>\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanButton;\r\n","const cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\nexport { cdnServer };\r\n","import React, { useState } from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\n\r\nimport Navbar from \"@material-tailwind/react/Navbar\";\r\nimport NavbarContainer from \"@material-tailwind/react/NavbarContainer\";\r\nimport NavbarWrapper from \"@material-tailwind/react/NavbarWrapper\";\r\nimport NavbarBrand from \"@material-tailwind/react/NavbarBrand\";\r\nimport NavbarToggler from \"@material-tailwind/react/NavbarToggler\";\r\nimport NavbarCollapse from \"@material-tailwind/react/NavbarCollapse\";\r\nimport Nav from \"@material-tailwind/react/Nav\";\r\nimport NavLink from \"@material-tailwind/react/NavLink\";\r\n\r\nimport useUa from \"@/utils/ua.js\";\r\nimport LanButton from \"@/components/lan-button.js\";\r\nimport { cdnServer } from \"@/config\";\r\nimport dbL from \"@/dbL.js\";\r\nimport t from \"@/components/t.js\";\r\n\r\nconst Layout = ({ children, contentClass, rootClass }) => {\r\n  const [openNavbar, setOpenNavbar] = useState(false);\r\n  const ua = useUa();\r\n  const location = useLocation();\r\n  const resetNur = () => {\r\n    dbL\r\n      .set(\"selected\", {\r\n        supports: { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} },\r\n        player: {},\r\n        races: [],\r\n      })\r\n      .write();\r\n  };\r\n  const pcList = [\r\n    { path: \"/\", title: \"角色\" },\r\n    { path: \"/support\", title: \"支援\" },\r\n    { path: \"/skill\", title: \"技能\" },\r\n    { path: \"/race\", title: \"比赛\" },\r\n    { path: \"/nurturing\", title: \"育成\" },\r\n    { path: \"/seed\", title: \"种马\" },\r\n  ];\r\n  const phoneList = [\r\n    { path: \"/\", title: \"角色\" },\r\n    { path: \"/support\", title: \"支援\" },\r\n    { path: \"/skill\", title: \"技能\" },\r\n    { path: \"/race\", title: \"比赛\" },\r\n    { path: \"/nurturingMo\", title: \"育成\" },\r\n    { path: \"/seedMo\", title: \"种马\" },\r\n  ];\r\n  const list = ua.isPhone ? phoneList : pcList;\r\n  return (\r\n    <div className={\"flex flex-col w-screen min-h-screen relative\"}>\r\n      <Navbar className=\"sticky top-0 z-50\" color=\"lightBlue\" navbar>\r\n        <NavbarContainer>\r\n          <NavbarWrapper>\r\n            <NavbarBrand>赛马娘</NavbarBrand>\r\n            <NavbarToggler\r\n              color=\"white\"\r\n              onClick={() => setOpenNavbar(!openNavbar)}\r\n              ripple=\"light\"\r\n            />\r\n          </NavbarWrapper>\r\n\r\n          <NavbarCollapse open={openNavbar}>\r\n            <Nav leftSide>\r\n              {list.map((item) => (\r\n                <Link to={item.path}>\r\n                  <NavLink active={location.pathname === item.path && \"light\"} ripple=\"light\">\r\n                    {t(item.title)}\r\n                  </NavLink>\r\n                </Link>\r\n              ))}\r\n            </Nav>\r\n          </NavbarCollapse>\r\n        </NavbarContainer>\r\n      </Navbar>\r\n      {children}\r\n      <div className=\"w-full flex items-center flex-wrap pb-10 md:pb-0\">\r\n        <div className=\"cursor-pointer\" data-tip=\"无法打开育成页面时点一哈\" onClick={resetNur}>\r\n          {t(\"初始化育成\")}\r\n        </div>\r\n        <LanButton></LanButton>\r\n        <div className=\"flex-auto\"></div>\r\n        <iframe\r\n          title=\"GitHub\"\r\n          src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\"\r\n          frameBorder=\"0\"\r\n          scrolling=\"0\"\r\n          width=\"160px\"\r\n          height=\"30px\"\r\n        ></iframe>\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\"\r\n          data-tip={`\r\n          <img src=${cdnServer + \"img/q.jpg\"} width={300} />\r\n          <p>${t(\"闲聊为主\")}</p>\r\n          `}\r\n        >\r\n          <img\r\n            border=\"0\"\r\n            src=\"//pub.idqqimg.com/wpa/images/group.png\"\r\n            alt=\"轻 松 赛 马\"\r\n            title=\"轻 松 赛 马\"\r\n          />\r\n        </a>\r\n        <div\r\n          className=\"flex mx-2 items-center\"\r\n          data-tip={`<img src=${cdnServer + \"img/weapp.jpg\"} width={200} />`}\r\n        >\r\n          <img alt=\"reimu\" src={cdnServer + \"reimu.gif\"} preview={false} width={24} />\r\n          <div>{t(\"微信小程序\")}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Layout;\r\n","import low from 'lowdb';\r\n// import LocalStorage from 'lowdb/adapters/LocalStorage'\r\nimport Memory from 'lowdb/adapters/Memory'\r\n// import axios from 'axios'\r\nimport jsonDB from './assert/db.json'\r\n\r\n// const adapter = new LocalStorage('db')\r\nconst adapterM = new Memory()\r\nconst db = low(adapterM)\r\n\r\n\r\n// const d = async ()=>{\r\n//   // let res = await axios.get('https://urarawin.com/d')\r\n//   let res = await axios.get('https://urarawin.com/api/sqlite/d')\r\n//   db.set('userId',res.data).write()\r\n// }\r\n// db.get('userId').value()||d()\r\n\r\ndb.set('players',jsonDB.players).write()\r\ndb.set('supports',jsonDB.supports).write()\r\ndb.set('skills',jsonDB.skills).write()\r\ndb.set('events',jsonDB.events).write()\r\ndb.set('updateTime',jsonDB.updateTime).write()\r\ndb.set('races',jsonDB.races).write()\r\ndb.set('buffs',jsonDB.buffs).write()\r\ndb.set('effects',jsonDB.effects).write()\r\n\r\n// db.get('lan').value()==='zh'&&db.set('lan','cn').write()\r\n// db.get('lan').value()==='en'&&db.set('lan','us').write()\r\n//重新加载\r\n\r\n// db.get('lan').value()||db.set('lan','cn').write()\r\n// db.get('selected').value()||db.set('selected',{\r\n//   supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\r\n//   player:{},\r\n//   races:[]\r\n// }).write()\r\n// db.get('myDecks').value()||db.set('myDecks',[]).write()\r\n// db.get('mySupports').value()||db.set('mySupports',[]).write()\r\nexport  default db\r\n","import React, { useState } from \"react\";\r\nimport { Table } from \"antd\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Layout from \"../../components/common/Layout.js\";\r\nimport db from \"../../db.js\";\r\nimport t from \"../../components/t.js\";\r\nconst TITLE = \"比赛 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\nconst filterList = {\r\n  class: [\r\n    { text: \"初等/ジュニア\", value: \"ジュニア\" },\r\n    { text: \"经典/クラシック\", value: \"クラシック\" },\r\n    { text: \"经典&高级/クラシックシニア\", value: \"クラシックシニア\" },\r\n    { text: \"高级/シニア\", value: \"シニア\" },\r\n  ],\r\n  grade: [\r\n    { text: \"Pre-OP\", value: \"Pre-OP\" },\r\n    { text: \"OP\", value: \"OP\" },\r\n    { text: \"G1\", value: \"G1\" },\r\n    { text: \"G2\", value: \"G2\" },\r\n    { text: \"G3\", value: \"G3\" },\r\n  ],\r\n  place: [\r\n    { text: \"中京\", value: \"中京\" },\r\n    { text: \"函館\", value: \"函館\" },\r\n    { text: \"札幌\", value: \"札幌\" },\r\n    { text: \"小倉\", value: \"小倉\" },\r\n    { text: \"新潟\", value: \"新潟\" },\r\n    { text: \"阪神\", value: \"阪神\" },\r\n    { text: \"中山\", value: \"中山\" },\r\n    { text: \"京都\", value: \"京都\" },\r\n    { text: \"東京\", value: \"東京\" },\r\n    { text: \"福島\", value: \"福島\" },\r\n    { text: \"大井\", value: \"大井\" },\r\n  ],\r\n  ground: [\r\n    { text: \"芝\", value: \"芝\" },\r\n    { text: \"ダート\", value: \"ダート\" },\r\n  ],\r\n  distanceType: [\r\n    { text: \"短距離\", value: \"短距離\" },\r\n    { text: \"マイル\", value: \"マイル\" },\r\n    { text: \"中距離\", value: \"中距離\" },\r\n    { text: \"長距離\", value: \"長距離\" },\r\n  ],\r\n  direction: [\r\n    { text: \"左\", value: \"左\" },\r\n    { text: \"右\", value: \"右\" },\r\n    { text: \"直\", value: \"直\" },\r\n  ],\r\n  side: [\r\n    { text: \"空\", value: null },\r\n    { text: \"内\", value: \"内\" },\r\n    { text: \"外\", value: \"外\" },\r\n    { text: \"線\", value: \"線\" },\r\n  ],\r\n};\r\nconst labels = [\r\n  \"name\",\r\n  \"date\",\r\n  \"class\",\r\n  \"grade\",\r\n  \"place\",\r\n  \"ground\",\r\n  \"distance\",\r\n  \"distanceType\",\r\n  \"direction\",\r\n  \"side\",\r\n];\r\nconst labelTextDict = {\r\n  name: t(\"名称\"),\r\n  date: t(\"时间\"),\r\n  class: t(\"年级\"),\r\n  grade: t(\"赛事等级\"),\r\n  place: t(\"地点\"),\r\n  ground: t(\"场地\"),\r\n  distance: t(\"长度\"),\r\n  distanceType: t(\"赛程\"),\r\n  direction: t(\"方向\"),\r\n  side: t(\"赛道\"),\r\n};\r\nconst getCorrespondingLabelText = (label) => {\r\n  return labelTextDict[label];\r\n};\r\nconst mediumLabels = [\"name\", \"date\", \"class\", \"grade\", \"ground\", \"distanceType\"];\r\nconst getColumns = (labels) => {\r\n  return labels.map((label) => {\r\n    if (filterList[\"class\"]) {\r\n      return {\r\n        title: getCorrespondingLabelText(label),\r\n        dataIndex: label,\r\n        filters: filterList[label],\r\n        width: 100,\r\n        fixed: label === 'name' ? 'left' : null,\r\n        onFilter: (value, record) => record[label] === value,\r\n      };\r\n    } else {\r\n      return {\r\n        fixed: label === 'name' ? 'left' : null,\r\n        title: getCorrespondingLabelText(label),\r\n        dataIndex: label,\r\n      };\r\n    }\r\n  });\r\n};\r\n\r\nconst Race = (props) => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  const useViewport = () => {\r\n    // const [width, setWidth] = React.useState(window.innerWidth);\r\n    const [height, setHeight] = React.useState(window.innerHeight);\r\n    React.useEffect(() => {\r\n      const handleWindowResize = () => setHeight(window.innerHeight);\r\n      window.addEventListener(\"resize\", handleWindowResize);\r\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n    }, []);\r\n    return { height };\r\n  };\r\n\r\n  const dynamicTableHeight = useViewport().height - 168;\r\n\r\n  const allRaceList = db\r\n    .get(\"races\")\r\n    .value()\r\n    .map((race, index) => {\r\n      race.key = index;\r\n      return race;\r\n    });\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  let columns = getColumns(labels);\r\n  if (props.type === \"medium\") {\r\n    columns = getColumns(mediumLabels);\r\n  }\r\n  const onSelectChange = (selectedRowKeys, selectedRows) => {\r\n    let selected = {};\r\n    for (let race of selectedRows) {\r\n      if (selected[race.dateNum]) {\r\n        selected[race.dateNum].push(race.id);\r\n      } else {\r\n        selected[race.dateNum] = [race.id];\r\n      }\r\n    }\r\n    props.onSelect(selected);\r\n    setSelectedRowKeys(selectedRowKeys);\r\n  };\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n  };\r\n  // 筛选发生变化时清空已经选择的内容\r\n  const onChange = (pagination, filters, sorter, extra) => {\r\n    props.onSelect([]);\r\n    setSelectedRowKeys([]);\r\n  };\r\n  return (\r\n    <div className={'w-full overflow-x-auto'}>\r\n      <Table\r\n        rowSelection={props.onSelect ? rowSelection : null}\r\n        columns={columns}\r\n        dataSource={allRaceList}\r\n        onChange={onChange}\r\n        pagination={false}\r\n        scroll={{ y: dynamicTableHeight }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Race;\r\n","import { useState } from \"react\";\r\nimport { cdnServer } from \"../../config\";\r\nimport t from \"../t.js\";\r\nconst PlayerCard = (props) => {\r\n  const { data, onClick, className } = props;\r\n  const [show, setShow] = useState(true);\r\n  return data ? (\r\n    <div\r\n      className={`relative cursor-pointer ${className}`}\r\n      onClick={onClick}\r\n      style={{\r\n        paddingBottom: \"100%\",\r\n      }}\r\n    >\r\n      <div className=\"absolute top-3 left-1 right-1 bottom-2 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\r\n        <p className=\"truncate\">{t(data.charaName)}</p>\r\n        <p className=\"truncate\">{t(data.name)}</p>\r\n      </div>\r\n      {show && (\r\n        <img\r\n          className=\"absolute top-0\"\r\n          style={{ \"aspect-ratio\": \"32 / 35\" }}\r\n          onError={() => setShow(false)}\r\n          alt={data.name}\r\n          src={cdnServer + data.imgUrl}\r\n          width={\"100%\"}\r\n        />\r\n      )}\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default PlayerCard;\r\n","import t from \"../t.js\";\r\nconst EventCard = (props) => {\r\n  const { data, onClick, className } = props;\r\n  return data ? (\r\n    <div\r\n      className={`border border-solid border-gray-700 px-2 rounded truncate cursor-pointer ${className}`}\r\n      onClick={onClick}\r\n      data-tip={`<div>${data.choiceList\r\n        .map(\r\n          (choice, index) =>\r\n            `<div className=\"w-full flex\"><div>${choice[0]}</div><div>------</div>${choice[1]\r\n              .map((result) => `<div>${result}</div>`)\r\n              .join(\"\")}</div>`\r\n        )\r\n        .join(\"<div>===========</div>\")}</div>`}\r\n    >\r\n      {data.name}\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default EventCard;\r\n","import t from \"../t.js\";\r\nconst EventDetail = ({ data }) => {\r\n  // const ChoiceItem = props.event?.choiceList.map((choice,index)=>{\r\n  //   const ResultItem = choice[1].map((result,index)=>\r\n  //     <p key={index}>{result}</p>\r\n  //   )\r\n  //   return(\r\n  //     <Row key={index} gutter={[8,8]} className=\"list-row\">\r\n  //       <Col span={12}>\r\n  //         <p>{choice[0]}</p>\r\n  //         <p>{t(choice[0])}</p>\r\n  //       </Col>\r\n  //       <Col span={12}>{ResultItem}</Col>\r\n  //     </Row>\r\n  //   )\r\n  // })\r\n  return data ? (\r\n    <div className=\"\">\r\n      <div className=\"text-lg font-semibold\">{data.name}</div>\r\n      {data.choiceList.map((choice, index) => (\r\n        <div className={`w-full flex ${index % 2 === 0 ? \"bg-white\" : \"bg-gray-100\"}`}>\r\n          <div className=\"w-1/3 mr-4\">\r\n            <p>{choice[0]}</p>\r\n            <p>{t(choice[0])}</p>\r\n          </div>\r\n          <div className=\"flex-auto\">\r\n            {choice[1].map((result) => (\r\n              <p>{result}</p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  ) : null;\r\n};\r\nexport default EventDetail;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport Modal from \"@material-tailwind/react/Modal\";\r\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\r\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\r\nimport db from \"../../db.js\";\r\nimport t from \"../t.js\";\r\n\r\nconst List = ({\r\n  className,\r\n  listKey,\r\n  sort,\r\n  filterFunc,\r\n  idList,\r\n  dataList,\r\n  itemRender,\r\n  itemClass,\r\n  detailRender,\r\n  detailModalSize,\r\n}) => {\r\n  const [show, setShow] = React.useState(false);\r\n  const list = dataList\r\n    ? dataList\r\n    : idList\r\n    ? idList.reduce((list, cur) => {\r\n        return [...list, db.get(listKey).find({ id: cur }).value()];\r\n      }, [])\r\n    : db.get(listKey).value();\r\n  const [cur, setCur] = useState(null);\r\n\r\n  const showModal = (cur) => {\r\n    setCur(cur);\r\n    setShow(true);\r\n  };\r\n\r\n  const modal = (\r\n    <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\r\n      <ModalHeader toggler={() => setShow(false)}>{cur?.name}</ModalHeader>\r\n      <ModalBody>{detailRender(cur)}</ModalBody>\r\n    </Modal>\r\n  );\r\n\r\n  useEffect(() => {\r\n    ReactTooltip.rebuild();\r\n  });\r\n  if (!list) {\r\n    return <></>;\r\n  }\r\n\r\n  if (sort) {\r\n    return (\r\n      <div className={` flex flex-wrap ${className}`}>\r\n        {sort.data.map((sortItem) => {\r\n          let sortList = list.filter((item) => {\r\n            let flag = false;\r\n            if (sort.key && sortItem.value) {\r\n              flag = item[sort.key] == sortItem.value;\r\n            }\r\n            if (sortItem.func) {\r\n              flag = sortItem.func(item);\r\n            }\r\n            return flag;\r\n          });\r\n          if (!sortList.length) {\r\n            return <></>;\r\n          }\r\n          return (\r\n            <>\r\n              <div className=\"w-full text-lg font-semibold text-center\">{t(sortItem.title)}</div>\r\n              {sortList.map((data) => itemRender(data, showModal))}\r\n              {itemClass && (\r\n                <>\r\n                  {[...new Array(20)].map((i) => (\r\n                    <div className={itemClass} />\r\n                  ))}\r\n                </>\r\n              )}\r\n            </>\r\n          );\r\n        })}\r\n        {modal}\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className={` flex flex-wrap ${className}`}>\r\n        {list\r\n          .filter((data) => (filterFunc ? filterFunc(data) : true))\r\n          .map((data) => itemRender(data, showModal))}\r\n        {modal}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default List;\r\n","import React from \"react\";\r\n\r\nimport db from \"../../db.js\";\r\nimport dbL from \"../../dbL.js\";\r\nimport t from \"../t.js\";\r\n\r\nimport EventCard from \"./EventCard\";\r\nimport EventDetail from \"./EventDetail\";\r\nimport List from \"../common/List\";\r\n\r\nconst EventList = ({ dataList, idList, onClick, sortFlag = false, type = \"all\" }) => {\r\n  const sort = sortFlag\r\n    ? {\r\n        data: [\r\n          { title: \"切れ者\", func: (data) => JSON.stringify(data)?.indexOf(\"切れ者\") !== -1 },\r\n          { title: \"有选项\", func: (data) => data?.choiceList.length > 1 },\r\n          { title: \"无选项\", func: (data) => data?.choiceList.length <= 1 },\r\n        ],\r\n      }\r\n    : null;\r\n  const filterFunc =\r\n    type === \"multi\"\r\n      ? (data) => {\r\n          return data?.choiceList.length > 1;\r\n        }\r\n      : null;\r\n  return (\r\n    <List\r\n      listKey=\"events\"\r\n      dataList={dataList}\r\n      idList={idList}\r\n      sort={sort}\r\n      filterFunc={filterFunc}\r\n      onClick={onClick}\r\n      className=\"\"\r\n      itemRender={(item, setCur) => (\r\n        <EventCard\r\n          className=\"mr-1 mb-1\"\r\n          data={item}\r\n          onClick={() => (onClick ? onClick(item) : setCur(item))}\r\n        />\r\n      )}\r\n      detailRender={(item) => <EventDetail data={item} isNur={false} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EventList;\r\n","import { useState } from \"react\";\r\nimport { cdnServer } from \"../../config\";\r\nimport t from \"../t.js\";\r\nconst SkillCard = (props) => {\r\n  const { data, onClick, className } = props;\r\n  const [show, setShow] = useState(true);\r\n  return data ? (\r\n    <div\r\n      className={` rounded border-solid border-2  flex items-center cursor-pointer ${\r\n        data.rarity === 1 && \"bg-white\"\r\n      } ${data.rarity === 2 && \"bg-yellow-300\"} ${data.rarity === 3 && \" bg-purple-400\"} ${\r\n        data.rarity === 4 && \" bg-purple-400\"\r\n      } ${data.rarity === 5 && \" bg-purple-400\"} ${className}`}\r\n      onClick={onClick}\r\n      data-tip={`<div>${t(data.describe)}</div><div>${t(data.condition)}</div>`}\r\n    >\r\n      {show && (\r\n        <img\r\n          className=\"w-5 h-5 overflow-hidden\"\r\n          onError={() => setShow(false)}\r\n          alt={data.name}\r\n          src={cdnServer + data.imgUrl}\r\n          preview={false}\r\n        />\r\n      )}\r\n      <div className=\"flex-auto truncate\">{data.name}</div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default SkillCard;\r\n","import { useState } from \"react\";\r\nimport { cdnServer } from \"../../config\";\r\nimport t from \"../t.js\";\r\nconst SupportCard = (props) => {\r\n  const { data, onClick, className } = props;\r\n  const [show, setShow] = useState(true);\r\n  return data ? (\r\n    <div\r\n      className={`relative cursor-pointer ${className}`}\r\n      onClick={onClick}\r\n      style={{\r\n        paddingBottom: \"134%\",\r\n      }}\r\n    >\r\n      <div className=\"absolute inset-1 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\r\n        <p className=\"\">{t(data.charaName)}</p>\r\n        <p className=\"\">{t(data.name)}</p>\r\n      </div>\r\n      {show && (\r\n        <img\r\n          className=\"absolute top-0\"\r\n          onError={() => setShow(false)}\r\n          alt={data.name}\r\n          src={cdnServer + data.imgUrl}\r\n          width={\"100%\"}\r\n        />\r\n      )}\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default SupportCard;\r\n","import React from \"react\";\r\n// import {useState} from 'react';\r\nimport { Table, Popover, Slider, div, Col } from \"antd\";\r\n\r\nimport db from \"../../db.js\";\r\nimport dbL from \"../../dbL.js\";\r\nimport t from \"../t.js\";\r\n\r\nconst ua = dbL.get(\"ua\").value();\r\nconst limits = [\r\n  \"init\",\r\n  \"limit_lv5\",\r\n  \"limit_lv10\",\r\n  \"limit_lv15\",\r\n  \"limit_lv20\",\r\n  \"limit_lv25\",\r\n  \"limit_lv30\",\r\n  \"limit_lv35\",\r\n  \"limit_lv40\",\r\n  \"limit_lv45\",\r\n  \"limit_lv50\",\r\n];\r\nconst getValue = (effect, cur) => {\r\n  if (effect[cur] !== -1) {\r\n    return effect[cur];\r\n  } else {\r\n    let index = limits.indexOf(cur);\r\n    let min = 0;\r\n    let min_limit = \"init\";\r\n    let max = 0;\r\n    let max_limit = \"limit_lv50\";\r\n    for (let limit of limits.slice(0, index)) {\r\n      if (effect[limit] > min) {\r\n        min = effect[limit];\r\n        min_limit = limit;\r\n      }\r\n    }\r\n    for (let limit of limits.slice(index, limits.length)) {\r\n      if (effect[limit] !== -1) {\r\n        max = effect[limit];\r\n        max_limit = limit;\r\n        break;\r\n      }\r\n    }\r\n    // cur=40 lv35=40 lv40=-1 lv50=-1\r\n    if (max <= min || max - min === 1 || min === 0) {\r\n      return min;\r\n    } else {\r\n      return (\r\n        <div data-tip=\"插值\">\r\n          {Math.floor(\r\n            min +\r\n            ((max - min) * (limits.indexOf(cur) - limits.indexOf(min_limit))) /\r\n            (limits.indexOf(max_limit) - limits.indexOf(min_limit))\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\nconst EffectTable = (props) => {\r\n  const effects = db.get(\"effects\").value();\r\n  let columns = [\r\n    {\r\n      title: t(\"效果\"),\r\n      dataIndex: \"type\",\r\n      key: \"type\",\r\n      width: 200,\r\n      render: (type) => (\r\n        <p\r\n          data-tip={`<div><p>${effects[type].name}</p><p>${t(effects[type].name)}</p><p>${effects[type].description\r\n            }</p><p>${t(effects[type].description)}</p></div>`}\r\n        >\r\n          {t(effects[type].name)}\r\n        </p>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"初始\"),\r\n      dataIndex: \"init\",\r\n      key: \"init\",\r\n      render: (div, record) => getValue(record, \"init\"),\r\n    },\r\n    {\r\n      title: \"lv25\",\r\n      dataIndex: \"limit_lv25\",\r\n      key: \"limit_lv25\",\r\n      render: (div, record) => getValue(record, \"limit_lv25\"),\r\n    },\r\n    {\r\n      title: \"lv30\",\r\n      dataIndex: \"limit_lv30\",\r\n      key: \"limit_lv30\",\r\n      render: (div, record) => getValue(record, \"limit_lv30\"),\r\n    },\r\n    {\r\n      title: \"lv35\",\r\n      dataIndex: \"limit_lv35\",\r\n      key: \"limit_lv35\",\r\n      render: (div, record) => getValue(record, \"limit_lv35\"),\r\n    },\r\n    {\r\n      title: \"lv40\",\r\n      dataIndex: \"limit_lv40\",\r\n      key: \"limit_lv40\",\r\n      render: (div, record) => getValue(record, \"limit_lv40\"),\r\n    },\r\n    {\r\n      title: \"lv45\",\r\n      dataIndex: \"limit_lv45\",\r\n      key: \"limit_lv45\",\r\n      render: (div, record) => getValue(record, \"limit_lv45\"),\r\n    },\r\n    {\r\n      title: \"lv50\",\r\n      dataIndex: \"limit_lv50\",\r\n      key: \"limit_lv50\",\r\n      render: (div, record) => getValue(record, \"limit_lv50\"),\r\n    },\r\n  ];\r\n  if (props.rarity === 2) {\r\n    columns = columns.slice(0, columns.length - 1);\r\n  } else if (props.rarity === 1) {\r\n    columns = columns.slice(0, columns.length - 2);\r\n  }\r\n\r\n  return (\r\n    <div className='w-full overflow-x-auto'>\r\n      <Table columns={columns} dataSource={props.effects} divKey=\"type\" pagination={false}></Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getEffectMark = (maxLevel) => {\r\n  let ok = {\r\n    1: \"lv1\",\r\n    5: \"lv5\",\r\n    10: \"lv10\",\r\n    15: \"lv15\",\r\n    20: \"lv20\",\r\n    25: \"lv25\",\r\n    30: \"lv30\",\r\n    35: \"lv35\",\r\n    40: \"lv40\",\r\n  };\r\n  if (maxLevel >= 45) {\r\n    ok[45] = \"lv45\";\r\n  }\r\n  if (maxLevel === 50) {\r\n    ok[50] = \"lv50\";\r\n  }\r\n  return ok;\r\n};\r\n\r\nclass TestEffectTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.effects = db.get(\"effects\").value();\r\n    let maxLevel = 1;\r\n    switch (props.rarity) {\r\n      case 1:\r\n        maxLevel = 40;\r\n        break;\r\n      case 2:\r\n        maxLevel = 45;\r\n        break;\r\n      case 3:\r\n        maxLevel = 50;\r\n        break;\r\n      default:\r\n        maxLevel = 1;\r\n    }\r\n\r\n    this.maxLevel = maxLevel;\r\n    this.state = {\r\n      selectingLevel: maxLevel,\r\n    };\r\n  }\r\n\r\n  calc(data, input) {\r\n    let nodes = [];\r\n    let output = 0;\r\n    const maxLevel = this.maxLevel;\r\n    let prevNode = { level: 0, value: 0 };\r\n    for (let i = 0; i < data.length; i += 1) {\r\n      if (data[i] !== -1) {\r\n        let level = i * 5;\r\n        if (level === 0) {\r\n          level = 1;\r\n        }\r\n        nodes.push({ level: level, value: data[i] });\r\n        prevNode = { level: level, value: data[i] };\r\n      }\r\n      if (i === data.length - 1 && data[i] === -1) {\r\n        nodes.push({ level: maxLevel, value: prevNode.value });\r\n      }\r\n    }\r\n    nodes.push({ level: 999, value: prevNode.value }); // 以后万一出SSSR？确保一定能找到区间。\r\n\r\n    const level = Math.floor(input);\r\n    let upperNode = { level: 0, value: 0 };\r\n    let lowerNode = { level: 0, value: 0 };\r\n    if (level < 0 || level > maxLevel) {\r\n      output = 0;\r\n    } else if (level < nodes[0].level) {\r\n      output = 0;\r\n    } else {\r\n      for (let i = 0; i < nodes.length; i += 1) {\r\n        if (level >= nodes[i].level && level < nodes[i + 1].level) {\r\n          lowerNode = nodes[i];\r\n          upperNode = nodes[i + 1] || nodes[i];\r\n          break;\r\n        }\r\n      }\r\n      output = Math.floor(\r\n        ((upperNode.value - lowerNode.value) / (upperNode.level - lowerNode.level)) *\r\n        (level - lowerNode.level) +\r\n        lowerNode.value\r\n      );\r\n    }\r\n\r\n    return output;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.unique_effect && (\r\n          <>\r\n            <div className=\"flex w-full items-center justify-between p-2\">\r\n              <div>{t(\"固有效果\")}</div>\r\n              <div>{`${t(\"激活等级\")}:${this.props.unique_effect.lv}`}</div>\r\n            </div>\r\n            <div className=\"w-full grid grid-cols-2 gap-2\">\r\n              {[\"0\", \"1\"].map((index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\r\n                >\r\n                  <div\r\n                    className=\"flex-auto truncate pl-2\"\r\n                    data-tip={`<div><p>${this.effects[this.props.unique_effect[`type_${index}`]].name\r\n                      }</p><p>${t(\r\n                        this.effects[this.props.unique_effect[`type_${index}`]].name\r\n                      )}</p><p>${this.effects[this.props.unique_effect[`type_${index}`]].description\r\n                      }</p><p>${t(\r\n                        this.effects[this.props.unique_effect[`type_${index}`]].description\r\n                      )}</p></div>`}\r\n                  >\r\n                    {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\r\n                  </div>\r\n                  <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\r\n                    {this.props.unique_effect[`value_${index}`]}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n        <div className=\"w-full flex items-center\">\r\n          <div className=\"mr-2\">{t(\"设置等级\")}</div>\r\n          <Slider\r\n            className=\"flex-auto\"\r\n            min={1}\r\n            max={this.maxLevel}\r\n            value={this.state.selectingLevel}\r\n            onChange={(value) => {\r\n              this.setState({ selectingLevel: value });\r\n            }}\r\n            marks={getEffectMark(this.maxLevel)}\r\n          />\r\n        </div>\r\n        <div className=\"w-full grid grid-cols-2 gap-2 \">\r\n          {this.props.effects?.map((item, index) => {\r\n            const data = [\r\n              item.init,\r\n              item.limit_lv5,\r\n              item.limit_lv10,\r\n              item.limit_lv15,\r\n              item.limit_lv20,\r\n              item.limit_lv25,\r\n              item.limit_lv30,\r\n              item.limit_lv35,\r\n              item.limit_lv40,\r\n              item.limit_lv45,\r\n              item.limit_lv50,\r\n            ].filter((item) => item);\r\n            return (\r\n              <div className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\">\r\n                <div\r\n                  className=\"flex-auto truncate pl-2\"\r\n                  data-tip={`<div><p>${this.effects[item.type].name}</p><p>${t(\r\n                    this.effects[item.type].name\r\n                  )}</p><p>${this.effects[item.type].description}</p><p>${t(\r\n                    this.effects[item.type].description\r\n                  )}</p></div>`}\r\n                >\r\n                  {t(this.effects[item.type].name)}\r\n                </div>\r\n                <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\r\n                  {this.calc(data, this.state.selectingLevel)}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { EffectTable, TestEffectTable };\r\n","import React, { useState } from \"react\";\r\n\r\nimport db from \"../../db.js\";\r\nimport dbL from \"../../dbL.js\";\r\nimport t from \"../t.js\";\r\n\r\nimport EventList from \"../event/EventList\";\r\nimport SkillList from \"../skill/SkillList\";\r\nimport { EffectTable, TestEffectTable } from \"../effect\";\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n\r\nconst SupportDetail = (props) => {\r\n  const id = props.id;\r\n  const data = props.data || db.get(\"supports\").find({ id }).value();\r\n  return data ? (\r\n    <div className=\"w-full flex flex-col p-3 overflow-x-hidden\">\r\n      <div className=\"h-16 w-full flex flex-shrink-0\">\r\n        <img alt={data.name} src={cdnServer + data.imgUrl} height={64} width={48} />\r\n        <div className=\"flex-auto flex flex-wrap h-full items-center\">\r\n          <div className=\"w-full flex items-center justify-between\">\r\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.name}</div>\r\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.name)}</div>\r\n          </div>\r\n          <div className=\"w-full flex items-center justify-between\">\r\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.charaName}</div>\r\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.charaName)}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>{t(\"事件\")}</div>\r\n      <EventList idList={data.eventList} pid={data.id} />\r\n      <div>{t(\"事件技能\")}</div>\r\n      <SkillList idList={data.trainingEventSkill} />\r\n      <div>{t(\"训练技能\")}</div>\r\n      <SkillList idList={data.possessionSkill} />\r\n      <TestEffectTable\r\n        effects={data.effects}\r\n        unique_effect={data.unique_effect}\r\n        rarity={data.rarity}\r\n      />\r\n      <EffectTable effects={data.effects} rarity={data.rarity} />\r\n    </div>\r\n  ) : null;\r\n};\r\nexport default SupportDetail;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport SupportCard from \"./SupportCard\";\r\nimport SupportDetail from \"./SupportDetail\";\r\nimport List from \"../common/List\";\r\nimport useUa from \"../../utils/ua\";\r\nconst SupportList = ({ className, dataList, onClick, sortFlag = false, ownList }) => {\r\n  const ua = useUa();\r\n  const history = useHistory();\r\n  const sort = sortFlag\r\n    ? {\r\n        key: \"rare\",\r\n        data: [\r\n          { value: \"SSR\", title: \"SSR\" },\r\n          { value: \"SR\", title: \"SR\" },\r\n          { value: \"R\", title: \"R\" },\r\n        ],\r\n      }\r\n    : null;\r\n  return (\r\n    <List\r\n      className={className}\r\n      listKey=\"supports\"\r\n      dataList={dataList}\r\n      sort={sort}\r\n      onClick={onClick}\r\n      itemRender={(data, setCur) => (\r\n        <div className=\"w-24 max-w-1/4 p-1\">\r\n          <SupportCard\r\n            className={`${ownList?.length && !ownList?.includes(data.id) && \"un-chosen-card\"}`}\r\n            data={data}\r\n            onClick={() =>\r\n              onClick\r\n                ? onClick(data)\r\n                : ua.isPhone\r\n                ? history.push(`/support-detail/${data.id}`)\r\n                : setCur(data)\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n      itemClass={\"w-24 max-w-1/4\"}\r\n      detailRender={(data) => <SupportDetail data={data} isNur={false} />}\r\n      // detailModalSize='regular'\r\n    />\r\n  );\r\n};\r\n\r\nexport default SupportList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport db from \"../../db.js\";\r\nimport t from \"../t.js\";\r\nimport SupportList from \"../support/SupportList\";\r\nimport PlayerList from \"../player/PlayerList\";\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n\r\nconst allSupportList = db.get(\"supports\").value();\r\nconst allPlayerList = db.get(\"players\").value();\r\n\r\nconst skillType = {\r\n  1: \"速度属性\",\r\n  2: \"耐力属性\",\r\n  3: \"力量属性\",\r\n  4: \"毅力属性\",\r\n  5: \"智力属性\",\r\n  6: \"体力\",\r\n  7: \"体力消耗\",\r\n  8: \"视野\",\r\n  9: \"体力恢复\",\r\n  10: \"出栏时机\",\r\n  13: \"掛かり时间\",\r\n  14: \"掛かり结束时间\",\r\n  21: \"瞬时速度\",\r\n  27: \"目标速度\",\r\n  28: \"走位速度\",\r\n  31: \"加速度\",\r\n};\r\nconst SkillDetail = (props) => {\r\n  const id = props.id;\r\n  const data = props.data || db.get(\"skills\").find({ id }).value();\r\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur);\r\n  const supportList = allSupportList\r\n    .filter((support) => {\r\n      let flag = 0;\r\n      support.skillList.forEach((id) => {\r\n        if (id === data?.id) {\r\n          flag = 1;\r\n        }\r\n      });\r\n      return flag;\r\n    })\r\n    .sort((a, b) => b.rarity - a.rarity);\r\n  const playerList = allPlayerList\r\n    .filter((player) => {\r\n      let flag = 0;\r\n      player.skillList.forEach((id) => {\r\n        if (id === data?.id) {\r\n          flag = 1;\r\n        }\r\n      });\r\n      return flag;\r\n    })\r\n    .sort((a, b) => b.rarity - a.rarity);\r\n\r\n  return data ? (\r\n    <div\r\n      className=\"w-full flex flex-col p-3\"\r\n      style={{\r\n        maxWidth: \"calc(100vw - 40px)\",\r\n      }}\r\n    >\r\n      <div className=\"w-full flex mb-1 bg-gray-100 items-center\">\r\n        <div className=\"w-20 flex items-center justify-center\">\r\n          <img alt={data.name} src={cdnServer + data.imgUrl} className=\"w-14\" />\r\n        </div>\r\n        <div className=\"flex-auto\">\r\n          <p>{t(data.name)}</p>\r\n          <p className=\"text-gray-500\">{data.name}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能描述\")}</div>\r\n        <div className=\"flex-auto\">\r\n          <p>{t(data.describe)}</p>\r\n          <p className=\"text-gray-500\">{data.describe}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1 bg-gray-100\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"触发条件\")}</div>\r\n        <div className=\"flex-auto\">\r\n          <p>{t(data.condition)}</p>\r\n          <p className=\"text-gray-500\">{data.condition}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能效果\")}</div>\r\n        <div className=\"flex-auto\">\r\n          {data.ability?.map((ability) => {\r\n            return <span>{`${skillType[ability.type]} ${ability.value / 10000}`}</span>;\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1 bg-gray-100\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"持续时间\")}</div>\r\n        <div className=\"flex-auto\">\r\n          {`${data.ability_time / 10000}s * ${t(\"赛道长度\")} / 1000}`}\r\n        </div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"冷却时间\")}</div>\r\n        <div className=\"flex-auto\">{`${data.cooldown / 10000}s * ${t(\"赛道长度\")} / 1000`}</div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1 bg-gray-100\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能价格\")}</div>\r\n        <div className=\"flex-auto\">{data.need_skill_point}</div>\r\n      </div>\r\n      <div className=\"w-full flex mb-1\">\r\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能评分\")}</div>\r\n        <div className=\"flex-auto\">{data.grade_value}</div>\r\n      </div>\r\n      {!isNur && supportList.length ? (\r\n        <>\r\n          <div>{t(\"支援卡\")}</div>\r\n          <SupportList className=\"w-full\" dataList={supportList} sortFlag={false} />\r\n        </>\r\n      ) : null}\r\n      {!isNur && playerList.length ? (\r\n        <>\r\n          <div>{t(\"角色\")}</div>\r\n          <PlayerList className=\"w-full\" dataList={playerList} />\r\n        </>\r\n      ) : null}\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default SkillDetail;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport SkillCard from \"./SkillCard\";\r\nimport SkillDetail from \"./SkillDetail\";\r\nimport List from \"../common/List\";\r\nimport useUa from \"../../utils/ua\";\r\nconst SkillList = ({ className, idList, dataList, onClick, sortFlag = false, size = \"medium\" }) => {\r\n  const ua = useUa();\r\n  const history = useHistory();\r\n  const sort = {\r\n    key: \"rare\",\r\n    data: [\r\n      { value: \"ノーマル\", title: \"普通\" },\r\n      { value: \"レア\", title: \"金色 稀有\" },\r\n      { value: \"固有\", title: \"独特\" },\r\n    ],\r\n  };\r\n  return (\r\n    <List\r\n      className={className}\r\n      listKey=\"skills\"\r\n      idList={idList}\r\n      dataList={dataList}\r\n      sort={sortFlag && sort}\r\n      itemRender={(data, setCur) => (\r\n        <div\r\n          className={`${size === \"medium\" && \"w-1/3 md:max-w-none md:w-unset h-8 p-1 md:p-2\"} ${\r\n            size === \"small\" && \"h-6 p-1\"\r\n          }`}\r\n        >\r\n          <SkillCard\r\n            className={\"md:px-1 \"}\r\n            data={data}\r\n            onClick={\r\n              () => (onClick ? onClick(data) : setCur(data))\r\n              // ua.isPhone\r\n              // ? history.push(`/skill-detail/${data.id}`)\r\n              // : setCur(data)\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n      detailRender={(data) => <SkillDetail data={data} isNur={false} />}\r\n      // detailModalSize='regular'\r\n    />\r\n  );\r\n};\r\n\r\nexport default SkillList;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\nimport db from \"../../db.js\";\r\n// import dbL from '../dbL.js'\r\n\r\nimport { Row, Col, Timeline, Checkbox } from \"antd\";\r\n// import { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\r\n// import { getTimeProps } from 'antd/lib/date-picker/generatePicker';\r\nimport t from \"../t.js\";\r\n\r\n// const ua = dbL.get('ua').value();\r\n\r\nconst RaceSchedule = (props) => {\r\n  // const races = db.get('races').value()\r\n  const str = [];\r\n  const getDate = (i) => {\r\n    let year = Math.floor(i / 24) + 1;\r\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\r\n    let moment = i % 2 ? \"后\" : \"前\";\r\n    return `${year}年${month}月${moment}`;\r\n  };\r\n  for (let i = 13; i < 72; i++) {\r\n    let curRace;\r\n    if (props.raceList && props.raceList[i]) {\r\n      curRace = db.get(\"races\").find({ id: props.raceList[i].id }).value();\r\n      str.push(\r\n        <Col span={6} key={i} style={{ backgroundColor: \"#ff6b81\", border: \"1px solid #2f3542\" }}>\r\n          {getDate(i)}\r\n          <br />\r\n          {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\r\n          {/* -{curRace.date} */}\r\n        </Col>\r\n      );\r\n    } else if (props.filterRace && props.filterRace[i]) {\r\n      str.push(\r\n        <Col\r\n          span={6}\r\n          key={i}\r\n          style={{\r\n            backgroundColor: \"#7bed9f\",\r\n            border: \"1px solid #2f3542\",\r\n            whiteSpace: \"pre-line\",\r\n          }}\r\n        >\r\n          {getDate(i)}\r\n          <br />\r\n          {props.filterRace[i].map((raceId) => {\r\n            let curRace = db.get(\"races\").find({ id: raceId }).value();\r\n            return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`;\r\n          })}\r\n        </Col>\r\n      );\r\n    } else {\r\n      str.push(\r\n        <Col span={6} key={i} style={{ backgroundColor: \"#a4b0be\", border: \"1px solid #2f3542\" }}>\r\n          {getDate(i)}\r\n        </Col>\r\n      );\r\n    }\r\n  }\r\n  return <Row style={{ color: \"black\" }}>{str}</Row>;\r\n};\r\n\r\nconst raceGolds = [\r\n  { name: \"传统三冠\", raceNames: [\"皐月賞30\", \"日本ダービー東京優駿33\", \"菊花賞43\"] },\r\n  { name: \"春日三冠\", raceNames: [\"大阪杯53\", \"天皇賞春55\", \"宝塚記念59\"] },\r\n  { name: \"秋日三冠\", raceNames: [\"天皇賞秋67\", \"ジャパンカップ69\", \"有馬記念71\"] },\r\n  { name: \"天皇春秋\", raceNames: [\"天皇賞春55\", \"天皇賞秋67\"] },\r\n  { name: \"纪念春秋Ⅰ\", raceNames: [\"宝塚記念35\", \"有馬記念47\"] },\r\n  { name: \"纪念春秋Ⅱ\", raceNames: [\"宝塚記念59\", \"有馬記念71\"] },\r\n  { name: \"母马三冠\", raceNames: [\"桜花賞30\", \"オークス33\", \"秋華賞43\"] },\r\n  { name: \"英里春秋Ⅰ\", raceNames: [\"安田記念34\", \"マイルチャンピオンシップ45\"] },\r\n  { name: \"英里春秋Ⅱ\", raceNames: [\"安田記念58\", \"マイルチャンピオンシップ69\"] },\r\n  { name: \"泥地春秋\", raceNames: [\"フェブラリーステークス51\", \"チャンピオンズカップ70\"] },\r\n  { name: \"短距春秋\", raceNames: [\"高松宮記念53\", \"スプリンターズステークス65\"] },\r\n];\r\nconst getGolds = (race) => {\r\n  return raceGolds\r\n    .reduce((golds, raceGold) => {\r\n      if (raceGold.raceNames.indexOf(race.uniqueName) !== -1) {\r\n        golds.push(\r\n          `${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName) + 1}/${\r\n            raceGold.raceNames.length\r\n          }`\r\n        );\r\n      }\r\n      return golds;\r\n    }, [])\r\n    .join(\" , \");\r\n};\r\n\r\nconst RaceTimeline = React.memo((props) => {\r\n  const { showButton } = props;\r\n  const [showSpare, setShowSpare] = useState(false);\r\n  const str = [];\r\n\r\n  const getDate = (i) => {\r\n    let year = Math.floor(i / 24) + 1;\r\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\r\n    month = month < 10 ? `\\xa0\\xa0${month}` : month;\r\n    let moment = i % 2 ? \"后\" : \"前\";\r\n    return `${year}年\\xa0${month}月${moment}`;\r\n  };\r\n  const getColor = (grade) => {\r\n    switch (grade) {\r\n      case \"G1\":\r\n        return \"blue\";\r\n      case \"G2\":\r\n        return \"pink\";\r\n      case \"G3\":\r\n        return \"green\";\r\n      case \"OP\":\r\n        return \"orange\";\r\n      case \"Pre-OP\":\r\n        return \"orange\";\r\n      default:\r\n        return \"gray\";\r\n    }\r\n  };\r\n  for (let i = 13; i < 72; i++) {\r\n    let curRace, id, golds;\r\n    if (props.raceList && props.raceList[i]) {\r\n      id = props.raceList[i].id;\r\n      curRace = db.get(\"races\").find({ id }).value();\r\n      golds = getGolds(curRace);\r\n      str.push(\r\n        <Timeline.Item label={getDate(i)} color=\"red\" className=\"text-base\" key={id}>\r\n          {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${\r\n            props.raceList[i].goal || \"参赛\"\r\n          }\r\n          ${golds ? \" / \" + golds : \"\"}`}\r\n        </Timeline.Item>\r\n      );\r\n    } else if (props.filterRace && props.filterRace[i]) {\r\n      props.filterRace[i].forEach((id, index) => {\r\n        curRace = db.get(\"races\").find({ id }).value();\r\n        golds = getGolds(curRace);\r\n        str.push(\r\n          <Timeline.Item\r\n            label={index === 0 ? getDate(i) : null}\r\n            color={getColor(curRace.grade)}\r\n            style={{ fontSize: \"14px\" }}\r\n            key={id}\r\n          >\r\n            {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\r\n            ${golds ? \" / \" + golds : \"\"}`}\r\n          </Timeline.Item>\r\n        );\r\n      });\r\n    } else {\r\n      //普通\r\n      showSpare &&\r\n        str.push(\r\n          <Timeline.Item\r\n            label={getDate(i)}\r\n            color={getColor(\"normal\")}\r\n            style={{ fontSize: \"12px\" }}\r\n          />\r\n        );\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {showButton && (\r\n        <Button onClick={() => setShowSpare(!showSpare)}>\r\n          {showSpare ? t(\"隐藏空闲月份\") : t(\"显示空闲月份\")}\r\n        </Button>\r\n      )}\r\n      <Timeline mode=\"left\">{str}</Timeline>\r\n    </>\r\n  );\r\n});\r\nconst RaceCheckbox = (props) => {\r\n  const [raceFilterCondition, setRaceFilterCondition] = useState(props.raceFilterCondition);\r\n\r\n  const filterList = {\r\n    distanceType: [\r\n      { label: \"短距離\", value: \"短距離\" },\r\n      { label: \"マイル\", value: \"マイル\" },\r\n      { label: \"中距離\", value: \"中距離\" },\r\n      { label: \"長距離\", value: \"長距離\" },\r\n    ],\r\n    grade: [\r\n      { label: \"Pre-OP\", value: \"Pre-OP\" },\r\n      { label: \"OP\", value: \"OP\" },\r\n      { label: \"G1\", value: \"G1\" },\r\n      { label: \"G2\", value: \"G2\" },\r\n      { label: \"G3\", value: \"G3\" },\r\n    ],\r\n    ground: [\r\n      { label: \"芝\", value: \"芝\" },\r\n      { label: \"ダート\", value: \"ダート\" },\r\n    ],\r\n  };\r\n  const onChange = (checkedValues, type) => {\r\n    let tmpObj = {};\r\n    tmpObj[type] = checkedValues;\r\n    props.onChange({ ...raceFilterCondition, ...tmpObj });\r\n    setRaceFilterCondition({ ...raceFilterCondition, ...tmpObj });\r\n  };\r\n  return (\r\n    <>\r\n      {Object.keys(filterList).map((key) => (\r\n        <div key={key}>\r\n          <Checkbox.Group\r\n            options={filterList[key]}\r\n            defaultValue={props.raceFilterCondition[key]}\r\n            onChange={(checkedValues) => onChange(checkedValues, key)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\nexport { RaceSchedule, RaceTimeline, RaceCheckbox };\r\n","import React, { useState } from \"react\";\r\n\r\nimport db from \"../../db.js\";\r\nimport t from \"../t.js\";\r\nimport { cdnServer } from \"../../config\";\r\nimport EventList from \"../event/EventList\";\r\nimport SkillList from \"../skill/SkillList\";\r\n// import RaceList from './player-race.js'\r\nimport {\r\n  // RaceSchedule,\r\n  RaceTimeline,\r\n} from \"../race\";\r\n// import {EffectTable} from './effect.js'\r\n\r\nconst PlayerItem = ({ data }) => {\r\n  const { name, imgUrl, charaName } = data;\r\n  return (\r\n    <div className=\"h-16 w-full flex flex-shrink-0\">\r\n      <img alt={name} src={cdnServer + imgUrl} height={64} width={64} />\r\n      <div className=\"flex-auto flex flex-wrap h-full items-center\">\r\n        <div className=\"w-full flex items-center justify-between\">\r\n          <div className=\" text-xl font-semibold truncate\">{name}</div>\r\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(name)}</div>\r\n        </div>\r\n        <div className=\"w-full flex items-center justify-between\">\r\n          <div className=\" text-xl font-semibold truncate\">{charaName}</div>\r\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(charaName)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst PlayerDetail = (props) => {\r\n  const id = props.id || props.match?.params?.id;\r\n  // 是否育成 育成顺序样式不同\r\n  const isNur = props.isNur ?? parseInt(props.match?.params?.nur);\r\n  const data = props.data || db.get(\"players\").find({ id }).value();\r\n  if (!data) {\r\n    return <></>;\r\n  }\r\n\r\n  if (isNur) {\r\n    return (\r\n      <div className=\"w-full flex flex-col  p-3\">\r\n        <PlayerItem data={data} />\r\n        <div>{t(\"多选项事件\")}</div>\r\n        <EventList idList={data.eventList0} />\r\n        <div>{t(\"赛后事件\")}</div>\r\n        <EventList idList={data.eventList2} />\r\n        <div>{t(\"通用事件\")}</div>\r\n        <EventList idList={data.eventList3} />\r\n        <div>{t(\"隐藏事件\")}</div>\r\n        <EventList idList={data.hideEvent} type=\"all\" />\r\n        <div>{t(\"赛程\")}</div>\r\n        {/* <RaceSchedule raceList={data.raceList}/> */}\r\n        <RaceTimeline raceList={data.raceList} showButton={false} />\r\n        <div>{t(\"技能\")}</div>\r\n        <SkillList idList={data.skillList} />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"w-full flex flex-col  p-3\">\r\n        <PlayerItem data={data} />\r\n        <AdaptBox player={data} />\r\n        <div className=\"h-2\"></div>\r\n        <GrowBox player={data} />\r\n        <div className=\"h-2\"></div>\r\n        <SkillList idList={data.skillList} />\r\n        <div>{t(\"多选项事件\")}</div>\r\n        <EventList idList={data.eventList0} />\r\n        <div>{t(\"无选项事件\")}</div>\r\n        <EventList idList={data.eventList1} />\r\n        <div>{t(\"赛后事件\")}</div>\r\n        <EventList idList={data.eventList2} />\r\n        <div>{t(\"通用事件\")}</div>\r\n        <EventList idList={data.eventList3} />\r\n        <div>{t(\"隐藏事件\")}</div>\r\n        <EventList idList={data.eventList4} />\r\n        <div>{t(\"赛程\")}</div>\r\n        {/* <RaceSchedule raceList={data.raceList}/> */}\r\n        <RaceTimeline raceList={data.raceList} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst coloredGradeText = (text) => {\r\n  let color = \"gray\";\r\n  switch (text) {\r\n    case \"S\":\r\n      color = \"#FFD700\";\r\n      break;\r\n    case \"A\":\r\n      color = \"#FFA500\";\r\n      break;\r\n    case \"B\":\r\n      color = \"#BA55D3\";\r\n      break;\r\n    case \"C\":\r\n      color = \"#90EE90\";\r\n      break;\r\n    case \"D\":\r\n      color = \"#87CEEB\";\r\n      break;\r\n    default:\r\n      color = \"gray\";\r\n  }\r\n  return (\r\n    <div style={{ fontSize: 22, fontWeight: 700, textShadow: \"0 2px #33333370\", color: color }}>\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\nconst AdaptBox = (props) => {\r\n  return (\r\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"场地适应\")}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"芝\")}`, coloredGradeText(props.player.grass)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"ダート\")}`, coloredGradeText(props.player.dirt)]}\r\n      </div>\r\n      <div className=\"col-span-2\"></div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"赛程适应\")}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"短距離\")}`, coloredGradeText(props.player.shortDistance)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"マイル\")}`, coloredGradeText(props.player.mile)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"中距離\")}`, coloredGradeText(props.player.mediumDistance)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"長距離\")}`, coloredGradeText(props.player.longDistance)]}\r\n      </div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"脚质适应\")}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"逃げ\")}`, coloredGradeText(props.player.escape)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"先行\")}`, coloredGradeText(props.player.leading)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"差し\")}`, coloredGradeText(props.player.insert)]}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">\r\n        {[`${t(\"追込\")}`, coloredGradeText(props.player.tracking)]}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GrowBox = (props) => {\r\n  return (\r\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"スピード\")}\r\n      </div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"スタミナ\")}\r\n      </div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"パワー\")}\r\n      </div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"根性\")}\r\n      </div>\r\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\r\n        {t(\"賢さ\")}\r\n      </div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.speedGrow}</div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.staminaGrow}</div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.powerGrow}</div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.gutsGrow}</div>\r\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.wisdomGrow}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDetail;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport PlayerCard from \"./PlayerCard\";\r\nimport PlayerDetail from \"./PlayerDetail\";\r\nimport List from \"../common/List\";\r\nimport useUa from \"../../utils/ua\";\r\nconst PlayerList = ({ className, dataList, onClick, sortFlag = false }) => {\r\n  const ua = useUa();\r\n  const history = useHistory();\r\n  const sort = {\r\n    key: \"rare\",\r\n    data: [\r\n      { value: \"3\", title: \"3星\" },\r\n      { value: \"2\", title: \"2星\" },\r\n      { value: \"1\", title: \"1星\" },\r\n    ],\r\n  };\r\n  return (\r\n    <List\r\n      className={className}\r\n      listKey=\"players\"\r\n      dataList={dataList}\r\n      sort={sortFlag && sort}\r\n      itemRender={(data, setCur) => (\r\n        <div className=\"w-24 max-w-1/4 p-1\">\r\n          <PlayerCard\r\n            className=\"\"\r\n            data={data}\r\n            onClick={() =>\r\n              onClick\r\n                ? onClick(data)\r\n                : ua.isPhone\r\n                ? history.push(`/player-detail/${data.id}`)\r\n                : setCur(data)\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n      itemClass=\"w-24 max-w-1/4 \"\r\n      detailRender={(data) => <PlayerDetail data={data} isNur={false} />}\r\n      // detailModalSize='regular'\r\n    />\r\n  );\r\n};\r\n\r\nexport default PlayerList;\r\n","import React from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Layout from \"../../components/common/Layout.js\";\r\nimport PlayerList from \"../../components/player/PlayerList.js\";\r\n// todo 提取出来\r\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\r\n\r\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\n//todo filter\r\nconst Player = (props) => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  return (\r\n    <PlayerList className=\"justify-between\" sortFlag={true} onClick={props.onClick} />\r\n  );\r\n};\r\n\r\nexport default Player;\r\n","const CheckBox = ({ register, name, value, label, icon }) => {\r\n  return (\r\n    <div key={value} className=\"flex items-center mr-1 mb-1\">\r\n      <input\r\n        id={value}\r\n        type=\"checkbox\"\r\n        className={`mt-checkbox mt-checkbox-light-blue-500 hidden overflow-hidden`}\r\n        value={value}\r\n        {...register(name)}\r\n      />\r\n      <label\r\n        htmlFor={value}\r\n        className=\"flex items-center cursor-pointer text-gray-400 select-none transition-all duration-300\"\r\n      >\r\n        <span className=\"relative w-5 h-5 inline-block mr-2 rounded border border-gray-500 transition-all duration-300\"></span>\r\n        {icon && <img alt=\"\" src={icon} width={20} />}\r\n        {label}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\nexport default CheckBox;\r\n","const Input = ({ className,register,name,placeholder})=>{\r\n  return <div className=\"w-full relative h-11\">\r\n  <input\r\n    className={`w-full h-full text-gray-800 leading-normal shadow-none outline-none focus:outline-none focus:ring-0 focus:text-gray-800 px-3 pt-2.5 pb-1.5 mt-input-outline-light-blue-500 mt-input-outline bg-transparent border border-1 border-gray-300 rounded-lg focus:border-2 focus:border-light-blue-500 undefined undefined`}\r\n    placeholder=\" \"\r\n    {...register(\"q\")}\r\n  />\r\n  <label\r\n    className={`text-gray-400 absolute left-0 -top-1.5 w-full h-full false border-gray-300 pointer-events-none flex false leading-10 transition-all duration-300`}\r\n  >\r\n    {placeholder || '请输入'}\r\n  </label>\r\n</div>\r\n}\r\n\r\nexport default Input","import React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport db from \"../../db.js\";\r\nimport dbL from \"../../dbL.js\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport CheckBox from \"../common/CheckBox\"\r\nimport Input from \"../common/Input\"\r\nimport t from \"../t.js\";\r\n\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n\r\nconst allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\r\n\r\nconst conditionOptions = [\r\n  { label: t(\"短距離\"), value: \"distance_type==1\" },\r\n  { label: t(\"マイル\"), value: \"distance_type==2\" },\r\n  { label: t(\"中距離\"), value: \"distance_type==3\" },\r\n  { label: t(\"長距離\"), value: \"distance_type==4\" },\r\n  { label: t(\"逃げ\"), value: \"running_style==1\" },\r\n  { label: t(\"先行\"), value: \"running_style==2\" },\r\n  { label: t(\"差し\"), value: \"running_style==3\" },\r\n  { label: t(\"追込\"), value: \"running_style==4\" },\r\n  { label: t(\"通用\"), value: \"running_style==\" },\r\n  { label: t(\"序盤\"), value: \"phase==0|phase_random==0\" },\r\n  { label: t(\"中盤\"), value: \"phase==1|phase_random==1\" },\r\n  { label: t(\"終盤\"), value: \"phase==2|phase_random==2\" },\r\n  { label: t(\"冲刺\"), value: \"phase==3|phase_random==3\" },\r\n  { label: t(\"コーナー\"), value: \"corner_random==1\" },\r\n  { label: t(\"直線\"), value: \"straight_random==1\" },\r\n  { label: t(\"最終直線/コーナー\"), value: \"is_finalcorner==1\" },\r\n];\r\nconst typeOptions = [\r\n  { label: \"速度被动(绿)\", value: \"10011\" },\r\n  { label: \"耐力被动(绿)\", value: \"10021\" },\r\n  { label: \"力量被动(绿)\", value: \"10031\" },\r\n  { label: \"毅力被动(绿)\", value: \"10041\" },\r\n  { label: \"智力被动(绿)\", value: \"10051\" },\r\n  { label: \"耐力恢复(蓝)\", value: \"20021\" },\r\n  { label: \"速度提高(黄)\", value: \"20011\" },\r\n  // {label:'20031',value:'20031'},\r\n  { label: \"加速度提高(黄)\", value: \"20041\" },\r\n  { label: \"切换跑道(黄)\", value: \"20051\" },\r\n  { label: \"起步时间(黄)\", value: \"20061\" },\r\n  // {label:'20071',value:'20071'},\r\n  // {label:'20081',value:'20081'},\r\n  { label: \"视野提高(黄)\", value: \"20091\" },\r\n  { label: \"速度降低(红)\", value: \"30011\" },\r\n  { label: \"无法冷静(红)\", value: \"30041\" },\r\n  { label: \"耐力降低(红)\", value: \"30051\" },\r\n  { label: \"视野降低(红)\", value: \"30071\" },\r\n];\r\n\r\nconst rarityOptions = [\r\n  { label: t(\"ノーマル\"), value: \"ノーマル\" },\r\n  { label: t(\"レア\"), value: \"レア\" },\r\n  { label: t(\"固有\"), value: \"固有\" },\r\n];\r\nconst SkillFilterForm = (props) => {\r\n  const { onUpdate, needId, checkOnly } = props;\r\n\r\n  const {\r\n    register,\r\n    watch,\r\n    formState: { },\r\n  } = useForm();\r\n\r\n  React.useEffect(() => {\r\n    const subscription = watch((value, { name, type }) => getFilterList(value));\r\n    return () => subscription.unsubscribe();\r\n  }, [watch]);\r\n\r\n  const mySupports = dbL.get(\"mySupports\").value();\r\n  const mySkillList = new Set(\r\n    mySupports.reduce((list, supportId) => {\r\n      let support = db.get(\"supports\").find({ id: supportId }).value();\r\n      return list.concat(support.skillList);\r\n    }, [])\r\n  );\r\n\r\n  const getFilterList = (value) => {\r\n    const { condition, q, rare, type } = value;\r\n    if (checkOnly && !q && !type?.length && !rare?.length && !condition?.length) {\r\n      onUpdate([])\r\n      return\r\n    }\r\n    let tempList = [...allSkillList];\r\n    if (q) {\r\n      tempList = tempList.filter((item) => item.name.indexOf(q) > -1);\r\n    }\r\n    if (type && type.length) {\r\n      tempList = tempList.filter((skill) => {\r\n        let flag = 0;\r\n        type.forEach((value) => {\r\n          let str = skill.icon_id + \"\";\r\n          if (str) {\r\n            if (str[0] === value[0] && str[3] === value[3]) {\r\n              flag = 1;\r\n            }\r\n          }\r\n        });\r\n        return flag;\r\n      });\r\n    }\r\n    if (rare && rare.length) {\r\n      tempList = tempList.filter((skill) => {\r\n        let flag = 0;\r\n        rare.forEach((value) => {\r\n          if (skill.rare === value) {\r\n            flag = 1;\r\n          }\r\n        });\r\n        return flag;\r\n      });\r\n    }\r\n    if (condition && condition.length) {\r\n      const str = condition.join(\"|\");\r\n      const reg = RegExp(str);\r\n      tempList = tempList.filter((skill) => skill.condition?.match(reg));\r\n    }\r\n    if (needId) {\r\n      tempList = tempList.reduce((list, skill) => {\r\n        list.push(skill?.id);\r\n        return list;\r\n      }, []);\r\n    }\r\n    onUpdate(tempList);\r\n\r\n    // if (isOwn) {\r\n    //   tempSkillList = tempSkillList.filter((skill) => {\r\n    //     return mySkillList.has(skill?.id);\r\n    //   });\r\n    // }\r\n    // onUpdate(tempSkillList);\r\n  };\r\n  // }, [filteredSkills, skillChecked1, skillChecked2, isOwn]);\r\n\r\n  {/* <Button type={\"danger\"} onClick={resetCheckbox} style={{ width: \"100%\" }}>\r\n      {t(\"重置\")}\r\n    </Button> */}\r\n  return (\r\n    < div div div className=\"flex flex-wrap\" >\r\n      {/* <div>\r\n          <span\r\n            style={{ margin: \"0 10px 0 0\", lineHeight: \"32px\" }}\r\n            data-tip={t(\"可以在支援卡页面配置\")}\r\n          >\r\n            {t(\"显示拥有支援卡\")}\r\n          </span>\r\n          <Switch checked={isOwn} onChange={changeMode} />\r\n        </div> */}\r\n      < Input\r\n        register={register}\r\n        name='q'\r\n        placeholder={t(\"输入关键词\")} />\r\n      <p className=\"w-full  my-1 text-gray-700\">触发条件</p>\r\n      {\r\n        conditionOptions.map(({ label, value }) =>\r\n          <CheckBox\r\n            register={register}\r\n            name={'condition'}\r\n            label={label}\r\n            value={value} />\r\n        )\r\n      }\r\n      <p className=\"w-full my-1 text-gray-700\">类型</p>\r\n      {\r\n        typeOptions.map(({ label, value }) =>\r\n          <CheckBox\r\n            register={register}\r\n            name={'type'}\r\n            label={label}\r\n            value={value}\r\n            icon={cdnServer + \"img/skill_icons/\" + value + \".png\"}\r\n          />\r\n        )\r\n      }\r\n      <p className=\"w-full  my-1 text-gray-700\">稀有度</p>\r\n      {\r\n        rarityOptions.map(({ label, value }) =>\r\n          <CheckBox\r\n            register={register}\r\n            name={'rare'}\r\n            label={label}\r\n            value={value}\r\n            icon={cdnServer + \"img/skill_icons/\" + value + \".png\"}\r\n          />\r\n        )\r\n      }\r\n    </ div>\r\n  );\r\n};\r\n\r\nexport default SkillFilterForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport CheckBox from \"../common/CheckBox\";\r\nimport Input from \"../common/Input\";\r\nimport dbL from \"@/dbL.js\";\r\nimport db from \"@/db.js\";\r\nimport t from \"../t.js\";\r\n\r\nimport SkillFilterForm from \"../skill/SkillFilterForm\";\r\nconst allSupports = db.get(\"supports\").value();\r\nconst effects = db.get(\"effects\").value();\r\nconst effectOptions = Object.keys(effects).map((key) => {\r\n  return { label: t(effects[key].name), value: key };\r\n});\r\nconst typeOptions = [\"スピード\", \"スタミナ\", \"パワー\", \"根性\", \"賢さ\", \"友人\"].map((item) => ({\r\n  label: t(item),\r\n  value: item,\r\n}));\r\nconst SupportFilterForm = (props) => {\r\n  const { onUpdate, needId } = props;\r\n  const {\r\n    register,\r\n    watch,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: {},\r\n  } = useForm();\r\n\r\n  React.useEffect(() => {\r\n    const subscription = watch((value, { name, type }) => getFilterList(value));\r\n    return () => subscription.unsubscribe();\r\n  }, [watch]);\r\n\r\n  const getFilterList = (value) => {\r\n    const { type, effect, q, skill } = value;\r\n    let tempList = [...allSupports];\r\n\r\n    if (type?.length) {\r\n      tempList = tempList.filter((support) => {\r\n        let flag = 0;\r\n        if (type.indexOf(support?.type) !== -1) {\r\n          return (flag = 1);\r\n        }\r\n        return flag;\r\n      });\r\n    }\r\n\r\n    if (effect?.length) {\r\n      tempList = tempList.filter((support) => {\r\n        let flag = 0;\r\n        effect.forEach((value) => {\r\n          support.effects &&\r\n            support.effects.forEach((effect) => {\r\n              if (effect.type == value) {\r\n                flag += 1;\r\n              }\r\n            });\r\n        });\r\n        return flag === effect.length;\r\n      });\r\n    }\r\n    if (skill?.length) {\r\n      tempList = tempList.filter((support) => {\r\n        let flag = 0;\r\n        support.skillList?.forEach((skillId) => {\r\n          if (skill.indexOf(skillId) !== -1) {\r\n            return (flag = 1);\r\n          }\r\n        });\r\n        return flag;\r\n      });\r\n    }\r\n    if (q) {\r\n      const allEventList = db.get(\"events\").value();\r\n      const eventIdList = allEventList\r\n        .filter((event) => {\r\n          let jsonEvent = JSON.stringify(event);\r\n          if (jsonEvent.indexOf(q) !== -1) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        })\r\n        .reduce((list, event) => {\r\n          list.push(event.id);\r\n          return list;\r\n        }, []);\r\n      tempList = tempList.filter((support) => {\r\n        let flag = 0;\r\n        support.eventList.forEach((eventId) => {\r\n          if (eventIdList.indexOf(eventId) !== -1) {\r\n            return (flag = 1);\r\n          }\r\n        });\r\n        return flag;\r\n      });\r\n    }\r\n    if (needId) {\r\n      tempList = tempList.reduce((list, support) => {\r\n        list.push(support?.id);\r\n        return list;\r\n      }, []);\r\n    }\r\n    onUpdate && onUpdate(tempList);\r\n  };\r\n  const handleSkillFilterFormChange = (list) => {\r\n    setValue(\"skill\", list);\r\n  };\r\n  return (\r\n    <div className=\"flex flex-wrap\">\r\n      <Input register={register} name=\"q\" placeholder={t(\"事件关键词搜索\")} />\r\n      <p className=\"w-full my-1 text-gray-700\">{t(\"类型\")}</p>\r\n      {typeOptions.map(({ label, value }) => (\r\n        <CheckBox register={register} name={\"type\"} label={label} value={value} />\r\n      ))}\r\n      <p className=\"w-full my-1 text-gray-700\">{t(\"技能筛选\")}</p>\r\n      <SkillFilterForm onUpdate={handleSkillFilterFormChange} checkOnly={true} needId={true} />\r\n      <p className=\"w-full my-1 text-gray-700\">{t(\"育成效果\")}</p>\r\n      {effectOptions.map(({ label, value }) => (\r\n        <CheckBox register={register} name={\"effect\"} label={label} value={value} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupportFilterForm;\r\n","import React from 'react'\r\nconst useViewport = () => {\r\n  const [width, setWidth] = React.useState(window.innerWidth);\r\n  const [height, setHeight] = React.useState(window.innerHeight);\r\n  React.useEffect(() => {\r\n    const handleWindowResize = () => {\r\n      setHeight(window.innerHeight);\r\n      setWidth(window.innerWidth);\r\n    };\r\n    window.addEventListener(\"resize\", handleWindowResize);\r\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n  }, []);\r\n  return { height, width };\r\n};\r\nexport default useViewport","import classnames from \"classnames\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Modal from \"@material-tailwind/react/Modal\";\r\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\r\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport dbL from \"@/dbL.js\";\r\nimport db from \"@/db.js\";\r\nimport t from \"@/components/t.js\";\r\n\r\nimport SupportList from \"@/components/support/SupportList\";\r\nimport SupportFilterForm from \"@/components/support/SupportFilterForm\";\r\nimport useViewport from \"@/utils/useViewport\";\r\n\r\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\nconst allSupports = db.get(\"supports\").value();\r\n\r\ndocument.title = TITLE;\r\nconst SupportListWithFilter = (props) => {\r\n  const { onClick, limitHeight } = props;\r\n  const viewport = useViewport();\r\n  const [show, setShow] = React.useState(false);\r\n  const [list, setList] = useState(props.supportList || allSupports || []);\r\n  const [chooseMode, setChooseMode] = useState(false);\r\n  const [showMode, setShowMode] = useState(false);\r\n  const [chosenList, setChosenList] = useState(dbL.get(\"mySupports\").value() || []);\r\n\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n\r\n  const changeChooseMode = () => {\r\n    setShowMode(!showMode);\r\n    setChooseMode(!chooseMode);\r\n  };\r\n\r\n  const changeShowMode = () => {\r\n    setShowMode(!showMode);\r\n  };\r\n\r\n  const onSelect = (item) => {\r\n    let tmpList = [...chosenList];\r\n    const index = tmpList.indexOf(item.id);\r\n    if (index === -1) {\r\n      tmpList.push(item.id);\r\n    } else {\r\n      tmpList.splice(index, 1);\r\n    }\r\n    dbL.update(\"mySupports\", tmpList).write();\r\n    setChosenList([...tmpList]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {viewport?.width >= 768 ? (\r\n        <div\r\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\r\n          style={{\r\n            height: \"calc(100vh - 120px)\",\r\n          }}\r\n        >\r\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeShowMode} ripple=\"light\">\r\n            {t(\"高亮我的卡组\")}\r\n          </Button>\r\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\r\n            {t(\"配置卡组\")}\r\n          </Button>\r\n          {chooseMode && (\r\n            <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\r\n              {t(\"配置完成\")}\r\n            </Button>\r\n          )}\r\n          <SupportFilterForm onUpdate={setList} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\r\n            onClick={() => setShow(true)}\r\n          >\r\n            筛选\r\n          </Button>\r\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\r\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选支援卡\"}</ModalHeader>\r\n            <ModalBody className=\"flex flex-col\">\r\n              <SupportFilterForm onUpdate={setList} />\r\n            </ModalBody>\r\n          </Modal>\r\n        </>\r\n      )}\r\n\r\n      <SupportList\r\n        className={`md:w-3/4 justify-between ${limitHeight && \"h-80vh overflow-auto\"}`}\r\n        sortFlag={true}\r\n        dataList={list}\r\n        ownList={showMode ? chosenList : null}\r\n        onClick={chooseMode ? onSelect : onClick}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default SupportListWithFilter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\n\r\nimport SupportListWithFilter from \"../../components/support/SupportListWithFilter\";\r\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\nconst Support = (props) => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n\r\n  return <SupportListWithFilter />;\r\n};\r\nexport default Support;\r\n","import React from 'react';\r\nimport Button from '@material-tailwind/react/Button'\r\n// import {useState} from 'react';\r\nimport db from '../db.js'\r\nimport t from '../components/t.js'\r\n\r\nconst BuffButton = (props) => {\r\n  return (\r\n    <Button size='sm' buttonType='outline' data-tip='buff list'>Buff</Button>\r\n  )\r\n}\r\nconst buffs = db.get('buffs').value()\r\nconst BuffList = (props) => {\r\n  const cellStyle = {\r\n    // width:'20%',\r\n    height: '32px',\r\n    fontSize: 16,\r\n    textAlign: 'flex-start',\r\n    paddingLeft: 16,\r\n    fontWeight: 500,\r\n    borderWidth: 'thin',\r\n    borderStyle: 'solid solid solid solid',\r\n    borderColor: 'gray',\r\n  }\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {buffs.map(buff => <tr key={buff.name}>\r\n          <td style={{ ...cellStyle }}>{t(buff.name)}</td>\r\n          <td style={{ ...cellStyle }}>{t(buff.describe)}</td>\r\n        </tr>)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\nexport { BuffButton, BuffList }\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\nimport shortid from \"shortid\";\r\n// import db from '../db.js'\r\nimport dbL from \"../dbL.js\";\r\nimport t from \"../components/t.js\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  // Divider,\r\n  Row,\r\n  Col,\r\n  // Modal,\r\n  Tag,\r\n  message,\r\n  Popover,\r\n  Popconfirm,\r\n  Checkbox,\r\n} from \"antd\";\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\r\n\r\nconst MyDecks = (props) => {\r\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\r\n  // 卡组相关操作\r\n  const saveDeck = (deck) => {\r\n    let tmpDeck = {\r\n      imgUrls: [],\r\n      supportsId: [],\r\n      tags: [],\r\n    };\r\n    if (props.player.id) {\r\n      tmpDeck.playerId = props.player.id;\r\n      tmpDeck.imgUrls.push(props.player.imgUrl);\r\n    }\r\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\r\n      if (props.supports[index] && props.supports[index].id) {\r\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl);\r\n        tmpDeck.supportsId.push(props.supports[index].id);\r\n      } else {\r\n        tmpDeck.supportsId.push(null);\r\n      }\r\n    });\r\n    if (deck) {\r\n      //update\r\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\r\n    } else {\r\n      //\r\n      tmpDeck.id = shortid.generate();\r\n      dbL.get(\"myDecks\").push(tmpDeck).write();\r\n    }\r\n    setDecks([...dbL.get(\"myDecks\").value()]);\r\n  };\r\n\r\n  const deleteDeck = (deck) => {\r\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\r\n    setDecks([...dbL.get(\"myDecks\").value()]);\r\n  };\r\n  const shareDeck = async (deck) => {\r\n    //判断表格\r\n    // if(deck.playerId)\r\n    const formData = {\r\n      ...deck,\r\n      id: deck.playerId + deck.supportsId.sort((a, b) => a.localeCompare(b)).join(\"\"),\r\n    };\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/addDeck\", formData);\r\n    const data = res.data;\r\n    data && message.info(data.msg);\r\n  };\r\n\r\n  const labels = [\r\n    \"短距離\",\r\n    \"マイル\",\r\n    \"中距離\",\r\n    \"長距離\",\r\n    \"ダート\",\r\n    \"逃げ\",\r\n    \"先行\",\r\n    \"差し\",\r\n    \"追込\",\r\n    \"高速度\",\r\n    \"高耐力\",\r\n    \"高力量\",\r\n    \"高根性 \",\r\n    \"高智力\",\r\n    \"竞技场前排\",\r\n    \"萌新之友\",\r\n  ];\r\n  const onChangeTag = (values, deck) => {\r\n    dbL.get(\"myDecks\").find({ id: deck.id }).assign({ tags: values }).write();\r\n    setDecks([...dbL.get(\"myDecks\").value()]);\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      width={\"100%\"}\r\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\r\n      content={\r\n        <>\r\n          <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\r\n            {t(\"保存为新卡组\")}\r\n          </Button>\r\n          {decks.map((deck) => (\r\n            <>\r\n              <Row>\r\n                <Checkbox.Group\r\n                  options={labels}\r\n                  defaultValue={deck.tags || []}\r\n                  onChange={(values) => onChangeTag(values, deck)}\r\n                />\r\n              </Row>\r\n              <Row key={deck.id}>\r\n                {deck.imgUrls.map((imgUrl) => (\r\n                  <Col span={3} key={imgUrl}>\r\n                    <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\r\n                  </Col>\r\n                ))}\r\n                <Col span={3}>\r\n                  <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\r\n                    {t(\"读取卡组\")}\r\n                  </Button>\r\n                  <Popconfirm title={t(\"确认覆盖？\")} onConfirm={() => saveDeck(deck)}>\r\n                    <Button danger type=\"dashed\">\r\n                      {t(\"覆盖卡组\")}\r\n                    </Button>\r\n                  </Popconfirm>\r\n                  <Popconfirm title={t(\"确认删除？\")} onConfirm={() => deleteDeck(deck)}>\r\n                    <Button danger type=\"dashed\">\r\n                      {t(\"删除卡组\")}\r\n                    </Button>\r\n                  </Popconfirm>\r\n                  <Popconfirm title={t(\"确认分享？\")} onConfirm={() => shareDeck(deck)}>\r\n                    <Button>分享卡组</Button>\r\n                  </Popconfirm>\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          ))}\r\n        </>\r\n      }\r\n    >\r\n      <Button size=\"sm\" buttonType=\"outline\">\r\n        {t(\"我的卡组\")}\r\n      </Button>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nconst RecommendDecks = (props) => {\r\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\r\n  const [recommendDecks, setRecommendDecks] = useState([]);\r\n  const [playerId, setPlayerId] = useState(\"\");\r\n  const searchDeck = async () => {\r\n    if (playerId !== props.player.id) {\r\n      const formData = props.player ? { playerId: props.player.id } : {};\r\n      const res = await axios.post(\"https://urarawin.com/api/sqlite/searchDeck\", formData);\r\n      setRecommendDecks(res.data || []);\r\n      setPlayerId(props.player.id);\r\n    }\r\n  };\r\n  // const deleteDeck = async (deck) => {\r\n  //   const res = await axios.post(\"https://urarawin.com/api/sqlite/deleteDeck\", deck)\r\n  //   searchDeck()\r\n  // }\r\n  return (\r\n    <Popover\r\n      width={\"100%\"}\r\n      onVisibleChange={searchDeck}\r\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\r\n      content={recommendDecks.map((deck) => (\r\n        <>\r\n          <Row>{deck.tags && deck.tags.map((tag) => <Tag>{tag}</Tag>)}</Row>\r\n          <Row key={deck.id}>\r\n            {deck.imgUrls.map((imgUrl) => (\r\n              <Col span={3} key={imgUrl}>\r\n                <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\r\n              </Col>\r\n            ))}\r\n            <Col span={3}>\r\n              <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\r\n                {t(\"读取卡组\")}\r\n              </Button>\r\n              {/* <Button type=\"primary\" onClick={()=>deleteDeck(deck)}>{t('删除卡组')}</Button> */}\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ))}\r\n    >\r\n      <Button size=\"sm\" buttonType=\"outline\">\r\n        {t(\"推荐卡组\")}\r\n      </Button>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport { MyDecks, RecommendDecks };\r\n","import React, { useState } from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n// import shortid from 'shortid'\r\n// import axios from \"axios\";\r\nimport ScrollBars from \"react-custom-scrollbars\";\r\nimport { Popover } from \"antd\";\r\n\r\nimport Modal from \"@material-tailwind/react/Modal\";\r\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\r\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\r\n\r\nimport db from \"@/db.js\";\r\nimport dbL from \"@/dbL.js\";\r\nimport t from \"@/components/t.js\";\r\nimport Layout from \"@/components/common/Layout.js\";\r\nimport EventList from \"@/components/event/EventList\";\r\nimport SkillList from \"@/components/skill/SkillList\";\r\nimport { BuffButton } from \"@/components/buff.js\";\r\n\r\nimport {\r\n  // RaceSchedule,\r\n  RaceTimeline,\r\n  RaceCheckbox,\r\n} from \"@/components/race\";\r\nimport { MyDecks, RecommendDecks } from \"@/components/deck.js\";\r\n\r\nimport GridLayout from \"react-grid-layout\";\r\nimport \"react-grid-layout/css/styles.css\";\r\n// import Race from './race.js'\r\nimport SupportList from \"@/components/support/SupportList\";\r\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\r\nimport PlayerList from \"@/components/player/PlayerList\";\r\n// import Checkbox from 'antd/lib/checkbox/Checkbox';\r\n\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\r\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\nconst Nurturing = () => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  const [needSelect, setNeedSelect] = useState(false);\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [supportIndex, setSupportIndex] = useState(1);\r\n\r\n  const selected = dbL.get(\"selected\").value();\r\n  const [supports, setSupports] = useState(selected.supports);\r\n  const [player, setPlayer] = useState(selected.player);\r\n\r\n  const races = db.get(\"races\").value();\r\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\r\n    selected.raceFilterCondition || {\r\n      distanceType: [],\r\n      grade: [],\r\n      ground: [],\r\n    }\r\n  );\r\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\r\n\r\n  const showPlayer = () => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const handleSelectPlayer = (data) => {\r\n    setIsPlayerVisible(false);\r\n    setPlayer(data);\r\n    // save player\r\n    selected.player = data;\r\n    dbL.get(\"selected\").assign(selected).write();\r\n  };\r\n\r\n  const showSupport = (index) => {\r\n    setNeedSelect(true);\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index);\r\n  };\r\n  const showSupport2 = (index) => {\r\n    setNeedSelect(false);\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index);\r\n  };\r\n\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const handleSelectSupport = (data) => {\r\n    let newData = {};\r\n    newData[supportIndex] = data;\r\n    setSupports(Object.assign({}, supports, newData));\r\n    setIsSupportVisible(false);\r\n\r\n    // save\r\n    selected.supports[supportIndex] = data;\r\n    dbL.get(\"selected\").assign(selected).write();\r\n  };\r\n\r\n  const loadDeck = (deck) => {\r\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\r\n    selected.player = {};\r\n    if (deck.playerId) {\r\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\r\n    }\r\n    setPlayer(selected.player);\r\n    deck.supportsId.forEach((id, index) => {\r\n      if (id) {\r\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\r\n      }\r\n    });\r\n    setSupports({ ...selected.supports });\r\n    dbL.get(\"selected\").assign(selected).write();\r\n  };\r\n\r\n  // race checkbox发生变化\r\n  const onChangeRace = (filterCondition) => {\r\n    setRaceFilterCondition(filterCondition);\r\n    //根据条件过滤\r\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\r\n      ? Object.entries(filterCondition)\r\n          .filter(([key, filters]) => filters.length > 0)\r\n          .reduce(\r\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\r\n            races\r\n          )\r\n      : [];\r\n    //过滤后整理成 dataNum:[raceId]\r\n    let tmpFilterRace = {};\r\n    for (let race of tmpRaceList) {\r\n      if (tmpFilterRace[race.dateNum]) {\r\n        tmpFilterRace[race.dateNum].push(race.id);\r\n      } else {\r\n        tmpFilterRace[race.dateNum] = [race.id];\r\n      }\r\n    }\r\n    //更新state\r\n    setFilterRace(tmpFilterRace);\r\n    selected.raceFilterCondition = filterCondition;\r\n    selected.filterRace = tmpFilterRace;\r\n    dbL\r\n      .get(\"selected\")\r\n      .assign({ ...selected })\r\n      .write();\r\n  };\r\n\r\n  const useViewport = () => {\r\n    const [width, setWidth] = React.useState(window.innerWidth);\r\n    const [height, setHeight] = React.useState(window.innerHeight);\r\n    React.useEffect(() => {\r\n      const handleWindowResize = () => {\r\n        setHeight(window.innerHeight);\r\n        setWidth(window.innerWidth);\r\n      };\r\n      window.addEventListener(\"resize\", handleWindowResize);\r\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\r\n    }, []);\r\n    return { height, width };\r\n  };\r\n\r\n  const dynamicRowHeight = Math.floor((useViewport().height - 128 - 40) / 18);\r\n\r\n  const layoutWithBlank = [\r\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\r\n    { i: \"b\", x: 2, y: 0, w: 7, h: 2 },\r\n    { i: \"c\", x: 0, y: 2, w: 9, h: 7 },\r\n    { i: \"d\", x: 0, y: 10, w: 4, h: 4 },\r\n    { i: \"e\", x: 4, y: 10, w: 5, h: 7 },\r\n    { i: \"f\", x: 0, y: 14, w: 4, h: 3 },\r\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\r\n    { i: \"s0\", x: 17, y: 0, w: 5, h: 8 },\r\n    { i: \"s1\", x: 22, y: 0, w: 5, h: 8 },\r\n    { i: \"s2\", x: 27, y: 0, w: 5, h: 8 },\r\n    { i: \"s3\", x: 17, y: 9, w: 5, h: 8 },\r\n    { i: \"s4\", x: 22, y: 9, w: 5, h: 8 },\r\n    { i: \"s5\", x: 27, y: 9, w: 5, h: 8 },\r\n  ];\r\n  const layoutWithoutBlank = [\r\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\r\n    { i: \"b\", x: 2, y: 0, w: 9, h: 2 },\r\n    { i: \"c\", x: 0, y: 2, w: 11, h: 7 },\r\n    { i: \"d\", x: 0, y: 10, w: 5, h: 4 },\r\n    { i: \"e\", x: 5, y: 10, w: 6, h: 7 },\r\n    { i: \"f\", x: 0, y: 14, w: 5, h: 3 },\r\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\r\n    { i: \"s0\", x: 11, y: 0, w: 7, h: 8 },\r\n    { i: \"s1\", x: 18, y: 0, w: 7, h: 8 },\r\n    { i: \"s2\", x: 25, y: 0, w: 7, h: 8 },\r\n    { i: \"s3\", x: 11, y: 9, w: 7, h: 8 },\r\n    { i: \"s4\", x: 18, y: 9, w: 7, h: 8 },\r\n    { i: \"s5\", x: 25, y: 9, w: 7, h: 8 },\r\n  ];\r\n  const originalLayout = dbL.get(\"layout\").value() || layoutWithoutBlank;\r\n  const [layout, setLayout] = useState(originalLayout);\r\n  const onLayoutChange = (layout) => {\r\n    /*eslint no-console: 0*/\r\n    dbL.set(\"layout\", layout).write();\r\n    setLayout(layout);\r\n    // onLayoutChange(layout); // updates status display\r\n  };\r\n  const panelClass = \"bg-white border border-solid border-gray-500\";\r\n  const headClass = \"panel-heading w-full text-center bg-gray-300 cursor-move\";\r\n  const pBodyStyle = {\r\n    height: \"calc(100% - 22px)\",\r\n  };\r\n  return (\r\n    <>\r\n      <GridLayout\r\n        cols={32}\r\n        layout={layout}\r\n        draggableCancel=\".panel-title\"\r\n        draggableHandle=\".panel-heading\"\r\n        rowHeight={dynamicRowHeight}\r\n        width={useViewport().width - 10}\r\n        onLayoutChange={onLayoutChange}\r\n        useCSSTransforms={false}\r\n      >\r\n        <div key=\"a\" className={panelClass}>\r\n          <div className={headClass} onClick={showPlayer}>\r\n            {t(\"选择马娘\")}\r\n          </div>\r\n          {player.id && (\r\n            <img\r\n              src={cdnServer + player.imgUrl}\r\n              alt={player.imgUrl}\r\n              style={{ ...pBodyStyle }}\r\n              onClick={showPlayer}\r\n            />\r\n          )}\r\n        </div>\r\n        <div key=\"b\" className={panelClass}>\r\n          <div className={headClass}>{t(\"操作\")}</div>\r\n          <div className=\"flex flex-wrap\">\r\n            <Button size=\"sm\" buttonType=\"outline\" className=\"add-player\" onClick={showPlayer}>\r\n              {t(\"选择马娘\")}\r\n            </Button>\r\n            <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\r\n              {t(\"支援卡查询\")}\r\n            </Button>\r\n            <BuffButton />\r\n            <Popover\r\n              content={\r\n                <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\r\n              }\r\n            >\r\n              <Button size=\"sm\" buttonType=\"outline\">\r\n                {t(\"比赛\")}\r\n              </Button>\r\n            </Popover>\r\n            <MyDecks player={player} supports={supports} loadDeck={loadDeck} />\r\n            <RecommendDecks player={player} loadDeck={loadDeck} />\r\n\r\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithBlank)}>\r\n              {t(\"初始化布局(有留白)\")}\r\n            </Button>\r\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithoutBlank)}>\r\n              {t(\"初始化布局(无留白)\")}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div key=\"c\" className={panelClass}>\r\n          <div className={headClass}>{t(\"事件\")}</div>\r\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\r\n            {/* <p>{player.id}</p> */}\r\n            <EventList idList={player.eventList} sortFlag={true} />\r\n          </ScrollBars>\r\n        </div>\r\n        <div key=\"d\" className={panelClass}>\r\n          <div className={headClass}>{t(\"技能\")}</div>\r\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\r\n            <SkillList idList={player.skillList} isNur={true} size=\"small\" />\r\n          </ScrollBars>\r\n        </div>\r\n        <div key=\"e\" className={panelClass}>\r\n          <div className={headClass}>{t(\"比赛\")}</div>\r\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\r\n            <RaceTimeline raceList={player.raceList || []} filterRace={filterRace} />\r\n          </ScrollBars>\r\n        </div>\r\n        <div key=\"f\" className={panelClass}>\r\n          <div className={headClass}>{t(\"隐藏事件\")}</div>\r\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\r\n            <EventList idList={player.hideEvent} />\r\n          </ScrollBars>\r\n        </div>\r\n        {[0, 1, 2, 3, 4, 5].map((index) => {\r\n          let support = supports[index];\r\n          if (support.id) {\r\n            return (\r\n              <div key={`s${index}`} className={panelClass}>\r\n                <div className={headClass}>\r\n                  <span\r\n                    className=\"panel-title\"\r\n                    onClick={() => showSupport(index)}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {t(\"选择支援卡\")}\r\n                  </span>\r\n                </div>\r\n                <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\r\n                  <div style={{ display: \"flex\" }}>\r\n                    <img\r\n                      style={{ width: \"26%\", height: \"39%\" }}\r\n                      src={cdnServer + support.imgUrl}\r\n                      alt={support.imgUrl}\r\n                    />\r\n                    <div style={{ flex: \"1 1 auto\" }}>\r\n                      <EventList idList={supports[index].eventList} pid={supports[index].id} />\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\r\n                    {t(\"培训技能\")}\r\n                  </div>\r\n                  <SkillList idList={supports[index].possessionSkill} isNur={true} size=\"small\" />\r\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\r\n                    {t(\"事件技能\")}\r\n                  </div>\r\n                  <SkillList\r\n                    idList={supports[index].trainingEventSkill}\r\n                    isNur={true}\r\n                    size=\"small\"\r\n                  />\r\n                </ScrollBars>\r\n              </div>\r\n            );\r\n          } else {\r\n            return (\r\n              <div key={`s${index}`} className={panelClass}>\r\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => showSupport(index)}>\r\n                  {t(\"选择支援卡\")}\r\n                </Button>\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n      </GridLayout>\r\n      <Modal size=\"lg\" active={isPlayerVisible} toggler={closePlayer}>\r\n        <ModalHeader toggler={closePlayer}>选择支援卡</ModalHeader>\r\n        <ModalBody>\r\n          <div className=\"w-full h-full\" style={{ maxHeight: \"80vh\", overflow: \"auto\" }}>\r\n            <PlayerList onClick={handleSelectPlayer} sortFlag={true} />\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n      <Modal size=\"lg\" active={isSupportVisible} toggler={closeSupport}>\r\n        <ModalHeader toggler={closeSupport}>选择支援卡</ModalHeader>\r\n        <ModalBody>\r\n          <div\r\n            className=\"w-full h-full flex relative\"\r\n            style={{ maxHeight: \"80vh\", overflow: \"auto\" }}\r\n          >\r\n            <SupportListWithFilter\r\n              onClick={needSelect ? handleSelectSupport : null}\r\n              limitHeight={true}\r\n              sortFlag={true}\r\n            />\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nurturing;\r\n","import React, { useState } from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\n\r\nimport Modal from \"@material-tailwind/react/Modal\";\r\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\r\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport db from \"@/db.js\";\r\nimport t from \"@/components/t.js\";\r\nimport SkillList from \"@/components/skill/SkillList\";\r\nimport SkillFilterForm from \"@/components/skill/SkillFilterForm\";\r\n\r\nimport useViewport from \"@/utils/useViewport\";\r\n\r\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\ndocument.title = TITLE;\r\nconst Skill = (props) => {\r\n  const viewport = useViewport();\r\n  const [show, setShow] = React.useState(false);\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  // 所有技能列表\r\n  const allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\r\n\r\n  const [skillList, setSkillList] = useState(allSkillList);\r\n\r\n  // init supportMode\r\n  localStorage.getItem(\"supportMode\") === null && localStorage.setItem(\"supportMode\", 0);\r\n\r\n  return (\r\n    <>\r\n      {viewport?.width >= 768 ? (\r\n        <div\r\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\r\n          style={{\r\n            height: \"calc(100vh - 120px)\",\r\n          }}\r\n        >\r\n          <SkillFilterForm onUpdate={setSkillList} />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\r\n            onClick={() => setShow(true)}\r\n          >\r\n            筛选\r\n          </Button>\r\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\r\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选技能\"}</ModalHeader>\r\n            <ModalBody className=\"flex flex-col\">\r\n              <SkillFilterForm onUpdate={setSkillList} />\r\n            </ModalBody>\r\n          </Modal>\r\n        </>\r\n      )}\r\n\r\n      <SkillList className=\"w-full md:w-3/4\" dataList={skillList} sortFlag={true} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Skill;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\nimport {\r\n  Row,\r\n  Alert,\r\n  Image,\r\n  // Divider,\r\n  Table,\r\n  Modal,\r\n  Col,\r\n  Radio,\r\n  Rate,\r\n  Form,\r\n  Slider,\r\n  PageHeader,\r\n  Input,\r\n  // Space,\r\n  Card,\r\n} from \"antd\";\r\nimport { message } from \"antd\";\r\n//test\r\nimport {\r\n  PlusOutlined,\r\n  SmileOutlined,\r\n  FrownOutlined,\r\n  CopyOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport axios from \"axios\";\r\nimport db from \"@/db.js\";\r\nimport dbL from \"@/dbL.js\";\r\n// import t from \"../components/t.js\";\r\n\r\nimport Layout from \"@/components/common/Layout.js\";\r\nimport PlayerList from \"@/components/player/PlayerList\";\r\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n// db.set('userId',null).write()\r\nlet userId = dbL.get(\"userId\").value();\r\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\n/*\r\nuserId 随机生成\r\n种马玩家id\r\n种马id\r\n蓝色因子 - speed stamina power guts wisdom\r\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\r\n        - escapeR leadingR insertR trackingR\r\n绿色因子\r\n种马父id\r\n种马母id\r\n\r\ntotal blue\r\ntotal red\r\nwhite num\r\n*/\r\n// 生成一个userId\r\n\r\nconst blueLabels = {\r\n  speed: \"速度\",\r\n  stamina: \"耐力\",\r\n  power: \"力量\",\r\n  guts: \"根性\",\r\n  wisdom: \"智力\",\r\n};\r\nconst redLabels = {\r\n  grass: \"草地\",\r\n  dirt: \"泥地\",\r\n  shortDistance: \"短距离\",\r\n  mile: \"英里\",\r\n  mediumDistance: \"中距离\",\r\n  longDistance: \"长距离\",\r\n  escapeR: \"逃\",\r\n  leadingR: \"先\",\r\n  insertR: \"差\",\r\n  trackingR: \"追\",\r\n};\r\n\r\nconst PlayerInput = ({ value = {}, onChange }) => {\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showPlayer = (index) => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsPlayerVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectPlayer = (data) => {\r\n    setData(data);\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <Image\r\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n        preview={false}\r\n        fallback=\"data:image/png;base64,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\"\r\n        width={80}\r\n        onClick={showPlayer}\r\n      />\r\n      <Modal\r\n        visible={isPlayerVisible}\r\n        onOk={closePlayer}\r\n        onCancel={closePlayer}\r\n        width={\"80%\"}\r\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\r\n      >\r\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SupportInput = ({ value = {}, onChange }) => {\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showSupport = (index) => {\r\n    setIsSupportVisible(true);\r\n  };\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsSupportVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectSupport = (data) => {\r\n    setData(data);\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <Image\r\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n        preview={false}\r\n        fallback=\"data:image/png;base64,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\"\r\n        width={80}\r\n        onClick={showSupport}\r\n      />\r\n      <Modal\r\n        visible={isSupportVisible}\r\n        onOk={closeSupport}\r\n        onCancel={closeSupport}\r\n        width={\"80%\"}\r\n        bodyStyle={{ height: \"90vh\" }}\r\n      >\r\n        <div className=\"w-full h-full overflow-hidden flex relative\">\r\n          <SupportListWithFilter onClick={handleSelectSupport} sortFlag={true} />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SeedInput = (props) => {\r\n  const [form] = Form.useForm();\r\n  const [seed, setSeed] = useState({});\r\n\r\n  const onFinish = async (value) => {\r\n    let tmpSeed = seed;\r\n    tmpSeed = Object.assign({}, seed, value);\r\n    setSeed(tmpSeed);\r\n    // db.set('form',form).write()\r\n    // 修整成需要的数据\r\n    const formData = { ...tmpSeed };\r\n    formData.userId = userId || dbL.get(\"userId\").value();\r\n    let updateTime = new Date().getTime();\r\n    formData.updateTime = updateTime;\r\n    formData[\"playerId0\"] = value[\"player0\"].id;\r\n    formData[\"playerId1\"] = value[\"player1\"].id;\r\n    formData[\"playerId2\"] = value[\"player2\"].id;\r\n    formData[\"supportId\"] = value[\"support\"].id;\r\n    delete formData[\"support\"];\r\n    delete formData[\"player0\"];\r\n    delete formData[\"player1\"];\r\n    delete formData[\"player2\"];\r\n    // formData[formData['blue0']]=formData['blueLevel0']\r\n    // formData[formData['red0']]=formData['redLevel0']\r\n    let list = [\"0\", \"1\", \"2\"];\r\n    list.forEach((i) => {\r\n      //统计蓝色因子\r\n      if (formData[formData[`blue${i}`]] !== undefined) {\r\n        formData[formData[`blue${i}`]] += formData[`blueLevel${i}`];\r\n      } else {\r\n        formData[formData[`blue${i}`]] = formData[`blueLevel${i}`];\r\n      }\r\n      //统计红色因子\r\n      if (formData[formData[`red${i}`]] !== undefined) {\r\n        formData[formData[`red${i}`]] += formData[`redLevel${i}`];\r\n      } else {\r\n        formData[formData[`red${i}`]] = formData[`redLevel${i}`];\r\n      }\r\n      //统计红色因子\r\n      if (formData[\"white\"] !== undefined) {\r\n        formData[\"white\"] += formData[`whiteNum${i}`];\r\n      } else {\r\n        formData[\"white\"] = formData[`whiteNum${i}`];\r\n      }\r\n      //统计ura\r\n      if (formData[\"uraLevel\"] !== undefined) {\r\n        formData[\"uraLevel\"] += formData[`uraLevel${i}`];\r\n      } else {\r\n        formData[\"uraLevel\"] = formData[`uraLevel${i}`];\r\n      }\r\n    });\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/add\", formData);\r\n    if (res.data && res.data.success) {\r\n      message.info(\"成功添加\");\r\n      props.onFinish();\r\n    } else {\r\n      message.info(\"有地方出错了\");\r\n    }\r\n  };\r\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\r\n\r\n  const getFields = () => {\r\n    const children = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      children.push(\r\n        <Col span={8} key={i}>\r\n          <PageHeader title={`${list[i]}`} />\r\n          <Row>\r\n            <Col span={6} offset={4}>\r\n              <Form.Item label=\"角色\" name={`player${i}`} rules={[{ required: true }]}>\r\n                <PlayerInput />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Form.Item label=\"蓝色因子\" name={`blue${i}`} rules={[{ required: true }]}>\r\n            <Radio.Group>\r\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\r\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\r\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\r\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\r\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel${i}`} rules={[{ required: true }]}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"红色因子\" name={`red${i}`} rules={[{ required: true }]}>\r\n            <Radio.Group>\r\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\r\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\r\n              <hr />\r\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\r\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\r\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\r\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\r\n              <hr />\r\n              <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\r\n              <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\r\n              <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\r\n              <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item label=\"红色因子星数\" name={`redLevel${i}`} rules={[{ required: true }]}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel${i}`} initialValue={0}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"URA因子星数\" name={`uraLevel${i}`} initialValue={0}>\r\n            <Rate count={3} />\r\n          </Form.Item>\r\n          <Form.Item label=\"白色因子个数\" name={`whiteNum${i}`} initialValue={0}>\r\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"} />\r\n          </Form.Item>\r\n        </Col>\r\n      );\r\n    }\r\n    return children;\r\n  };\r\n  return (\r\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\r\n      <Alert\r\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\r\n        type=\"info\"\r\n      />\r\n      <Row gutter={24}>{getFields()}</Row>\r\n      <Row justify=\"end\">\r\n        <Col span={3}>\r\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\r\n            <SupportInput />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4} offset={1}>\r\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\r\n            <Rate count={4} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={4} offset={1}>\r\n          <Form.Item\r\n            label=\"玩家id\"\r\n            name=\"gameId\"\r\n            rules={[\r\n              { required: true },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input placeholder=\"id\" style={{ width: \"100%\" }} />\r\n          </Form.Item>\r\n        </Col>\r\n        <Col span={2} offset={2}>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              提交\r\n            </Button>\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst SearchOne = (props) => {\r\n  return (\r\n    <Form.List name={props.name}>\r\n      {(fields, { add, remove }, { errors }) => (\r\n        <>\r\n          <Row>\r\n            {fields.map((field, index) => (\r\n              <Col key={field.key} lg={8} md={12} xs={24}>\r\n                <Row>\r\n                  <Form.Item\r\n                    {...field}\r\n                    name={[field.name, \"attr\"]}\r\n                    fieldKey={[field.fieldKey, \"attr\"]}\r\n                    rules={[{ required: true }]}\r\n                    validateTrigger={[\"onChange\", \"onBlur\"]}\r\n                    noStyle\r\n                  >\r\n                    <Radio.Group>\r\n                      <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\r\n                      <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\r\n                      <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\r\n                      <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\r\n                      <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\r\n                      <br />\r\n                      <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\r\n                      <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\r\n                      <br />\r\n                      <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\r\n                      <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\r\n                      <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\r\n                      <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\r\n                      <br />\r\n                      <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\r\n                      <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\r\n                      <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\r\n                      <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\r\n                      <br />\r\n                      <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\r\n                    </Radio.Group>\r\n                  </Form.Item>\r\n                </Row>\r\n                <Row>\r\n                  <Form.Item\r\n                    {...field}\r\n                    name={[field.name, \"level\"]}\r\n                    fieldKey={[field.fieldKey, \"level\"]}\r\n                    rules={[{ required: true }]}\r\n                  >\r\n                    <Rate count={props.max} />\r\n                  </Form.Item>\r\n                </Row>\r\n                <Col span={5}>\r\n                  <Button type=\"dashed\" onClick={() => remove(field.name)}>\r\n                    移除\r\n                  </Button>\r\n                </Col>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Row justify=\"start\">\r\n            <Form.Item>\r\n              <Button\r\n                type=\"dashed\"\r\n                onClick={() => add()}\r\n                // style={{ width: '60%' }}\r\n                icon={<PlusOutlined />}\r\n              >\r\n                添加过滤条件\r\n              </Button>\r\n\r\n              <Form.ErrorList errors={errors} />\r\n            </Form.Item>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </Form.List>\r\n  );\r\n};\r\n\r\nconst SearchForm = (props) => {\r\n  const [form] = Form.useForm();\r\n  const onFinish = async (value) => {\r\n    let formData = { attrs: [], levels: [] };\r\n    if (value[\"player0\"]) {\r\n      formData.attrs.push(\"playerId0\");\r\n      formData.levels.push(value[\"player0\"].id);\r\n    }\r\n    if (value[\"supportLevel\"]) {\r\n      formData.attrs.push(\"supportLevel\");\r\n      formData.levels.push(value[\"supportLevel\"]);\r\n    }\r\n    if (value[\"support\"]) {\r\n      formData.attrs.push(\"supportId\");\r\n      formData.levels.push(value[\"support\"].id);\r\n    }\r\n    value.p0?.forEach((item) => {\r\n      if (blueLabels[item.attr]) {\r\n        formData[\"blue0\"] = item.attr;\r\n        formData.attrs.push(\"blueLevel0\");\r\n        formData.levels.push(item.level);\r\n      } else if (redLabels[item.attr]) {\r\n        formData[\"red0\"] = item.attr;\r\n        formData.attrs.push(\"redLevel0\");\r\n        formData.levels.push(item.level);\r\n      } else if (item.attr === \"uraLevel\") {\r\n        formData.attrs.push(\"uraLevel0\");\r\n        formData.levels.push(item.level);\r\n      }\r\n    });\r\n    value.p1?.forEach((item) => {\r\n      formData.attrs.push(item.attr);\r\n      formData.levels.push(item.level);\r\n    });\r\n\r\n    props.search(formData);\r\n  };\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n  return (\r\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\r\n      <Row>\r\n        <Form.Item label=\"角色\" name={`player0`}>\r\n          <PlayerInput />\r\n        </Form.Item>\r\n      </Row>\r\n      <SearchOne name=\"p0\" max=\"3\" />\r\n      <div>总计:</div>\r\n      <SearchOne name=\"p1\" max=\"9\" />\r\n      <Row>\r\n        <Form.Item label=\"支援卡\" name={\"support\"}>\r\n          <SupportInput />\r\n        </Form.Item>\r\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\r\n          <Rate count={4} />\r\n        </Form.Item>\r\n      </Row>\r\n      <Row justify=\"end\">\r\n        <Form.Item>\r\n          <Button htmlType=\"button\" onClick={() => onReset()}>\r\n            重置\r\n          </Button>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            搜索\r\n          </Button>\r\n        </Form.Item>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst PlayerImage = (props) => {\r\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\r\n  return (\r\n    <Image\r\n      src={cdnServer + imgUrl}\r\n      fallback=\"data:image/png;base64,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\"\r\n      width={80}\r\n      preview={false}\r\n    />\r\n  );\r\n};\r\n\r\nconst SupportImage = (props) => {\r\n  let support = db.get(\"supports\").find({ id: props.id }).value();\r\n  let imgUrl = \"\";\r\n  if (support) {\r\n    imgUrl = support.imgUrl;\r\n  }\r\n  return (\r\n    <Image\r\n      src={cdnServer + imgUrl}\r\n      fallback=\"data:image/png;base64,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\"\r\n      width={80}\r\n      preview={false}\r\n    />\r\n  );\r\n};\r\n\r\nconst Seed = () => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\r\n  const [seedList, setSeedList] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  // const [current, setCurrent] = useState(0)\r\n  const [value, setValue] = useState();\r\n\r\n  const columns = [\r\n    {\r\n      title: \"玩家id\",\r\n      dataIndex: \"gameId\",\r\n      key: \"gameId\",\r\n      render: (text, seed) => (\r\n        <>\r\n          <Row>\r\n            <p>{text}</p>\r\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\r\n              <CopyOutlined />\r\n            </CopyToClipboard>\r\n          </Row>\r\n          <Row align=\"middle\">\r\n            <SmileOutlined onClick={() => like(seed)} />\r\n            <p>{seed.likes}</p>\r\n          </Row>\r\n          <Row align=\"middle\">\r\n            <FrownOutlined onClick={() => dislike(seed)} />\r\n            <p>{seed.dislikes}</p>\r\n          </Row>\r\n          {seed.userId === userId && (\r\n            <Row align=\"middle\">\r\n              <DeleteOutlined onClick={() => deleteSeed(seed)} />\r\n            </Row>\r\n          )}\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"主要\",\r\n      dataIndex: \"playerId0\",\r\n      key: \"playerId0\",\r\n      render: (text) => <PlayerImage id={text} />,\r\n    },\r\n    {\r\n      title: \"蓝色因子\",\r\n      dataIndex: \"blue0\",\r\n      key: \"blue0\",\r\n      render: (text, record) => (\r\n        <span className=\"rate-label\">{`${blueLabels[text]}\\xa0\\xa0${record[\"blueLevel0\"]}`}</span>\r\n      ),\r\n    },\r\n    {\r\n      title: \"红色因子\",\r\n      dataIndex: \"red0\",\r\n      key: \"red0\",\r\n      render: (text, record) => (\r\n        <span className=\"rate-label\">{`${redLabels[text]}\\xa0\\xa0${record[\"redLevel0\"]}`}</span>\r\n      ),\r\n    },\r\n    {\r\n      title: \"绿色因子\",\r\n      dataIndex: \"greenLevel0\",\r\n      key: \"greenLevel0\",\r\n      render: (text, record) => (\r\n        <span className=\"rate-label\">{`固有\\xa0\\xa0${record[\"greenLevel0\"]}`}</span>\r\n      ),\r\n    },\r\n    {\r\n      title: \"URA\",\r\n      dataIndex: \"uraLevel0\",\r\n      key: \"uraLevel0\",\r\n      render: (text, record) => (\r\n        <span className=\"rate-label\">\r\n          {`${record[\"uraLevel0\"] ? `URA  ${record[\"uraLevel0\"]}` : \"\"}`}\r\n        </span>\r\n      ),\r\n    },\r\n    {\r\n      title: \"父辈1\",\r\n      dataIndex: \"playerId1\",\r\n      key: \"playerId1\",\r\n      render: (text) => <PlayerImage id={text} />,\r\n    },\r\n    {\r\n      title: \"父辈2\",\r\n      dataIndex: \"playerId2\",\r\n      key: \"playerId2\",\r\n      render: (text) => <PlayerImage id={text} />,\r\n    },\r\n    {\r\n      title: \"总计蓝色\",\r\n      key: \"allBlue\",\r\n      render: (text, record) =>\r\n        Object.keys(blueLabels).map((key) => {\r\n          if (record[key]) {\r\n            return <span className=\"rate-label\">{`${blueLabels[key]}\\xa0\\xa0${record[key]}`}</span>;\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n    },\r\n    {\r\n      title: \"总计红色\",\r\n      key: \"allRed\",\r\n      render: (text, record) =>\r\n        Object.keys(redLabels).map((key) => {\r\n          if (record[key]) {\r\n            return <span className=\"rate-label\">{`${redLabels[key]}\\xa0\\xa0${record[key]}`}</span>;\r\n          } else {\r\n            return null;\r\n          }\r\n        }),\r\n    },\r\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\r\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\r\n    {\r\n      title: \"支援卡\",\r\n      dataIndex: \"supportId\",\r\n      key: \"supportId\",\r\n      render: (text) => <SupportImage id={text} />,\r\n    },\r\n    {\r\n      title: \"突破等级\",\r\n      dataIndex: \"supportLevel\",\r\n      key: \"supportLevel\",\r\n      render: (text, record) => (\r\n        <Row>\r\n          <Rate count={4} value={record[\"supportLevel\"]} disabled />\r\n        </Row>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const showSeedInput = (index) => {\r\n    setIsSeedInputVisible(true);\r\n  };\r\n  const closeSeedInput = () => {\r\n    setIsSeedInputVisible(false);\r\n  };\r\n  const showMySeed = () => {\r\n    search({ attrs: [\"userId\"], levels: [userId] });\r\n  };\r\n  const deleteSeed = async (value) => {\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/delete\", value);\r\n    if (res.data) {\r\n      message.info(\"成功删除\");\r\n    } else {\r\n      message.info(\"出错了\");\r\n    }\r\n  };\r\n  const search = async (value) => {\r\n    setValue(value);\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\r\n    // setCurrent(0)\r\n    if (res.data) {\r\n      if (res.data.count) {\r\n        setSeedList([...res.data.list]);\r\n        setTotal(res.data.count);\r\n      } else {\r\n        setSeedList([]);\r\n        setTotal(0);\r\n        message.info(\"暂无数据\");\r\n      }\r\n    } else {\r\n      message.info(\"出错了\");\r\n    }\r\n  };\r\n  const like = async (seed) => {\r\n    if (!userId) {\r\n      message.info(\"刷新后重试\");\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\r\n    if (res.data) {\r\n      message.info(\"成功\");\r\n      seed.likes += 1;\r\n    }\r\n    setSeedList([...seedList]);\r\n  };\r\n  const dislike = async (seed) => {\r\n    if (!userId) {\r\n      message.info(\"刷新后重试\");\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\r\n    if (res.data) {\r\n      message.info(\"成功\");\r\n      seed.dislikes += 1;\r\n    }\r\n    setSeedList([...seedList]);\r\n  };\r\n  const onChange = (e) => {\r\n    search({\r\n      ...value,\r\n      count: e.total,\r\n      offset: e.current * 10 - 10,\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"seed-container\">\r\n        <Card className=\"card\" title=\"过滤条件\">\r\n          <SearchForm search={search} />\r\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\r\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\r\n        </Card>\r\n        <Card className=\"card\" title=\"结果\">\r\n          <Table\r\n            columns={columns}\r\n            dataSource={seedList}\r\n            onChange={onChange}\r\n            pagination={{\r\n              pageSize: 10,\r\n              total: total,\r\n              simple: true,\r\n              showQuickJumper: false,\r\n              position: [\"topRight\", \"bottomRight\"],\r\n            }}\r\n            rowKey={\"id\"}\r\n          />\r\n        </Card>\r\n      </div>\r\n      <Modal\r\n        visible={isSeedInputVisible}\r\n        onOk={closeSeedInput}\r\n        onCancel={closeSeedInput}\r\n        footer={null}\r\n        width={\"80%\"}\r\n      >\r\n        <SeedInput onFinish={closeSeedInput} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default Seed;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport shortid from \"shortid\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport db from \"@/db.js\";\r\nimport dbL from \"@/dbL.js\";\r\nimport t from \"@/components/t.js\";\r\nimport {\r\n  Divider,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  Popconfirm,\r\n  Popover,\r\n  // Tooltip\r\n} from \"antd\";\r\nimport { EditOutlined } from \"@ant-design/icons\";\r\nimport SupportList from \"@/components/support/SupportList.js\";\r\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\r\nimport PlayerList from \"@/components/player/PlayerList.js\";\r\nimport Layout from \"@/components/common/Layout.js\";\r\nimport {\r\n  // RaceSchedule,\r\n  RaceTimeline,\r\n  RaceCheckbox,\r\n} from \"../../components/race\";\r\n\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\r\n\r\nconst Nurturing = (props) => {\r\n  const history = useHistory();\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  const [needSelect, setNeedSelect] = useState(false);\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [supportIndex, setSupportIndex] = useState(1);\r\n\r\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\r\n\r\n  const selected = dbL.get(\"selected\").value();\r\n  const [supports, setSupports] = useState(selected.supports);\r\n  const [player, setPlayer] = useState(selected.player);\r\n  const races = db.get(\"races\").value();\r\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\r\n    selected.raceFilterCondition || {\r\n      distanceType: [],\r\n      grade: [],\r\n      ground: [],\r\n    }\r\n  );\r\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\r\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\r\n\r\n  const showPlayer = () => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const handleSelectPlayer = (data) => {\r\n    setIsPlayerVisible(false);\r\n    setPlayer(data);\r\n\r\n    // save\r\n    selected.player = data;\r\n    dbL.get(\"selected\").assign(selected).write();\r\n    closePlayer();\r\n  };\r\n\r\n  const showSupport = (index) => {\r\n    setNeedSelect(true);\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index);\r\n  };\r\n  const showSupport2 = (index) => {\r\n    setNeedSelect(false);\r\n    setIsSupportVisible(true);\r\n    setSupportIndex(index);\r\n  };\r\n\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const handleSelectSupport = (data) => {\r\n    let newData = {};\r\n    newData[supportIndex] = data;\r\n    setSupports(Object.assign({}, supports, newData));\r\n    setIsSupportVisible(false);\r\n\r\n    // save\r\n    selected.supports[supportIndex] = data;\r\n    dbL.get(\"selected\").assign(selected).write();\r\n    closeSupport();\r\n  };\r\n  const handleSelectSupportShow = (data) => {\r\n    history.push(`/support-detail/${data.id}`);\r\n    closeSupport();\r\n  };\r\n  // 卡组相关操作\r\n  const saveDeck = (deck) => {\r\n    let tmpDeck = {\r\n      imgUrls: [],\r\n      supportsId: [],\r\n    };\r\n    if (player.id) {\r\n      tmpDeck.playerId = player.id;\r\n      tmpDeck.imgUrls.push(player.imgUrl);\r\n    }\r\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\r\n      if (supports[index] && supports[index].id) {\r\n        tmpDeck.imgUrls.push(supports[index].imgUrl);\r\n        tmpDeck.supportsId.push(supports[index].id);\r\n      } else {\r\n        tmpDeck.supportsId.push(null);\r\n      }\r\n    });\r\n    if (deck) {\r\n      //update\r\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\r\n    } else {\r\n      //\r\n      tmpDeck.id = shortid.generate();\r\n      dbL.get(\"myDecks\").push(tmpDeck).write();\r\n    }\r\n    setDecks([...dbL.get(\"myDecks\").value()]);\r\n  };\r\n  const loadDeck = (deck) => {\r\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\r\n    selected.player = {};\r\n    if (deck.playerId) {\r\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\r\n    }\r\n    setPlayer(selected.player);\r\n    deck.supportsId.forEach((id, index) => {\r\n      if (id) {\r\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\r\n      }\r\n    });\r\n    setSupports({ ...selected.supports });\r\n    db.get(\"selected\").assign(selected).write();\r\n  };\r\n  const deleteDeck = (deck) => {\r\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\r\n    setDecks([...dbL.get(\"myDecks\").value()]);\r\n  };\r\n  // race checkbox发生变化\r\n  const onChangeRace = (filterCondition) => {\r\n    setRaceFilterCondition(filterCondition);\r\n    //根据条件过滤\r\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\r\n      ? Object.entries(filterCondition)\r\n          .filter(([key, filters]) => filters.length > 0)\r\n          .reduce(\r\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\r\n            races\r\n          )\r\n      : [];\r\n    //过滤后整理成 dataNum:[raceId]\r\n    let tmpFilterRace = {};\r\n    for (let race of tmpRaceList) {\r\n      if (tmpFilterRace[race.dateNum]) {\r\n        tmpFilterRace[race.dateNum].push(race.id);\r\n      } else {\r\n        tmpFilterRace[race.dateNum] = [race.id];\r\n      }\r\n    }\r\n    //更新state\r\n    setFilterRace(tmpFilterRace);\r\n    selected.raceFilterCondition = filterCondition;\r\n    selected.filterRace = tmpFilterRace;\r\n    dbL\r\n      .get(\"selected\")\r\n      .assign({ ...selected })\r\n      .write();\r\n  };\r\n\r\n  const toSupportDetail = (id) => {\r\n    props.history.push(`/support-detail/${id}`);\r\n  };\r\n  const toPlayerDetail = (id) => {\r\n    props.history.push(`/player-detail/${id}/1`);\r\n  };\r\n  const toBuffList = (id) => {\r\n    props.history.push(`/buff`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        {player.imgUrl && (\r\n          <img\r\n            src={cdnServer + player.imgUrl}\r\n            alt={player.imgUrl}\r\n            width=\"128\"\r\n            onClick={() => toPlayerDetail(player.id)}\r\n          />\r\n        )}\r\n        <div className=\"flex-auto flex flex-wrap items-center\">\r\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showPlayer}>\r\n            {t(\"选择马娘\")}\r\n          </Button>\r\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\r\n            {t(\"支援卡查询\")}\r\n          </Button>\r\n          <Button size=\"sm\" buttonType=\"outline\" onClick={toBuffList}>\r\n            {t(\"BUFF\")}\r\n          </Button>\r\n          <Popover\r\n            trigger=\"click\"\r\n            content={\r\n              <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\r\n            }\r\n          >\r\n            <Button>{t(\"比赛\")}</Button>\r\n          </Popover>\r\n          <Popover\r\n            trigger=\"click\"\r\n            width={\"80%\"}\r\n            content={\r\n              <>\r\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\r\n                  {t(\"保存为新卡组\")}\r\n                </Button>\r\n                {decks.map((deck) => (\r\n                  <Row key={deck.id}>\r\n                    {deck.imgUrls.map((imgUrl) => (\r\n                      <Col span={3} key={imgUrl}>\r\n                        <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\r\n                      </Col>\r\n                    ))}\r\n                    <Col span={3}>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        buttonType=\"outline\"\r\n                        type=\"primary\"\r\n                        onClick={() => loadDeck(deck)}\r\n                      >\r\n                        {t(\"读取卡组\")}\r\n                      </Button>\r\n                      <Popconfirm title=\"确认覆盖？\" onConfirm={() => saveDeck(deck)}>\r\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\r\n                          {t(\"覆盖卡组\")}\r\n                        </Button>\r\n                      </Popconfirm>\r\n                      <Popconfirm title=\"确认删除？\" onConfirm={() => deleteDeck(deck)}>\r\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\r\n                          {t(\"删除卡组\")}\r\n                        </Button>\r\n                      </Popconfirm>\r\n                    </Col>\r\n                  </Row>\r\n                ))}\r\n              </>\r\n            }\r\n          >\r\n            <Button>{t(\"我的卡组\")}</Button>\r\n          </Popover>\r\n        </div>\r\n      </div>\r\n\r\n      <Row justify=\"space-around\">\r\n        {[0, 1, 2, 3, 4, 5].map((index) => (\r\n          <Col span={7} key={index} style={{}}>\r\n            <Button\r\n              size=\"sm\"\r\n              buttonType=\"outline\"\r\n              icon={<EditOutlined />}\r\n              onClick={() => showSupport(index)}\r\n            >\r\n              {t(\"选择支援卡\")}\r\n            </Button>\r\n            {supports[index] && supports[index].id && (\r\n              <img\r\n                src={cdnServer + supports[index].imgUrl}\r\n                alt={supports[index].name}\r\n                width={\"100%\"}\r\n                onClick={() => toSupportDetail(supports[index].id)}\r\n              />\r\n            )}\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\r\n      <Divider>比赛</Divider>\r\n      <div style={{ overflow: \"auto\", paddingTop: \"10px\", width: \"100%\", height: \"400px\" }}>\r\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace} />\r\n      </div>\r\n\r\n      <Modal\r\n        visible={isPlayerVisible}\r\n        onOk={closePlayer}\r\n        onCancel={closePlayer}\r\n        footer={null}\r\n        width={\"100%\"}\r\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\r\n      >\r\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\r\n      </Modal>\r\n      <Modal\r\n        visible={isSupportVisible}\r\n        onOk={closeSupport}\r\n        onCancel={closeSupport}\r\n        footer={null}\r\n        width={\"100%\"}\r\n        bodyStyle={{ height: \"80vh\", overflow: \"auto\" }}\r\n      >\r\n        <SupportListWithFilter\r\n          onClick={needSelect ? handleSelectSupport : handleSelectSupportShow}\r\n          sortFlag={true}\r\n        />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nurturing;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-tailwind/react/Button\";\r\n\r\nimport { Picker, List } from \"antd-mobile\";\r\n\r\nimport { Image, Modal, Rate, Form } from \"antd\";\r\nimport { message } from \"antd\";\r\n//test\r\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined } from \"@ant-design/icons\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport axios from \"axios\";\r\n\r\nimport db from \"@/db.js\";\r\nimport t from \"@/components/t.js\";\r\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\r\nimport PlayerList from \"@/components/player/PlayerList.js\";\r\nimport Layout from \"@/components/common/Layout.js\";\r\n\r\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\r\n\r\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\r\nlet userId = db.get(\"userId\").value();\r\nconst blueLabels = {\r\n  speed: \"速度\",\r\n  stamina: \"耐力\",\r\n  power: \"力量\",\r\n  guts: \"根性\",\r\n  wisdom: \"智力\",\r\n};\r\nconst redLabels = {\r\n  grass: \"草地\",\r\n  dirt: \"泥地\",\r\n  shortDistance: \"短距离\",\r\n  mile: \"英里\",\r\n  mediumDistance: \"中距离\",\r\n  longDistance: \"长距离\",\r\n  escapeR: \"逃\",\r\n  leadingR: \"先\",\r\n  insertR: \"差\",\r\n  trackingR: \"追\",\r\n};\r\n\r\nconst lists = [\r\n  [\r\n    { value: \"speed\", label: t(\"速度\") },\r\n    { value: \"stamina\", label: t(\"耐力\") },\r\n    { value: \"power\", label: t(\"力量\") },\r\n    { value: \"guts\", label: t(\"根性\") },\r\n    { value: \"wisdom\", label: t(\"智力\") },\r\n    { value: \"grass\", label: t(\"草地\") },\r\n    { value: \"dirt\", label: t(\"泥地\") },\r\n    { value: \"shortDistance\", label: t(\"短距离\") },\r\n    { value: \"mile\", label: t(\"英里\") },\r\n    { value: \"mediumDistance\", label: t(\"中距离\") },\r\n    { value: \"longDistance\", label: t(\"长距离\") },\r\n    { value: \"escapeR\", label: t(\"逃\") },\r\n    { value: \"leadingR\", label: t(\"先\") },\r\n    { value: \"insertR\", label: t(\"差\") },\r\n    { value: \"trackingR\", label: t(\"追\") },\r\n  ],\r\n  [\r\n    { value: 1, label: `1${t(\"星\")}` },\r\n    { value: 2, label: `2${t(\"星\")}` },\r\n    { value: 3, label: `3${t(\"星\")}` },\r\n    { value: 4, label: `4${t(\"星\")}` },\r\n    { value: 5, label: `5${t(\"星\")}` },\r\n    { value: 6, label: `6${t(\"星\")}` },\r\n    { value: 7, label: `7${t(\"星\")}` },\r\n    { value: 8, label: `8${t(\"星\")}` },\r\n    { value: 9, label: `9${t(\"星\")}` },\r\n  ],\r\n];\r\n\r\nconst PlayerInput = ({ value = {}, onChange }) => {\r\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showPlayer = (index) => {\r\n    setIsPlayerVisible(true);\r\n  };\r\n  const closePlayer = () => {\r\n    setIsPlayerVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsPlayerVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectPlayer = (data) => {\r\n    setData(data);\r\n    closePlayer();\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"w-16 h-16\">\r\n        <Image\r\n          src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n          preview={false}\r\n          fallback=\"data:image/png;base64,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\"\r\n          onClick={showPlayer}\r\n        />\r\n      </div>\r\n      <Modal\r\n        visible={isPlayerVisible}\r\n        onOk={closePlayer}\r\n        onCancel={closePlayer}\r\n        width={\"100%\"}\r\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\r\n      >\r\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nconst SupportInput = ({ value = {}, onChange }) => {\r\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const showSupport = (index) => {\r\n    setIsSupportVisible(true);\r\n  };\r\n  const closeSupport = () => {\r\n    setIsSupportVisible(false);\r\n  };\r\n  const triggerChange = (changedValue) => {\r\n    setIsSupportVisible(false);\r\n    onChange?.({\r\n      ...data,\r\n      ...value,\r\n      ...changedValue,\r\n    });\r\n  };\r\n  const handleSelectSupport = (data) => {\r\n    setData(data);\r\n    closeSupport();\r\n    triggerChange(data);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"w-16 h-16\">\r\n        <Image\r\n          src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\r\n          preview={false}\r\n          fallback=\"data:image/png;base64,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\"\r\n          onClick={showSupport}\r\n        />\r\n      </div>\r\n      <Modal\r\n        visible={isSupportVisible}\r\n        onOk={closeSupport}\r\n        onCancel={closeSupport}\r\n        width={\"100%\"}\r\n        bodyStyle={{ height: \"80vh\" }}\r\n      >\r\n        <div className=\"w-full h-full overflow-hidden flex relative\">\r\n          <SupportListWithFilter onClick={handleSelectSupport} sortFlag={true} />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst SearchOne = (props) => {\r\n  return (\r\n    <Form.List name={props.name}>\r\n      {(fields, { add, remove }, { errors }) => (\r\n        <List>\r\n          {fields.map((field, index) => (\r\n            <Form.Item\r\n              {...field}\r\n              key={field.key}\r\n              name={[field.name, \"attr\"]}\r\n              fieldKey={[field.fieldKey, \"attr\"]}\r\n              rules={[{ required: true }]}\r\n              validateTrigger={[\"onChange\", \"onBlur\"]}\r\n              noStyle\r\n            >\r\n              <Picker data={lists} cascade={false} extra={t(\"请选择\")}>\r\n                <List.Item arrow=\"horizontal\">{t(\"过滤条件(总计)\")}</List.Item>\r\n              </Picker>\r\n            </Form.Item>\r\n          ))}\r\n          <List.Item>\r\n            <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\r\n              {t(\"添加过滤条件\")}\r\n            </Button>\r\n          </List.Item>\r\n        </List>\r\n      )}\r\n    </Form.List>\r\n  );\r\n};\r\nconst SearchForm = (props) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async (value) => {\r\n    let formData = { attrs: [], levels: [] };\r\n    if (value[\"player0\"]) {\r\n      formData.attrs.push(\"playerId0\");\r\n      formData.levels.push(value[\"player0\"].id);\r\n    }\r\n    if (value[\"support\"]) {\r\n      formData.attrs.push(\"supportId\");\r\n      formData.levels.push(value[\"support\"].id);\r\n    }\r\n    value.p1?.forEach((item) => {\r\n      formData.attrs.push(item.attr[0]);\r\n      formData.levels.push(item.attr[1]);\r\n    });\r\n\r\n    props.search(formData);\r\n  };\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n  return (\r\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form w-full\">\r\n      <SearchOne name=\"p1\" />\r\n      <div className=\"grid grid-cols-4 w-full \" align=\"start\">\r\n        <div>\r\n          {t(\"角色\")}\r\n          <Form.Item name={`player0`}>\r\n            <PlayerInput />\r\n          </Form.Item>\r\n        </div>\r\n        <div>\r\n          {t(\"支援卡\")}\r\n          <Form.Item name={\"support\"}>\r\n            <SupportInput />\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"col-span-2\">\r\n          {t(\"突破等级\")}\r\n          <Form.Item name={\"supportLevel\"} initialValue={0}>\r\n            <Rate count={4} />\r\n          </Form.Item>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end\">\r\n        <Form.Item>\r\n          <Button htmlType=\"button\" onClick={() => onReset()}>\r\n            {t(\"重置\")}\r\n          </Button>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            {t(\"搜索\")}\r\n          </Button>\r\n        </Form.Item>\r\n      </div>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst SeedCard = (props) => {\r\n  const data = props.data;\r\n  const player = db.get(\"players\").find({ id: data.playerId0 }).value();\r\n  const support = db.get(\"supports\").find({ id: data.supportId }).value();\r\n  const like = async (seed) => {\r\n    if (!userId) {\r\n      message.info(t(\"刷新后重试\"));\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\r\n    if (res.data) {\r\n      message.info(t(\"成功\"));\r\n      seed.likes += 1;\r\n    }\r\n  };\r\n  const dislike = async (seed) => {\r\n    if (!userId) {\r\n      message.info(t(\"刷新后重试\"));\r\n      return;\r\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\r\n      return;\r\n    }\r\n    let id = seed.id;\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\r\n    if (res.data) {\r\n      message.info(t(\"成功\"));\r\n      seed.dislikes += 1;\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"w-1/2 p-1\">\r\n      <div className=\"border-green-300 border border-solid flex flex-col\">\r\n        <CopyToClipboard text={data.gameId} onCopy={() => message.info(\"成功\")}>\r\n          <div className=\"w-full flex text-lg\">\r\n            {data.gameId}\r\n            <CopyOutlined />\r\n          </div>\r\n        </CopyToClipboard>\r\n        <div className=\"w-full flex items-center justify-around\">\r\n          {player && (\r\n            <img alt={player.name} src={cdnServer + player.imgUrl} className=\"w-10 h-10\" />\r\n          )}\r\n          {support && <img alt={support.name} src={cdnServer + support.imgUrl} className=\"w-10\" />}\r\n          <div className=\"text-lg flex\" onClick={() => like(data)}>\r\n            <SmileOutlined />\r\n            <div>{data.likes}</div>\r\n          </div>\r\n          <div className=\"text-lg flex\" onClick={() => dislike(data)}>\r\n            <FrownOutlined />\r\n            <div>{data.dislikes}</div>\r\n          </div>\r\n        </div>\r\n        <div>{`${t(blueLabels[data[\"blue0\"]])}: ${data[\"blueLevel0\"]}`}</div>\r\n        <div>{`${t(redLabels[data[\"red0\"]])}: ${data[\"redLevel0\"]}`}</div>\r\n        {Object.keys(blueLabels).map((key) =>\r\n          data[key] ? (\r\n            <div key={key}>{`${t(\"总计\")} ${t(blueLabels[key])}: ${data[key]}`}</div>\r\n          ) : null\r\n        )}\r\n        {Object.keys(redLabels).map((key) =>\r\n          data[key] ? (\r\n            <div key={key}>{`${t(\"总计\")} ${t(redLabels[key])}: ${data[key]}`}</div>\r\n          ) : null\r\n        )}\r\n        <div>{`${t(\"突破等级\")}: ${data[\"supportLevel\"] || 0}`}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst Seed = () => {\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n\r\n  const [seedList, setSeedList] = useState([]);\r\n  const search = async (value) => {\r\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\r\n    if (res.data) {\r\n      if (res.data.count) {\r\n        setSeedList([...res.data.list]);\r\n      } else {\r\n        message.info(t(\"暂无数据\"));\r\n      }\r\n    } else {\r\n      message.info(t(\"出错了\"));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"w-full flex flex-wrap px-3\">\r\n      <SearchForm search={search} />\r\n      <div className=\"w-full text-lg font-semibold\">{t(\"结果\")}</div>\r\n      {seedList.map((seed) => {\r\n        return <SeedCard key={seed.id} data={seed} />;\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default Seed;\r\n","import React from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Layout from \"../../components/common/Layout.js\";\r\nimport SupportDetail from \"../../components/support/SupportDetail.js\";\r\n\r\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\r\nconst SupportDetailPage = (props) => {\r\n  const id = props.match?.params?.id;\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  return (\r\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\r\n      <SupportDetail id={id} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupportDetailPage;\r\n","import React from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Layout from \"../../components/common/Layout.js\";\r\nimport PlayerDetail from \"../../components/player/PlayerDetail.js\";\r\n\r\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\r\nconst PlayerDetailPage = (props) => {\r\n  const id = props.match?.params?.id;\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  return (\r\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\r\n      <PlayerDetail id={id} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerDetailPage;\r\n","import React from \"react\";\r\nimport { useDidRecover } from \"react-router-cache-route\";\r\nimport Layout from \"../../components/common/Layout.js\";\r\nimport SkillDetail from \"../../components/skill/SkillDetail.js\";\r\n\r\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\r\nconst SkillDetailPage = (props) => {\r\n  const id = props.match?.params?.id;\r\n  document.title = TITLE;\r\n  useDidRecover(() => {\r\n    document.title = TITLE;\r\n  });\r\n  return (\r\n    <SkillDetail id={id} />\r\n  );\r\n};\r\n\r\nexport default SkillDetailPage;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport Race from \"@/pages/race\";\r\nimport Player from \"@/pages/player\";\r\nimport Support from \"@/pages/support\";\r\nimport Nurturing from \"@/pages/nurturing/index\";\r\nimport Skill from \"@/pages/skill\";\r\nimport Seed from \"@/pages/seed\";\r\nimport NotFound from \"@/pages/404\";\r\n\r\nimport NurturingMO from \"@/pages/nurturingMo\";\r\nimport SeedMo from \"@/pages/seedMo\";\r\n\r\nimport SupportDetailPage from \"@/pages/support/detail\";\r\nimport PlayerDetailPage from \"@/pages/player/detail\";\r\nimport SkillDetailPage from \"@/pages/skill/detail\";\r\nimport { BuffList } from \"./components/buff.js\";\r\nimport Layout from \"./components/common/Layout.js\";\r\nconst AppPc = () => {\r\n  return (\r\n    <CacheSwitch>\r\n      <Layout>\r\n        <CacheRoute\r\n          saveScrollPosition\r\n          className=\"container mx-auto flex-auto\"\r\n          exact\r\n          path=\"/\"\r\n          component={Player}\r\n        />\r\n        <CacheRoute\r\n          saveScrollPosition\r\n          className=\"container mx-auto flex\"\r\n          path=\"/support\"\r\n          component={Support}\r\n        />\r\n        <CacheRoute\r\n          saveScrollPosition\r\n          className=\"container mx-auto flex\"\r\n          path=\"/skill\"\r\n          component={Skill}\r\n        />\r\n        <CacheRoute saveScrollPosition path={[\"/nurturing\"]} component={Nurturing} />\r\n        <CacheRoute saveScrollPosition path={[\"/nurturingMo\"]} component={NurturingMO} />\r\n        <CacheRoute saveScrollPosition path=\"/seed\" component={Seed} />\r\n        <CacheRoute saveScrollPosition path=\"/SeedMo\" component={SeedMo} />\r\n        <CacheRoute saveScrollPosition path=\"/race\" component={Race} />\r\n        <CacheRoute\r\n          saveScrollPosition\r\n          path={[\"/support-detail/:id\", \"/support-detail/:id/:nur\"]}\r\n          component={SupportDetailPage}\r\n        />\r\n        <CacheRoute\r\n          saveScrollPosition\r\n          path={[\"/player-detail/:id\", \"/player-detail/:id/:nur\"]}\r\n          component={PlayerDetailPage}\r\n        />\r\n        <CacheRoute saveScrollPosition path=\"/skill-detail/:id\" component={SkillDetailPage} />\r\n        <CacheRoute saveScrollPosition path=\"/buff\" component={BuffList} />\r\n        {/* <CacheRoute saveScrollPosition component={NotFound}></CacheRoute> */}\r\n        <ReactTooltip className=\"z-max !hidden md:!inline-block\" html={true} />\r\n      </Layout>\r\n    </CacheSwitch>\r\n  );\r\n};\r\n\r\nexport default AppPc;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"antd/dist/antd.css\";\r\n// import 'antd-mobile/dist/antd-mobile.min.css';\r\nimport \"@material-tailwind/react/tailwind.css\";\r\nimport \"./styles/tailwind.css\";\r\n\r\nimport App from \"./app\";\r\n\r\nconst Index = () => {\r\n  return (\r\n    <Router>\r\n      <App></App>\r\n    </Router>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Index></Index>, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}