{"version":3,"sources":["utils/ua.js","dbL.js","components/t.js","components/lan-button.js","config/index.js","components/common/Layout.js","db.js","pages/race/index.js","components/player/PlayerCard.js","components/event/EventCard.js","components/event/EventDetail.js","components/common/List.js","components/event/EventList.js","components/skill/SkillCard.js","components/support/SupportCard.js","components/effect/index.js","components/support/SupportDetail.js","components/support/SupportList.js","components/skill/SkillDetail.js","components/skill/SkillList.js","components/race/index.js","components/player/PlayerDetail.js","components/player/PlayerList.js","pages/player/index.js","components/common/CheckBox.js","components/common/Input.js","components/skill/SkillFilterForm.js","components/support/SupportFilterForm.js","utils/useViewport.js","components/support/SupportListWithFilter.js","pages/support/index.js","components/buff.js","components/deck.js","pages/nurturing/index.js","pages/skill/index.js","pages/seed/index.js","pages/nurturingMo/index.js","pages/seedMo/index.js","pages/support/detail.js","pages/player/detail.js","pages/skill/detail.js","app.js","index.js"],"names":["useUa","ua","ios","test","navigator","userAgent","maxTouchPoints","android","isPhone","adapterL","LocalStorage","db","low","d","a","axios","get","res","set","data","write","value","supports","0","1","2","3","4","5","player","races","adapter","lan","lanData","ZH","EN","JP","t","text","dbL","LanButton","props","useState","code","setCode","show","setShow","useRef","size","color","onClick","ripple","active","toggler","className","window","location","reload","cdnServer","Layout","children","contentClass","rootClass","openNavbar","setOpenNavbar","useLocation","list","path","title","navbar","open","leftSide","map","item","pathname","href","data-tip","src","frameBorder","scrolling","width","height","target","rel","border","alt","preview","adapterM","Memory","jsonDB","players","skills","events","updateTime","buffs","effects","TITLE","filterList","class","grade","place","ground","distanceType","direction","side","labels","labelTextDict","name","date","distance","getCorrespondingLabelText","label","mediumLabels","getColumns","dataIndex","filters","fixed","onFilter","record","Race","document","useDidRecover","dynamicTableHeight","React","innerHeight","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","allRaceList","race","index","key","selectedRowKeys","setSelectedRowKeys","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","dataSource","pagination","sorter","extra","scroll","y","PlayerCard","style","paddingBottom","charaName","onError","imgUrl","EventCard","choiceList","choice","result","join","EventDetail","List","listKey","sort","filterFunc","idList","dataList","itemRender","itemClass","detailRender","detailModalSize","reduce","cur","find","setCur","showModal","modal","ReactTooltip","rebuild","sortItem","sortList","filter","flag","func","length","EventList","sortFlag","JSON","stringify","indexOf","isNur","SkillCard","rarity","describe","condition","SupportCard","limits","getValue","effect","min","min_limit","max","max_limit","slice","limit","Math","floor","EffectTable","render","description","div","divKey","getEffectMark","maxLevel","ok","10","15","20","25","30","35","40","TestEffectTable","state","selectingLevel","input","nodes","output","this","prevNode","level","i","upperNode","lowerNode","unique_effect","lv","setState","marks","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","calc","Component","SupportDetail","eventList","pid","trainingEventSkill","possessionSkill","SupportList","ownList","history","useHistory","includes","allSupportList","allPlayerList","skillType","6","7","8","9","13","14","21","27","28","31","SkillDetail","skill","undefined","parseInt","match","params","nur","supportList","support","skillList","forEach","b","playerList","maxWidth","ability","ability_time","cooldown","need_skill_point","grade_value","SkillList","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","RaceTimeline","memo","showButton","showSpare","setShowSpare","str","getDate","year","month","moment","getColor","curRace","raceList","Item","goal","filterRace","fontSize","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","PlayerItem","coloredGradeText","fontWeight","textShadow","AdaptBox","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","eventList0","eventList2","eventList3","hideEvent","eventList1","eventList4","PlayerList","Player","CheckBox","register","icon","htmlFor","Input","placeholder","allSkillList","orderBy","conditionOptions","typeOptions","rarityOptions","SkillFilterForm","onUpdate","needId","checkOnly","useForm","watch","formState","subscription","getFilterList","unsubscribe","mySupports","Set","supportId","concat","q","rare","tempList","icon_id","reg","RegExp","allSupports","effectOptions","SupportFilterForm","setValue","handleSubmit","skillId","eventIdList","event","eventId","innerWidth","setWidth","SupportListWithFilter","limitHeight","viewport","setList","chooseMode","setChooseMode","showMode","setShowMode","chosenList","setChosenList","changeChooseMode","tmpList","splice","update","Support","BuffButton","buttonType","BuffList","cellStyle","textAlign","paddingLeft","borderWidth","borderStyle","borderColor","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","playerId","assign","shortid","generate","shareDeck","formData","localeCompare","post","message","info","msg","overlayStyle","maxHeight","overflow","content","values","onChangeTag","span","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","showPlayer","closePlayer","showSupport","closeSupport","dynamicRowHeight","layoutWithBlank","x","w","h","layoutWithoutBlank","originalLayout","layout","setLayout","panelClass","headClass","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","useCSSTransforms","filterCondition","tmpRaceList","some","f","entries","tmpFilterRace","autoHide","cursor","display","flex","margin","background","newData","Skill","setSkillList","localStorage","getItem","setItem","userId","blueLabels","speed","stamina","power","guts","wisdom","redLabels","escapeR","leadingR","insertR","trackingR","PlayerInput","setData","triggerChange","changedValue","fallback","visible","onOk","onCancel","bodyStyle","SupportInput","SeedInput","Form","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","gutter","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","fields","add","errors","field","lg","md","xs","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","total","setTotal","onCopy","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","e","current","pageSize","simple","showQuickJumper","position","rowKey","footer","justifyContent","trigger","EditOutlined","paddingTop","lists","cascade","arrow","SeedCard","playerId0","gameId","SupportDetailPage","PlayerDetailPage","SkillDetailPage","AppPc","exact","component","NurturingMO","SeedMo","html","Index","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.732ee28e.chunk.js","sourcesContent":["const useUa = () => {\n  const ua = {};\n  ua.ios = /iPhone/.test(navigator.userAgent) || navigator.maxTouchPoints > 2;\n  ua.android = /Android \\d/.test(navigator.userAgent);\n  ua.isPhone = ua.ios || ua.android;\n  return ua;\n};\n\nexport default useUa;\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n// import Memory from 'lowdb/adapters/Memory'\nimport axios from 'axios'\n// import jsonDB from './assert/db.json'\n\nconst adapterL = new LocalStorage('db')\n// const adapterM = new Memory()\nconst db = low(adapterL)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/sqlite/d')\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\ndb.get('lan').value()||db.set('lan','cn').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n\nimport ZH from '../assert/cn.json'\nimport EN from '../assert/us.json'\nimport JP from '../assert/jp.json'\nconst adapter = new LocalStorage('db')\nconst db = low(adapter)\n\nconst lan = db.get('lan').value() || 'cn'\nlet lanData = {}\nif (lan === 'cn') {\n  lanData = ZH\n} else if (lan === 'us') {\n  lanData = EN\n} else if (lan === 'jp') {\n  lanData = JP\n}\nconst t = (text, lan) => {\n  if (lan === 'cn') {\n    lanData = ZH\n  } else if (lan === 'us') {\n    lanData = EN\n  } else if (lan === 'jp') {\n    lanData = JP\n  }\n  let result = lanData[text] || text\n\n  return result\n}\nexport default t\n","import React, { useState, useRef } from \"react\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport Icon from \"@material-tailwind/react/Icon\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport dbL from \"../dbL.js\";\nimport t from \"./t.js\";\n\nlet lan = dbL.get(\"lan\").value();\nconst LanButton = (props) => {\n  const [code, setCode] = useState(lan || \"cn\");\n  const [show, setShow] = useState(false)\n  const buttonRef = useRef();\n  const changeToCn = () => {\n    lan = \"cn\";\n    dbL.set(\"lan\", \"cn\").write();\n    setCode(\"cn\");\n    t(\"\", \"cn\");\n    window.location.reload(true);\n  };\n  const changeToUs = () => {\n    lan = \"us\";\n    dbL.set(\"lan\", \"us\").write();\n    setCode(\"us\");\n    t(\"\", \"us\");\n    window.location.reload(true);\n  };\n  const changeToJp = () => {\n    lan = \"jp\";\n    dbL.set(\"lan\", \"jp\").write();\n    setCode(\"jp\");\n    t(\"\", \"jp\");\n    window.location.reload(true);\n  };\n  return (\n    <>\n      <Button size='sm' color=\"lightBlue\" onClick={() => setShow(true)} ripple=\"light\">\n        {code}\n      </Button>\n      <Modal active={show} toggler={() => setShow(false)}>\n        <ModalBody>\n          <div className='grid grid-cols-3 gap-3'>\n            <Button\n              onClick={changeToCn}\n              code={\"cn\"}\n            >\n              cn\n            </Button>\n            <Button\n              className=\"cursor-pointer\"\n              onClick={changeToUs}\n              code={\"us\"}\n            >\n              us\n            </Button>\n            <Button\n              onClick={changeToJp}\n              code={\"jp\"}\n            >\n              jp\n            </Button>\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default LanButton;\n","const cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\nexport { cdnServer };\n","import React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Navbar from \"@material-tailwind/react/Navbar\";\nimport NavbarContainer from \"@material-tailwind/react/NavbarContainer\";\nimport NavbarWrapper from \"@material-tailwind/react/NavbarWrapper\";\nimport NavbarBrand from \"@material-tailwind/react/NavbarBrand\";\nimport NavbarToggler from \"@material-tailwind/react/NavbarToggler\";\nimport NavbarCollapse from \"@material-tailwind/react/NavbarCollapse\";\nimport Nav from \"@material-tailwind/react/Nav\";\nimport NavLink from \"@material-tailwind/react/NavLink\";\n\nimport useUa from \"@/utils/ua.js\";\nimport LanButton from \"@/components/lan-button.js\";\nimport { cdnServer } from \"@/config\";\nimport dbL from \"@/dbL.js\";\nimport t from \"@/components/t.js\";\n\nconst Layout = ({ children, contentClass, rootClass }) => {\n  const [openNavbar, setOpenNavbar] = useState(false);\n  const ua = useUa();\n  const location = useLocation();\n  const resetNur = () => {\n    dbL\n      .set(\"selected\", {\n        supports: { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} },\n        player: {},\n        races: [],\n      })\n      .write();\n  };\n  const pcList = [\n    { path: \"/\", title: \"角色\" },\n    { path: \"/support\", title: \"支援\" },\n    { path: \"/skill\", title: \"技能\" },\n    { path: \"/race\", title: \"比赛\" },\n    { path: \"/nurturing\", title: \"育成\" },\n    { path: \"/seed\", title: \"种马\" },\n  ];\n  const phoneList = [\n    { path: \"/\", title: \"角色\" },\n    { path: \"/support\", title: \"支援\" },\n    { path: \"/skill\", title: \"技能\" },\n    { path: \"/race\", title: \"比赛\" },\n    { path: \"/nurturingMo\", title: \"育成\" },\n    { path: \"/seedMo\", title: \"种马\" },\n  ];\n  const list = ua.isPhone ? phoneList : pcList;\n  return (\n    <div className={\"flex flex-col w-screen min-h-screen relative\"}>\n      <Navbar className=\"sticky top-0 z-50\" color=\"lightBlue\" navbar>\n        <NavbarContainer>\n          <NavbarWrapper>\n            <NavbarBrand>赛马娘</NavbarBrand>\n            <NavbarToggler\n              color=\"white\"\n              onClick={() => setOpenNavbar(!openNavbar)}\n              ripple=\"light\"\n            />\n          </NavbarWrapper>\n\n          <NavbarCollapse open={openNavbar}>\n            <Nav leftSide>\n              {list.map((item) => (\n                <NavLink\n                  active={location.pathname === item.path && \"light\"}\n                  href={item.path}\n                  ripple=\"light\"\n                >\n                  {t(item.title)}\n                </NavLink>\n              ))}\n            </Nav>\n          </NavbarCollapse>\n        </NavbarContainer>\n      </Navbar>\n      {children}\n      <div className=\"w-full flex items-center flex-wrap pb-10 md:pb-0\">\n        <div className=\"cursor-pointer\" data-tip=\"无法打开育成页面时点一哈\" onClick={resetNur}>\n          {t(\"初始化育成\")}\n        </div>\n        <LanButton></LanButton>\n        <div className=\"flex-auto\"></div>\n        <iframe\n          title=\"GitHub\"\n          src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\"\n          frameBorder=\"0\"\n          scrolling=\"0\"\n          width=\"160px\"\n          height=\"30px\"\n        ></iframe>\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\"\n          data-tip={`\n          <img src=${cdnServer + \"img/q.jpg\"} width={300} />\n          <p>${t(\"闲聊为主\")}</p>\n          `}\n        >\n          <img\n            border=\"0\"\n            src=\"//pub.idqqimg.com/wpa/images/group.png\"\n            alt=\"轻 松 赛 马\"\n            title=\"轻 松 赛 马\"\n          />\n        </a>\n        <div\n          className=\"flex mx-2 items-center\"\n          data-tip={`<img src=${cdnServer + \"img/weapp.jpg\"} width={200} />`}\n        >\n          <img alt=\"reimu\" src={cdnServer + \"reimu.gif\"} preview={false} width={24} />\n          <div>{t(\"微信小程序\")}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Layout;\n","import low from 'lowdb';\n// import LocalStorage from 'lowdb/adapters/LocalStorage'\nimport Memory from 'lowdb/adapters/Memory'\n// import axios from 'axios'\nimport jsonDB from './assert/db.json'\n\n// const adapter = new LocalStorage('db')\nconst adapterM = new Memory()\nconst db = low(adapterM)\n\n\n// const d = async ()=>{\n//   // let res = await axios.get('https://urarawin.com/d')\n//   let res = await axios.get('https://urarawin.com/api/sqlite/d')\n//   db.set('userId',res.data).write()\n// }\n// db.get('userId').value()||d()\n\ndb.set('players',jsonDB.players).write()\ndb.set('supports',jsonDB.supports).write()\ndb.set('skills',jsonDB.skills).write()\ndb.set('events',jsonDB.events).write()\ndb.set('updateTime',jsonDB.updateTime).write()\ndb.set('races',jsonDB.races).write()\ndb.set('buffs',jsonDB.buffs).write()\ndb.set('effects',jsonDB.effects).write()\n\n// db.get('lan').value()==='zh'&&db.set('lan','cn').write()\n// db.get('lan').value()==='en'&&db.set('lan','us').write()\n//重新加载\n\n// db.get('lan').value()||db.set('lan','cn').write()\n// db.get('selected').value()||db.set('selected',{\n//   supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n//   player:{},\n//   races:[]\n// }).write()\n// db.get('myDecks').value()||db.set('myDecks',[]).write()\n// db.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","import React, { useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Layout from \"../../components/common/Layout.js\";\nimport db from \"../../db.js\";\nimport t from \"../../components/t.js\";\nconst TITLE = \"比赛 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst filterList = {\n  class: [\n    { text: \"初等/ジュニア\", value: \"ジュニア\" },\n    { text: \"经典/クラシック\", value: \"クラシック\" },\n    { text: \"经典&高级/クラシックシニア\", value: \"クラシックシニア\" },\n    { text: \"高级/シニア\", value: \"シニア\" },\n  ],\n  grade: [\n    { text: \"Pre-OP\", value: \"Pre-OP\" },\n    { text: \"OP\", value: \"OP\" },\n    { text: \"G1\", value: \"G1\" },\n    { text: \"G2\", value: \"G2\" },\n    { text: \"G3\", value: \"G3\" },\n  ],\n  place: [\n    { text: \"中京\", value: \"中京\" },\n    { text: \"函館\", value: \"函館\" },\n    { text: \"札幌\", value: \"札幌\" },\n    { text: \"小倉\", value: \"小倉\" },\n    { text: \"新潟\", value: \"新潟\" },\n    { text: \"阪神\", value: \"阪神\" },\n    { text: \"中山\", value: \"中山\" },\n    { text: \"京都\", value: \"京都\" },\n    { text: \"東京\", value: \"東京\" },\n    { text: \"福島\", value: \"福島\" },\n    { text: \"大井\", value: \"大井\" },\n  ],\n  ground: [\n    { text: \"芝\", value: \"芝\" },\n    { text: \"ダート\", value: \"ダート\" },\n  ],\n  distanceType: [\n    { text: \"短距離\", value: \"短距離\" },\n    { text: \"マイル\", value: \"マイル\" },\n    { text: \"中距離\", value: \"中距離\" },\n    { text: \"長距離\", value: \"長距離\" },\n  ],\n  direction: [\n    { text: \"左\", value: \"左\" },\n    { text: \"右\", value: \"右\" },\n    { text: \"直\", value: \"直\" },\n  ],\n  side: [\n    { text: \"空\", value: null },\n    { text: \"内\", value: \"内\" },\n    { text: \"外\", value: \"外\" },\n    { text: \"線\", value: \"線\" },\n  ],\n};\nconst labels = [\n  \"name\",\n  \"date\",\n  \"class\",\n  \"grade\",\n  \"place\",\n  \"ground\",\n  \"distance\",\n  \"distanceType\",\n  \"direction\",\n  \"side\",\n];\nconst labelTextDict = {\n  name: t(\"名称\"),\n  date: t(\"时间\"),\n  class: t(\"年级\"),\n  grade: t(\"赛事等级\"),\n  place: t(\"地点\"),\n  ground: t(\"场地\"),\n  distance: t(\"长度\"),\n  distanceType: t(\"赛程\"),\n  direction: t(\"方向\"),\n  side: t(\"赛道\"),\n};\nconst getCorrespondingLabelText = (label) => {\n  return labelTextDict[label];\n};\nconst mediumLabels = [\"name\", \"date\", \"class\", \"grade\", \"ground\", \"distanceType\"];\nconst getColumns = (labels) => {\n  return labels.map((label) => {\n    if (filterList[\"class\"]) {\n      return {\n        title: getCorrespondingLabelText(label),\n        dataIndex: label,\n        filters: filterList[label],\n        width: 100,\n        fixed: label === 'name' ? 'left' : null,\n        onFilter: (value, record) => record[label] === value,\n      };\n    } else {\n      return {\n        fixed: label === 'name' ? 'left' : null,\n        title: getCorrespondingLabelText(label),\n        dataIndex: label,\n      };\n    }\n  });\n};\n\nconst Race = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const useViewport = () => {\n    // const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height };\n  };\n\n  const dynamicTableHeight = useViewport().height - 168;\n\n  const allRaceList = db\n    .get(\"races\")\n    .value()\n    .map((race, index) => {\n      race.key = index;\n      return race;\n    });\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  let columns = getColumns(labels);\n  if (props.type === \"medium\") {\n    columns = getColumns(mediumLabels);\n  }\n  const onSelectChange = (selectedRowKeys, selectedRows) => {\n    let selected = {};\n    for (let race of selectedRows) {\n      if (selected[race.dateNum]) {\n        selected[race.dateNum].push(race.id);\n      } else {\n        selected[race.dateNum] = [race.id];\n      }\n    }\n    props.onSelect(selected);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n  // 筛选发生变化时清空已经选择的内容\n  const onChange = (pagination, filters, sorter, extra) => {\n    props.onSelect([]);\n    setSelectedRowKeys([]);\n  };\n  return (\n    <div className={'w-full overflow-x-auto'}>\n      <Table\n        rowSelection={props.onSelect ? rowSelection : null}\n        columns={columns}\n        dataSource={allRaceList}\n        onChange={onChange}\n        pagination={false}\n        scroll={{ y: dynamicTableHeight }}\n      />\n    </div>\n  );\n};\n\nexport default Race;\n","import { useState } from \"react\";\nimport { cdnServer } from \"../../config\";\nimport t from \"../t.js\";\nconst PlayerCard = (props) => {\n  const { data, onClick, className } = props;\n  const [show, setShow] = useState(true);\n  return (\n    <>\n      {data && (\n        <div\n          className={`relative cursor-pointer ${className}`}\n          onClick={onClick}\n          style={{\n            paddingBottom: \"100%\",\n          }}\n        >\n          <div className=\"absolute top-3 left-1 right-1 bottom-2 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n            <p className=\"truncate\">{t(data.charaName)}</p>\n            <p className=\"truncate\">{t(data.name)}</p>\n          </div>\n          {show && (\n            <img\n              className=\"absolute top-0\"\n              onError={() => setShow(false)}\n              alt={data.name}\n              src={cdnServer + data.imgUrl}\n              width={\"100%\"}\n            />\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default PlayerCard;\n","import t from \"../t.js\";\nconst EventCard = (props) => {\n  const { data, onClick, className } = props;\n  return (\n    <>\n      {data && (\n        <div\n          className={`border border-solid border-gray-700 px-2 rounded truncate cursor-pointer ${className}`}\n          onClick={onClick}\n          data-tip={`<div>${data.choiceList\n            .map(\n              (choice, index) =>\n                `<div className=\"w-full flex\"><div>${\n                  choice[0]\n                }</div><div>------</div>${choice[1]\n                  .map((result) => `<div>${result}</div>`)\n                  .join(\"\")}</div>`\n            )\n            .join(\"<div>===========</div>\")}</div>`}\n        >\n          {data.name}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default EventCard;\n","import t from \"../t.js\";\nconst EventDetail = ({ data }) => {\n  // const ChoiceItem = props.event?.choiceList.map((choice,index)=>{\n  //   const ResultItem = choice[1].map((result,index)=>\n  //     <p key={index}>{result}</p>\n  //   )\n  //   return(\n  //     <Row key={index} gutter={[8,8]} className=\"list-row\">\n  //       <Col span={12}>\n  //         <p>{choice[0]}</p>\n  //         <p>{t(choice[0])}</p>\n  //       </Col>\n  //       <Col span={12}>{ResultItem}</Col>\n  //     </Row>\n  //   )\n  // })\n  return (\n    <>\n      {data && (\n        <div className=\"\">\n          <div className=\"text-lg font-semibold\">{data.name}</div>\n          {data.choiceList.map((choice, index) => (\n            <div className={`w-full flex ${index % 2 === 0 ? \"bg-white\" : \"bg-gray-100\"}`}>\n              <div className=\"w-1/3 mr-4\">\n                <p>{choice[0]}</p>\n                <p>{t(choice[0])}</p>\n              </div>\n              <div className=\"flex-auto\">\n                {choice[1].map((result) => (\n                  <p>{result}</p>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\nexport default EventDetail;\n","import React, { useState, useEffect } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\n\nconst List = ({\n  className,\n  listKey,\n  sort,\n  filterFunc,\n  idList,\n  dataList,\n  itemRender,\n  itemClass,\n  detailRender,\n  detailModalSize\n}) => {\n  const [show, setShow] = React.useState(false);\n  const list = dataList\n    ? dataList\n    : idList\n      ? idList.reduce((list, cur) => {\n        return [...list, db.get(listKey).find({ id: cur }).value()];\n      }, [])\n      : db.get(listKey).value();\n  const [cur, setCur] = useState(null);\n\n  const showModal = (cur) => {\n    setCur(cur)\n    setShow(true)\n  }\n\n  const modal = <Modal\n    size={\"lg\"} active={show} toggler={() => setShow(false)}\n  >\n    <ModalHeader toggler={() => setShow(false)}>\n      {cur?.name}\n    </ModalHeader>\n    <ModalBody>\n      {detailRender(cur)}\n    </ModalBody>\n  </Modal>\n\n  useEffect(() => {\n    ReactTooltip.rebuild();\n  });\n  if (!list) {\n    return <></>;\n  }\n\n  if (sort) {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {sort.data.map((sortItem) => {\n          let sortList = list.filter((item) => {\n            let flag = false;\n            if (sort.key && sortItem.value) {\n              flag = item[sort.key] == sortItem.value;\n            }\n            if (sortItem.func) {\n              flag = sortItem.func(item);\n            }\n            return flag;\n          });\n          if (!sortList.length) {\n            return <></>;\n          }\n          return (\n            <>\n              <div className=\"w-full text-lg font-semibold text-center\">{t(sortItem.title)}</div>\n              {sortList.map((data) => itemRender(data, showModal))}\n              {itemClass && (\n                <>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                  <div className={itemClass}></div>\n                </>\n              )}\n            </>\n          );\n        })}\n        {modal}\n      </div>\n    );\n  } else {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {list\n          .filter((data) => (filterFunc ? filterFunc(data) : true))\n          .map((data) => itemRender(data, showModal))}\n        {modal}\n      </div>\n    );\n  }\n};\n\nexport default List;\n","import React from \"react\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\n\nimport EventCard from \"./EventCard\";\nimport EventDetail from \"./EventDetail\";\nimport List from \"../common/List\";\n\nconst EventList = ({ dataList, idList, onClick, sortFlag = false, type = \"all\" }) => {\n  const sort = sortFlag\n    ? {\n        data: [\n          { title: \"切れ者\", func: (data) => JSON.stringify(data)?.indexOf(\"切れ者\") !== -1 },\n          { title: \"有选项\", func: (data) => data?.choiceList.length > 1 },\n          { title: \"无选项\", func: (data) => data?.choiceList.length <= 1 },\n        ],\n      }\n    : null;\n  const filterFunc =\n    type === \"multi\"\n      ? (data) => {\n          return data?.choiceList.length > 1;\n        }\n      : null;\n  return (\n    <List\n      listKey=\"events\"\n      dataList={dataList}\n      idList={idList}\n      sort={sort}\n      filterFunc={filterFunc}\n      onClick={onClick}\n      className=\"\"\n      itemRender={(item, setCur) => (\n        <EventCard\n          className=\"mr-1 mb-1\"\n          data={item}\n          onClick={() => (onClick ? onClick(item) : setCur(item))}\n        />\n      )}\n      detailRender={(item) => <EventDetail data={item} isNur={false} />}\n    />\n  );\n};\n\nexport default EventList;\n","import { useState } from \"react\";\nimport { cdnServer } from \"../../config\";\nimport t from \"../t.js\";\nconst SkillCard = (props) => {\n  const { data, onClick, className } = props;\n  const [show, setShow] = useState(true);\n  return (\n    <>\n      {data && (\n        <div\n          className={` rounded border-solid border-2  flex items-center cursor-pointer ${\n            data.rarity === 1 && \"bg-white\"\n          } ${data.rarity === 2 && \"bg-yellow-300\"} ${data.rarity === 3 && \" bg-purple-400\"} ${\n            data.rarity === 4 && \" bg-purple-400\"\n          } ${data.rarity === 5 && \" bg-purple-400\"} ${className}`}\n          onClick={onClick}\n          data-tip={`<div>${t(data.describe)}</div><div>${t(data.condition)}</div>`}\n        >\n          {show && (\n            <img\n              className=\"w-5 h-5 overflow-hidden\"\n              onError={() => setShow(false)}\n              alt={data.name}\n              src={cdnServer + data.imgUrl}\n              preview={false}\n            />\n          )}\n          <div className=\"flex-auto truncate\">{data.name}</div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SkillCard;\n","import { useState } from \"react\";\nimport { cdnServer } from \"../../config\";\nimport t from \"../t.js\";\nconst SupportCard = (props) => {\n  const { data, onClick, className } = props;\n  const [show, setShow] = useState(true);\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div\n      className={`relative cursor-pointer ${className}`}\n      onClick={onClick}\n      style={{\n        paddingBottom: \"134%\",\n      }}\n    >\n      <div className=\"absolute inset-1 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n        <p className=\"\">{t(data.charaName)}</p>\n        <p className=\"\">{t(data.name)}</p>\n      </div>\n      {show && (\n        <img\n          className=\"absolute top-0\"\n          onError={() => setShow(false)}\n          alt={data.name}\n          src={cdnServer + data.imgUrl}\n          width={\"100%\"}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SupportCard;\n","import React from \"react\";\n// import {useState} from 'react';\nimport { Table, Popover, Slider, div, Col } from \"antd\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\n\nconst ua = dbL.get(\"ua\").value();\nconst limits = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\",\n];\nconst getValue = (effect, cur) => {\n  if (effect[cur] !== -1) {\n    return effect[cur];\n  } else {\n    let index = limits.indexOf(cur);\n    let min = 0;\n    let min_limit = \"init\";\n    let max = 0;\n    let max_limit = \"limit_lv50\";\n    for (let limit of limits.slice(0, index)) {\n      if (effect[limit] > min) {\n        min = effect[limit];\n        min_limit = limit;\n      }\n    }\n    for (let limit of limits.slice(index, limits.length)) {\n      if (effect[limit] !== -1) {\n        max = effect[limit];\n        max_limit = limit;\n        break;\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if (max <= min || max - min === 1 || min === 0) {\n      return min;\n    } else {\n      return (\n        <div data-tip=\"插值\">\n          {Math.floor(\n            min +\n            ((max - min) * (limits.indexOf(cur) - limits.indexOf(min_limit))) /\n            (limits.indexOf(max_limit) - limits.indexOf(min_limit))\n          )}\n        </div>\n      );\n    }\n  }\n};\nconst EffectTable = (props) => {\n  const effects = db.get(\"effects\").value();\n  let columns = [\n    {\n      title: t(\"效果\"),\n      dataIndex: \"type\",\n      key: \"type\",\n      width: 200,\n      render: (type) => (\n        <p\n          data-tip={`<div><p>${effects[type].name}</p><p>${t(effects[type].name)}</p><p>${effects[type].description\n            }</p><p>${t(effects[type].description)}</p></div>`}\n        >\n          {t(effects[type].name)}\n        </p>\n      ),\n    },\n    {\n      title: t(\"初始\"),\n      dataIndex: \"init\",\n      key: \"init\",\n      render: (div, record) => getValue(record, \"init\"),\n    },\n    {\n      title: \"lv25\",\n      dataIndex: \"limit_lv25\",\n      key: \"limit_lv25\",\n      render: (div, record) => getValue(record, \"limit_lv25\"),\n    },\n    {\n      title: \"lv30\",\n      dataIndex: \"limit_lv30\",\n      key: \"limit_lv30\",\n      render: (div, record) => getValue(record, \"limit_lv30\"),\n    },\n    {\n      title: \"lv35\",\n      dataIndex: \"limit_lv35\",\n      key: \"limit_lv35\",\n      render: (div, record) => getValue(record, \"limit_lv35\"),\n    },\n    {\n      title: \"lv40\",\n      dataIndex: \"limit_lv40\",\n      key: \"limit_lv40\",\n      render: (div, record) => getValue(record, \"limit_lv40\"),\n    },\n    {\n      title: \"lv45\",\n      dataIndex: \"limit_lv45\",\n      key: \"limit_lv45\",\n      render: (div, record) => getValue(record, \"limit_lv45\"),\n    },\n    {\n      title: \"lv50\",\n      dataIndex: \"limit_lv50\",\n      key: \"limit_lv50\",\n      render: (div, record) => getValue(record, \"limit_lv50\"),\n    },\n  ];\n  if (props.rarity === 2) {\n    columns = columns.slice(0, columns.length - 1);\n  } else if (props.rarity === 1) {\n    columns = columns.slice(0, columns.length - 2);\n  }\n\n  return (\n    <div className='w-full overflow-x-auto'>\n      <Table columns={columns} dataSource={props.effects} divKey=\"type\" pagination={false}></Table>\n    </div>\n  );\n};\n\nconst getEffectMark = (maxLevel) => {\n  let ok = {\n    1: \"lv1\",\n    5: \"lv5\",\n    10: \"lv10\",\n    15: \"lv15\",\n    20: \"lv20\",\n    25: \"lv25\",\n    30: \"lv30\",\n    35: \"lv35\",\n    40: \"lv40\",\n  };\n  if (maxLevel >= 45) {\n    ok[45] = \"lv45\";\n  }\n  if (maxLevel === 50) {\n    ok[50] = \"lv50\";\n  }\n  return ok;\n};\n\nclass TestEffectTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.effects = db.get(\"effects\").value();\n    let maxLevel = 1;\n    switch (props.rarity) {\n      case 1:\n        maxLevel = 40;\n        break;\n      case 2:\n        maxLevel = 45;\n        break;\n      case 3:\n        maxLevel = 50;\n        break;\n      default:\n        maxLevel = 1;\n    }\n\n    this.maxLevel = maxLevel;\n    this.state = {\n      selectingLevel: maxLevel,\n    };\n  }\n\n  calc(data, input) {\n    let nodes = [];\n    let output = 0;\n    const maxLevel = this.maxLevel;\n    let prevNode = { level: 0, value: 0 };\n    for (let i = 0; i < data.length; i += 1) {\n      if (data[i] !== -1) {\n        let level = i * 5;\n        if (level === 0) {\n          level = 1;\n        }\n        nodes.push({ level: level, value: data[i] });\n        prevNode = { level: level, value: data[i] };\n      }\n      if (i === data.length - 1 && data[i] === -1) {\n        nodes.push({ level: maxLevel, value: prevNode.value });\n      }\n    }\n    nodes.push({ level: 999, value: prevNode.value }); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = { level: 0, value: 0 };\n    let lowerNode = { level: 0, value: 0 };\n    if (level < 0 || level > maxLevel) {\n      output = 0;\n    } else if (level < nodes[0].level) {\n      output = 0;\n    } else {\n      for (let i = 0; i < nodes.length; i += 1) {\n        if (level >= nodes[i].level && level < nodes[i + 1].level) {\n          lowerNode = nodes[i];\n          upperNode = nodes[i + 1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor(\n        ((upperNode.value - lowerNode.value) / (upperNode.level - lowerNode.level)) *\n        (level - lowerNode.level) +\n        lowerNode.value\n      );\n    }\n\n    return output;\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.unique_effect && (\n          <>\n            <div className=\"flex w-full items-center justify-between p-2\">\n              <div>{t(\"固有效果\")}</div>\n              <div>{`${t(\"激活等级\")}:${this.props.unique_effect.lv}`}</div>\n            </div>\n            <div className=\"w-full grid grid-cols-2 gap-2\">\n              {[\"0\", \"1\"].map((index) => (\n                <div\n                  key={index}\n                  className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n                >\n                  <div\n                    className=\"flex-auto truncate pl-2\"\n                    data-tip={`<div><p>${this.effects[this.props.unique_effect[`type_${index}`]].name\n                      }</p><p>${t(\n                        this.effects[this.props.unique_effect[`type_${index}`]].name\n                      )}</p><p>${this.effects[this.props.unique_effect[`type_${index}`]].description\n                      }</p><p>${t(\n                        this.effects[this.props.unique_effect[`type_${index}`]].description\n                      )}</p></div>`}\n                  >\n                    {t(this.effects[this.props.unique_effect[`type_${index}`]].name)}\n                  </div>\n                  <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                    {this.props.unique_effect[`value_${index}`]}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n        <div className=\"w-full flex items-center\">\n          <div className=\"mr-2\">{t(\"设置等级\")}</div>\n          <Slider\n            className=\"flex-auto\"\n            min={1}\n            max={this.maxLevel}\n            value={this.state.selectingLevel}\n            onChange={(value) => {\n              this.setState({ selectingLevel: value });\n            }}\n            marks={getEffectMark(this.maxLevel)}\n          />\n        </div>\n        <div className=\"w-full grid grid-cols-2 gap-2 \">\n          {this.props.effects?.map((item, index) => {\n            const data = [\n              item.init,\n              item.limit_lv5,\n              item.limit_lv10,\n              item.limit_lv15,\n              item.limit_lv20,\n              item.limit_lv25,\n              item.limit_lv30,\n              item.limit_lv35,\n              item.limit_lv40,\n              item.limit_lv45,\n              item.limit_lv50,\n            ].filter((item) => item);\n            return (\n              <div className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\">\n                <div\n                  className=\"flex-auto truncate pl-2\"\n                  data-tip={`<div><p>${this.effects[item.type].name}</p><p>${t(\n                    this.effects[item.type].name\n                  )}</p><p>${this.effects[item.type].description}</p><p>${t(\n                    this.effects[item.type].description\n                  )}</p></div>`}\n                >\n                  {t(this.effects[item.type].name)}\n                </div>\n                <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                  {this.calc(data, this.state.selectingLevel)}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { EffectTable, TestEffectTable };\n","import React, { useState } from \"react\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\nimport t from \"../t.js\";\n\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\nimport { EffectTable, TestEffectTable } from \"../effect\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst SupportDetail = (props) => {\n  const id = props.id;\n  const data = props.data || db.get(\"supports\").find({ id }).value();\n  if (!data) {\n    return <></>;\n  }\n  return (\n    <div className=\"w-full flex flex-col p-3 overflow-x-hidden\">\n      <div className=\"h-16 w-full flex flex-shrink-0\">\n        <img alt={data.name} src={cdnServer + data.imgUrl} height={64} width={48} />\n        <div className=\"flex-auto flex flex-wrap h-full items-center\">\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.name}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.name)}</div>\n          </div>\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.charaName}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.charaName)}</div>\n          </div>\n        </div>\n      </div>\n      <div>{t(\"事件\")}</div>\n      <EventList idList={data.eventList} pid={data.id} />\n      <div>{t(\"事件技能\")}</div>\n      <SkillList idList={data.trainingEventSkill} />\n      <div>{t(\"训练技能\")}</div>\n      <SkillList idList={data.possessionSkill} />\n      <TestEffectTable\n        effects={data.effects}\n        unique_effect={data.unique_effect}\n        rarity={data.rarity}\n      />\n      <EffectTable effects={data.effects} rarity={data.rarity} />\n    </div>\n  );\n};\nexport default SupportDetail;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport SupportCard from \"./SupportCard\";\nimport SupportDetail from \"./SupportDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst SupportList = ({ className, dataList, onClick, sortFlag = false, ownList }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = sortFlag\n    ? {\n        key: \"rare\",\n        data: [\n          { value: \"SSR\", title: \"SSR\" },\n          { value: \"SR\", title: \"SR\" },\n          { value: \"R\", title: \"R\" },\n        ],\n      }\n    : null;\n  return (\n    <List\n      className={className}\n      listKey=\"supports\"\n      dataList={dataList}\n      sort={sort}\n      onClick={onClick}\n      itemRender={(data, setCur) => (\n        <div className=\"w-24 max-w-1/4 p-1\">\n          <SupportCard\n            className={`${ownList?.length && !ownList?.includes(data.id) && \"un-chosen-card\"}`}\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/support-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass={\"w-24 max-w-1/4\"}\n      detailRender={(data) => <SupportDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SupportList;\n","import React, { useEffect, useState } from \"react\";\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\nimport SupportList from \"../support/SupportList\";\nimport PlayerList from \"../player/PlayerList\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst allSupportList = db.get(\"supports\").value();\nconst allPlayerList = db.get(\"players\").value();\n\nconst skillType = {\n  1: \"速度属性\",\n  2: \"耐力属性\",\n  3: \"力量属性\",\n  4: \"毅力属性\",\n  5: \"智力属性\",\n  6: \"体力\",\n  7: \"体力消耗\",\n  8: \"视野\",\n  9: \"体力恢复\",\n  10: \"出栏时机\",\n  13: \"掛かり时间\",\n  14: \"掛かり结束时间\",\n  21: \"瞬时速度\",\n  27: \"目标速度\",\n  28: \"走位速度\",\n  31: \"加速度\",\n};\nconst SkillDetail = (props) => {\n  const id = props.id;\n  const skill = props.data || db.get(\"skills\").find({ id }).value();\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur);\n  const supportList = allSupportList\n    .filter((support) => {\n      let flag = 0;\n      support.skillList.forEach((id) => {\n        if (id === skill?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity);\n  const playerList = allPlayerList\n    .filter((player) => {\n      let flag = 0;\n      player.skillList.forEach((id) => {\n        if (id === skill?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity);\n\n  if (!skill) {\n    return <></>;\n  }\n  return (\n    <div\n      className=\"w-full flex flex-col p-3\"\n      style={{\n        maxWidth: \"calc(100vw - 40px)\",\n      }}\n    >\n      <div className=\"w-full flex mb-1 bg-gray-100 items-center\">\n        <div className=\"w-20 flex items-center justify-center\">\n          <img alt={skill.name} src={cdnServer + skill.imgUrl} className=\"w-14\" />\n        </div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.name)}</p>\n          <p className=\"text-gray-500\">{skill.name}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能描述\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.describe)}</p>\n          <p className=\"text-gray-500\">{skill.describe}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"触发条件\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(skill.condition)}</p>\n          <p className=\"text-gray-500\">{skill.condition}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能效果\")}</div>\n        <div className=\"flex-auto\">\n          {skill.ability?.map((ability) => {\n            return <span>{`${skillType[ability.type]} ${ability.value / 10000}`}</span>;\n          })}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"持续时间\")}</div>\n        <div className=\"flex-auto\">\n          {`${skill.ability_time / 10000}s * ${t(\"赛道长度\")} / 1000}`}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"冷却时间\")}</div>\n        <div className=\"flex-auto\">{`${skill.cooldown / 10000}s * ${t(\"赛道长度\")} / 1000`}</div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能价格\")}</div>\n        <div className=\"flex-auto\">{skill.need_skill_point}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能评分\")}</div>\n        <div className=\"flex-auto\">{skill.grade_value}</div>\n      </div>\n      {!isNur && supportList.length ? (\n        <>\n          <div>{t(\"支援卡\")}</div>\n          <SupportList className=\"w-full\" dataList={supportList} sortFlag={false} />\n        </>\n      ) : null}\n      {!isNur && playerList.length ? (\n        <>\n          <div>{t(\"角色\")}</div>\n          <PlayerList className=\"w-full\" dataList={playerList} />\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SkillDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport SkillCard from \"./SkillCard\";\nimport SkillDetail from \"./SkillDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst SkillList = ({ className, idList, dataList, onClick, sortFlag = false, size = \"medium\" }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"ノーマル\", title: \"普通\" },\n      { value: \"レア\", title: \"金色 稀有\" },\n      { value: \"固有\", title: \"独特\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"skills\"\n      idList={idList}\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div\n          className={`${size === \"medium\" && \"w-1/3 md:max-w-none md:w-unset h-8 p-1 md:p-2\"} ${\n            size === \"small\" && \"h-6 p-1\"\n          }`}\n        >\n          <SkillCard\n            className={\"md:px-1 \"}\n            data={data}\n            onClick={\n              () => (onClick ? onClick(data) : setCur(data))\n              // ua.isPhone\n              // ? history.push(`/skill-detail/${data.id}`)\n              // : setCur(data)\n            }\n          />\n        </div>\n      )}\n      detailRender={(data) => <SkillDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SkillList;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\nimport db from \"../../db.js\";\n// import dbL from '../dbL.js'\n\nimport { Row, Col, Timeline, Checkbox } from \"antd\";\n// import { createFormattedComponent } from 'react-intl/src/components/createFormattedComponent';\n// import { getTimeProps } from 'antd/lib/date-picker/generatePicker';\nimport t from \"../t.js\";\n\n// const ua = dbL.get('ua').value();\n\nconst RaceSchedule = (props) => {\n  // const races = db.get('races').value()\n  const str = [];\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年${month}月${moment}`;\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace;\n    if (props.raceList && props.raceList[i]) {\n      curRace = db.get(\"races\").find({ id: props.raceList[i].id }).value();\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#ff6b81\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n          <br />\n          {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n          {/* -{curRace.date} */}\n        </Col>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      str.push(\n        <Col\n          span={6}\n          key={i}\n          style={{\n            backgroundColor: \"#7bed9f\",\n            border: \"1px solid #2f3542\",\n            whiteSpace: \"pre-line\",\n          }}\n        >\n          {getDate(i)}\n          <br />\n          {props.filterRace[i].map((raceId) => {\n            let curRace = db.get(\"races\").find({ id: raceId }).value();\n            return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`;\n          })}\n        </Col>\n      );\n    } else {\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#a4b0be\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n        </Col>\n      );\n    }\n  }\n  return <Row style={{ color: \"black\" }}>{str}</Row>;\n};\n\nconst raceGolds = [\n  { name: \"传统三冠\", raceNames: [\"皐月賞30\", \"日本ダービー東京優駿33\", \"菊花賞43\"] },\n  { name: \"春日三冠\", raceNames: [\"大阪杯53\", \"天皇賞春55\", \"宝塚記念59\"] },\n  { name: \"秋日三冠\", raceNames: [\"天皇賞秋67\", \"ジャパンカップ69\", \"有馬記念71\"] },\n  { name: \"天皇春秋\", raceNames: [\"天皇賞春55\", \"天皇賞秋67\"] },\n  { name: \"纪念春秋Ⅰ\", raceNames: [\"宝塚記念35\", \"有馬記念47\"] },\n  { name: \"纪念春秋Ⅱ\", raceNames: [\"宝塚記念59\", \"有馬記念71\"] },\n  { name: \"母马三冠\", raceNames: [\"桜花賞30\", \"オークス33\", \"秋華賞43\"] },\n  { name: \"英里春秋Ⅰ\", raceNames: [\"安田記念34\", \"マイルチャンピオンシップ45\"] },\n  { name: \"英里春秋Ⅱ\", raceNames: [\"安田記念58\", \"マイルチャンピオンシップ69\"] },\n  { name: \"泥地春秋\", raceNames: [\"フェブラリーステークス51\", \"チャンピオンズカップ70\"] },\n  { name: \"短距春秋\", raceNames: [\"高松宮記念53\", \"スプリンターズステークス65\"] },\n];\nconst getGolds = (race) => {\n  return raceGolds\n    .reduce((golds, raceGold) => {\n      if (raceGold.raceNames.indexOf(race.uniqueName) !== -1) {\n        golds.push(\n          `${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName) + 1}/${\n            raceGold.raceNames.length\n          }`\n        );\n      }\n      return golds;\n    }, [])\n    .join(\" , \");\n};\n\nconst RaceTimeline = React.memo((props) => {\n  const { showButton } = props;\n  const [showSpare, setShowSpare] = useState(false);\n  const str = [];\n\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    month = month < 10 ? `\\xa0\\xa0${month}` : month;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年\\xa0${month}月${moment}`;\n  };\n  const getColor = (grade) => {\n    switch (grade) {\n      case \"G1\":\n        return \"blue\";\n      case \"G2\":\n        return \"pink\";\n      case \"G3\":\n        return \"green\";\n      case \"OP\":\n        return \"orange\";\n      case \"Pre-OP\":\n        return \"orange\";\n      default:\n        return \"gray\";\n    }\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace, id, golds;\n    if (props.raceList && props.raceList[i]) {\n      id = props.raceList[i].id;\n      curRace = db.get(\"races\").find({ id }).value();\n      golds = getGolds(curRace);\n      str.push(\n        <Timeline.Item label={getDate(i)} color=\"red\" className=\"text-base\" key={id}>\n          {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${\n            props.raceList[i].goal || \"参赛\"\n          }\n          ${golds ? \" / \" + golds : \"\"}`}\n        </Timeline.Item>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      props.filterRace[i].forEach((id, index) => {\n        curRace = db.get(\"races\").find({ id }).value();\n        golds = getGolds(curRace);\n        str.push(\n          <Timeline.Item\n            label={index === 0 ? getDate(i) : null}\n            color={getColor(curRace.grade)}\n            style={{ fontSize: \"14px\" }}\n            key={id}\n          >\n            {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\n            ${golds ? \" / \" + golds : \"\"}`}\n          </Timeline.Item>\n        );\n      });\n    } else {\n      //普通\n      showSpare &&\n        str.push(\n          <Timeline.Item\n            label={getDate(i)}\n            color={getColor(\"normal\")}\n            style={{ fontSize: \"12px\" }}\n          />\n        );\n    }\n  }\n  return (\n    <>\n      {showButton && (\n        <Button onClick={() => setShowSpare(!showSpare)}>\n          {showSpare ? t(\"隐藏空闲月份\") : t(\"显示空闲月份\")}\n        </Button>\n      )}\n      <Timeline mode=\"left\">{str}</Timeline>\n    </>\n  );\n});\nconst RaceCheckbox = (props) => {\n  const [raceFilterCondition, setRaceFilterCondition] = useState(props.raceFilterCondition);\n\n  const filterList = {\n    distanceType: [\n      { label: \"短距離\", value: \"短距離\" },\n      { label: \"マイル\", value: \"マイル\" },\n      { label: \"中距離\", value: \"中距離\" },\n      { label: \"長距離\", value: \"長距離\" },\n    ],\n    grade: [\n      { label: \"Pre-OP\", value: \"Pre-OP\" },\n      { label: \"OP\", value: \"OP\" },\n      { label: \"G1\", value: \"G1\" },\n      { label: \"G2\", value: \"G2\" },\n      { label: \"G3\", value: \"G3\" },\n    ],\n    ground: [\n      { label: \"芝\", value: \"芝\" },\n      { label: \"ダート\", value: \"ダート\" },\n    ],\n  };\n  const onChange = (checkedValues, type) => {\n    let tmpObj = {};\n    tmpObj[type] = checkedValues;\n    props.onChange({ ...raceFilterCondition, ...tmpObj });\n    setRaceFilterCondition({ ...raceFilterCondition, ...tmpObj });\n  };\n  return (\n    <>\n      {Object.keys(filterList).map((key) => (\n        <div key={key}>\n          <Checkbox.Group\n            options={filterList[key]}\n            defaultValue={props.raceFilterCondition[key]}\n            onChange={(checkedValues) => onChange(checkedValues, key)}\n          />\n        </div>\n      ))}\n    </>\n  );\n};\nexport { RaceSchedule, RaceTimeline, RaceCheckbox };\n","import React, { useState } from \"react\";\n\nimport db from \"../../db.js\";\nimport t from \"../t.js\";\nimport { cdnServer } from \"../../config\";\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\n// import RaceList from './player-race.js'\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n} from \"../race\";\n// import {EffectTable} from './effect.js'\n\nconst PlayerItem = ({ data }) => {\n  const { name, imgUrl, charaName } = data;\n  return (\n    <div className=\"h-16 w-full flex flex-shrink-0\">\n      <img alt={name} src={cdnServer + imgUrl} height={64} width={64} />\n      <div className=\"flex-auto flex flex-wrap h-full items-center\">\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{name}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(name)}</div>\n        </div>\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{charaName}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(charaName)}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nconst PlayerDetail = (props) => {\n  const id = props.id || props.match?.params?.id;\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur ?? parseInt(props.match?.params?.nur);\n  const data = props.data || db.get(\"players\").find({ id }).value();\n  if (!data) {\n    return <></>;\n  }\n\n  if (isNur) {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.hideEvent} type=\"all\" />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} showButton={false} />\n        <div>{t(\"技能\")}</div>\n        <SkillList idList={data.skillList} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <AdaptBox player={data} />\n        <div className=\"h-2\"></div>\n        <GrowBox player={data} />\n        <div className=\"h-2\"></div>\n        <SkillList idList={data.skillList} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"无选项事件\")}</div>\n        <EventList idList={data.eventList1} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.eventList4} />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} />\n      </div>\n    );\n  }\n};\n\nconst coloredGradeText = (text) => {\n  let color = \"gray\";\n  switch (text) {\n    case \"S\":\n      color = \"#FFD700\";\n      break;\n    case \"A\":\n      color = \"#FFA500\";\n      break;\n    case \"B\":\n      color = \"#BA55D3\";\n      break;\n    case \"C\":\n      color = \"#90EE90\";\n      break;\n    case \"D\":\n      color = \"#87CEEB\";\n      break;\n    default:\n      color = \"gray\";\n  }\n  return (\n    <div style={{ fontSize: 22, fontWeight: 700, textShadow: \"0 2px #33333370\", color: color }}>\n      {text}\n    </div>\n  );\n};\nconst AdaptBox = (props) => {\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"场地适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"芝\")}`, coloredGradeText(props.player.grass)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"ダート\")}`, coloredGradeText(props.player.dirt)]}\n      </div>\n      <div className=\"col-span-2\"></div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"赛程适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"短距離\")}`, coloredGradeText(props.player.shortDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"マイル\")}`, coloredGradeText(props.player.mile)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"中距離\")}`, coloredGradeText(props.player.mediumDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"長距離\")}`, coloredGradeText(props.player.longDistance)]}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"脚质适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"逃げ\")}`, coloredGradeText(props.player.escape)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"先行\")}`, coloredGradeText(props.player.leading)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"差し\")}`, coloredGradeText(props.player.insert)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"追込\")}`, coloredGradeText(props.player.tracking)]}\n      </div>\n    </div>\n  );\n};\n\nconst GrowBox = (props) => {\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スピード\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スタミナ\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"パワー\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"根性\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"賢さ\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.speedGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.staminaGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.powerGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.gutsGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.wisdomGrow}</div>\n    </div>\n  );\n};\n\nexport default PlayerDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport PlayerCard from \"./PlayerCard\";\nimport PlayerDetail from \"./PlayerDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst PlayerList = ({ className, dataList, onClick, sortFlag = false }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"3\", title: \"3星\" },\n      { value: \"2\", title: \"2星\" },\n      { value: \"1\", title: \"1星\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"players\"\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div className=\"w-24 max-w-1/4 p-1\">\n          <PlayerCard\n            className=\"\"\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/player-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass=\"w-24 max-w-1/4 \"\n      detailRender={(data) => <PlayerDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default PlayerList;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Layout from \"../../components/common/Layout.js\";\nimport PlayerList from \"../../components/player/PlayerList.js\";\n// todo 提取出来\n// const cdnServer = 'https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/'\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n//todo filter\nconst Player = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <PlayerList className=\"justify-between\" sortFlag={true} onClick={props.onClick} />\n  );\n};\n\nexport default Player;\n","const CheckBox = ({ register, name, value, label, icon }) => {\n  return (\n    <div key={value} className=\"flex items-center mr-1 mb-1\">\n      <input\n        id={value}\n        type=\"checkbox\"\n        className={`mt-checkbox mt-checkbox-light-blue-500 hidden overflow-hidden`}\n        value={value}\n        {...register(name)}\n      />\n      <label\n        htmlFor={value}\n        className=\"flex items-center cursor-pointer text-gray-400 select-none transition-all duration-300\"\n      >\n        <span className=\"relative w-5 h-5 inline-block mr-2 rounded border border-gray-500 transition-all duration-300\"></span>\n        {icon && <img alt=\"\" src={icon} width={20} />}\n        {label}\n      </label>\n    </div>\n  );\n};\nexport default CheckBox;\n","const Input = ({ className,register,name,placeholder})=>{\n  return <div className=\"w-full relative h-11\">\n  <input\n    className={`w-full h-full text-gray-800 leading-normal shadow-none outline-none focus:outline-none focus:ring-0 focus:text-gray-800 px-3 pt-2.5 pb-1.5 mt-input-outline-light-blue-500 mt-input-outline bg-transparent border border-1 border-gray-300 rounded-lg focus:border-2 focus:border-light-blue-500 undefined undefined`}\n    placeholder=\" \"\n    {...register(\"q\")}\n  />\n  <label\n    className={`text-gray-400 absolute left-0 -top-1.5 w-full h-full false border-gray-300 pointer-events-none flex false leading-10 transition-all duration-300`}\n  >\n    {placeholder || '请输入'}\n  </label>\n</div>\n}\n\nexport default Input","import React, { useEffect, useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport db from \"../../db.js\";\nimport dbL from \"../../dbL.js\";\n\nimport { useForm } from \"react-hook-form\";\nimport CheckBox from \"../common/CheckBox\"\nimport Input from \"../common/Input\"\nimport t from \"../t.js\";\n\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\n\nconst conditionOptions = [\n  { label: t(\"短距離\"), value: \"distance_type==1\" },\n  { label: t(\"マイル\"), value: \"distance_type==2\" },\n  { label: t(\"中距離\"), value: \"distance_type==3\" },\n  { label: t(\"長距離\"), value: \"distance_type==4\" },\n  { label: t(\"逃げ\"), value: \"running_style==1\" },\n  { label: t(\"先行\"), value: \"running_style==2\" },\n  { label: t(\"差し\"), value: \"running_style==3\" },\n  { label: t(\"追込\"), value: \"running_style==4\" },\n  { label: t(\"通用\"), value: \"running_style==\" },\n  { label: t(\"序盤\"), value: \"phase==0|phase_random==0\" },\n  { label: t(\"中盤\"), value: \"phase==1|phase_random==1\" },\n  { label: t(\"終盤\"), value: \"phase==2|phase_random==2\" },\n  { label: t(\"冲刺\"), value: \"phase==3|phase_random==3\" },\n  { label: t(\"コーナー\"), value: \"corner_random==1\" },\n  { label: t(\"直線\"), value: \"straight_random==1\" },\n  { label: t(\"最終直線/コーナー\"), value: \"is_finalcorner==1\" },\n];\nconst typeOptions = [\n  { label: \"速度被动(绿)\", value: \"10011\" },\n  { label: \"耐力被动(绿)\", value: \"10021\" },\n  { label: \"力量被动(绿)\", value: \"10031\" },\n  { label: \"毅力被动(绿)\", value: \"10041\" },\n  { label: \"智力被动(绿)\", value: \"10051\" },\n  { label: \"耐力恢复(蓝)\", value: \"20021\" },\n  { label: \"速度提高(黄)\", value: \"20011\" },\n  // {label:'20031',value:'20031'},\n  { label: \"加速度提高(黄)\", value: \"20041\" },\n  { label: \"切换跑道(黄)\", value: \"20051\" },\n  { label: \"起步时间(黄)\", value: \"20061\" },\n  // {label:'20071',value:'20071'},\n  // {label:'20081',value:'20081'},\n  { label: \"视野提高(黄)\", value: \"20091\" },\n  { label: \"速度降低(红)\", value: \"30011\" },\n  { label: \"无法冷静(红)\", value: \"30041\" },\n  { label: \"耐力降低(红)\", value: \"30051\" },\n  { label: \"视野降低(红)\", value: \"30071\" },\n];\n\nconst rarityOptions = [\n  { label: t(\"ノーマル\"), value: \"ノーマル\" },\n  { label: t(\"レア\"), value: \"レア\" },\n  { label: t(\"固有\"), value: \"固有\" },\n];\nconst SkillFilterForm = (props) => {\n  const { onUpdate, needId, checkOnly } = props;\n\n  const {\n    register,\n    watch,\n    formState: { },\n  } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const mySupports = dbL.get(\"mySupports\").value();\n  const mySkillList = new Set(\n    mySupports.reduce((list, supportId) => {\n      let support = db.get(\"supports\").find({ id: supportId }).value();\n      return list.concat(support.skillList);\n    }, [])\n  );\n\n  const getFilterList = (value) => {\n    const { condition, q, rare, type } = value;\n    if (checkOnly && !q && !type?.length && !rare?.length && !condition?.length) {\n      onUpdate([])\n      return\n    }\n    let tempList = [...allSkillList];\n    if (q) {\n      tempList = tempList.filter((item) => item.name.indexOf(q) > -1);\n    }\n    if (type && type.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        type.forEach((value) => {\n          let str = skill.icon_id + \"\";\n          if (str) {\n            if (str[0] === value[0] && str[3] === value[3]) {\n              flag = 1;\n            }\n          }\n        });\n        return flag;\n      });\n    }\n    if (rare && rare.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        rare.forEach((value) => {\n          if (skill.rare === value) {\n            flag = 1;\n          }\n        });\n        return flag;\n      });\n    }\n    if (condition && condition.length) {\n      const str = condition.join(\"|\");\n      const reg = RegExp(str);\n      tempList = tempList.filter((skill) => skill.condition?.match(reg));\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, skill) => {\n        list.push(skill?.id);\n        return list;\n      }, []);\n    }\n    onUpdate(tempList);\n\n    // if (isOwn) {\n    //   tempSkillList = tempSkillList.filter((skill) => {\n    //     return mySkillList.has(skill?.id);\n    //   });\n    // }\n    // onUpdate(tempSkillList);\n  };\n  // }, [filteredSkills, skillChecked1, skillChecked2, isOwn]);\n\n  {/* <Button type={\"danger\"} onClick={resetCheckbox} style={{ width: \"100%\" }}>\n      {t(\"重置\")}\n    </Button> */}\n  return (\n    < div div div className=\"flex flex-wrap\" >\n      {/* <div>\n          <span\n            style={{ margin: \"0 10px 0 0\", lineHeight: \"32px\" }}\n            data-tip={t(\"可以在支援卡页面配置\")}\n          >\n            {t(\"显示拥有支援卡\")}\n          </span>\n          <Switch checked={isOwn} onChange={changeMode} />\n        </div> */}\n      < Input\n        register={register}\n        name='q'\n        placeholder={t(\"输入关键词\")} />\n      <p className=\"w-full  my-1 text-gray-700\">触发条件</p>\n      {\n        conditionOptions.map(({ label, value }) =>\n          <CheckBox\n            register={register}\n            name={'condition'}\n            label={label}\n            value={value} />\n        )\n      }\n      <p className=\"w-full my-1 text-gray-700\">类型</p>\n      {\n        typeOptions.map(({ label, value }) =>\n          <CheckBox\n            register={register}\n            name={'type'}\n            label={label}\n            value={value}\n            icon={cdnServer + \"img/skill_icons/\" + value + \".png\"}\n          />\n        )\n      }\n      <p className=\"w-full  my-1 text-gray-700\">稀有度</p>\n      {\n        rarityOptions.map(({ label, value }) =>\n          <CheckBox\n            register={register}\n            name={'rare'}\n            label={label}\n            value={value}\n            icon={cdnServer + \"img/skill_icons/\" + value + \".png\"}\n          />\n        )\n      }\n    </ div>\n  );\n};\n\nexport default SkillFilterForm;\n","import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport CheckBox from \"../common/CheckBox\";\nimport Input from \"../common/Input\";\nimport dbL from \"@/dbL.js\";\nimport db from \"@/db.js\";\nimport t from \"../t.js\";\n\nimport SkillFilterForm from \"../skill/SkillFilterForm\";\nconst allSupports = db.get(\"supports\").value();\nconst effects = db.get(\"effects\").value();\nconst effectOptions = Object.keys(effects).map((key) => {\n  return { label: t(effects[key].name), value: key };\n});\nconst typeOptions = [\"スピード\", \"スタミナ\", \"パワー\", \"根性\", \"賢さ\", \"友人\"].map((item) => ({\n  label: t(item),\n  value: item,\n}));\nconst SupportFilterForm = (props) => {\n  const { onUpdate, needId } = props;\n  const {\n    register,\n    watch,\n    handleSubmit,\n    setValue,\n    formState: {},\n  } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const getFilterList = (value) => {\n    const { type, effect, q, skill } = value;\n    let tempList = [...allSupports];\n\n    if (type?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        if (type.indexOf(support?.type) !== -1) {\n          return (flag = 1);\n        }\n        return flag;\n      });\n    }\n\n    if (effect?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        effect.forEach((value) => {\n          support.effects &&\n            support.effects.forEach((effect) => {\n              if (effect.type == value) {\n                flag += 1;\n              }\n            });\n        });\n        return flag === effect.length;\n      });\n    }\n    if (skill?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.skillList?.forEach((skillId) => {\n          if (skill.indexOf(skillId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (q) {\n      const allEventList = db.get(\"events\").value();\n      const eventIdList = allEventList\n        .filter((event) => {\n          let jsonEvent = JSON.stringify(event);\n          if (jsonEvent.indexOf(q) !== -1) {\n            return true;\n          } else {\n            return false;\n          }\n        })\n        .reduce((list, event) => {\n          list.push(event.id);\n          return list;\n        }, []);\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.eventList.forEach((eventId) => {\n          if (eventIdList.indexOf(eventId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, support) => {\n        list.push(support?.id);\n        return list;\n      }, []);\n    }\n    onUpdate && onUpdate(tempList);\n  };\n  const handleSkillFilterFormChange = (list) => {\n    setValue(\"skill\", list);\n  };\n  return (\n    <div className=\"flex flex-wrap\">\n      <Input register={register} name=\"q\" placeholder={t(\"事件关键词搜索\")} />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"类型\")}</p>\n      {typeOptions.map(({ label, value }) => (\n        <CheckBox register={register} name={\"type\"} label={label} value={value} />\n      ))}\n      <p className=\"w-full my-1 text-gray-700\">{t(\"技能筛选\")}</p>\n      <SkillFilterForm onUpdate={handleSkillFilterFormChange} checkOnly={true} needId={true} />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"育成效果\")}</p>\n      {effectOptions.map(({ label, value }) => (\n        <CheckBox register={register} name={\"effect\"} label={label} value={value} />\n      ))}\n    </div>\n  );\n};\n\nexport default SupportFilterForm;\n","import React from 'react'\nconst useViewport = () => {\n  const [width, setWidth] = React.useState(window.innerWidth);\n  const [height, setHeight] = React.useState(window.innerHeight);\n  React.useEffect(() => {\n    const handleWindowResize = () => {\n      setHeight(window.innerHeight);\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleWindowResize);\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n  return { height, width };\n};\nexport default useViewport","import React, { useState, useEffect } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport dbL from \"@/dbL.js\";\nimport db from \"@/db.js\";\nimport t from \"@/components/t.js\";\n\nimport SupportList from \"@/components/support/SupportList\";\nimport SupportFilterForm from \"@/components/support/SupportFilterForm\";\nimport useViewport from '@/utils/useViewport'\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst allSupports = db.get(\"supports\").value();\n\ndocument.title = TITLE;\nconst SupportListWithFilter = (props) => {\n  const { onClick, limitHeight } = props;\n  const viewport = useViewport()\n  const [show, setShow] = React.useState(false);\n  const [list, setList] = useState(props.supportList || allSupports || []);\n  const [chooseMode, setChooseMode] = useState(false);\n  const [showMode, setShowMode] = useState(false);\n  const [chosenList, setChosenList] = useState(dbL.get(\"mySupports\").value() || []);\n\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  const changeChooseMode = () => {\n    setShowMode(!showMode);\n    setChooseMode(!chooseMode);\n  };\n\n  const changeShowMode = () => {\n    setShowMode(!showMode);\n  };\n\n  const onSelect = (item) => {\n    let tmpList = [...chosenList];\n    const index = tmpList.indexOf(item.id);\n    if (index === -1) {\n      tmpList.push(item.id);\n    } else {\n      tmpList.splice(index, 1);\n    }\n    dbL.update(\"mySupports\", tmpList).write();\n    setChosenList([...tmpList]);\n  };\n\n  return (\n    <>\n      {viewport?.width >= 768\n        ? <div className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120px)\"\n          }}\n        >\n          <Button className='my-1' onClick={changeShowMode} ripple=\"light\" >{t(\"高亮我的卡组\")}</Button>\n          <Button className='my-1' onClick={changeChooseMode} ripple=\"light\">{t(\"配置卡组\")}</Button>\n          {chooseMode && (\n            <Button className='my-1' onClick={changeChooseMode} ripple=\"light\">\n              {t(\"配置完成\")}\n            </Button>\n          )}\n          <SupportFilterForm onUpdate={setList} />\n        </div>\n        : <>\n          <Button className='md:hidden fixed top-20 z-40 bg-opacity-80' onClick={() => setShow(true)}>\n            筛选\n          </Button>\n          <Modal\n            size={\"lg\"} active={show} toggler={() => setShow(false)}\n          >\n            <ModalHeader toggler={() => setShow(false)}>\n              {'筛选支援卡'}\n            </ModalHeader>\n            <ModalBody className='flex flex-col'>\n              <SupportFilterForm onUpdate={setList} />\n            </ModalBody>\n          </Modal>\n        </>\n      }\n\n      <SupportList\n        className={`md:w-3/4 justify-between ${limitHeight && 'h-80vh overflow-auto'}`}\n        sortFlag={true}\n        dataList={list}\n        ownList={showMode ? chosenList : null}\n        onClick={chooseMode ? onSelect : onClick}\n      />\n    </ >\n  );\n};\nexport default SupportListWithFilter;\n","import React, { useState, useEffect } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport SupportListWithFilter from \"../../components/support/SupportListWithFilter\";\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Support = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  return <SupportListWithFilter />;\n};\nexport default Support;\n","import React from 'react';\nimport Button from '@material-tailwind/react/Button'\n// import {useState} from 'react';\nimport db from '../db.js'\nimport t from '../components/t.js'\n\nconst BuffButton = (props) => {\n  return (\n    <Button size='sm' buttonType='outline' data-tip='buff list'>Buff</Button>\n  )\n}\nconst buffs = db.get('buffs').value()\nconst BuffList = (props) => {\n  const cellStyle = {\n    // width:'20%',\n    height: '32px',\n    fontSize: 16,\n    textAlign: 'flex-start',\n    paddingLeft: 16,\n    fontWeight: 500,\n    borderWidth: 'thin',\n    borderStyle: 'solid solid solid solid',\n    borderColor: 'gray',\n  }\n  return (\n    <table>\n      <tbody>\n        {buffs.map(buff => <tr key={buff.name}>\n          <td style={{ ...cellStyle }}>{t(buff.name)}</td>\n          <td style={{ ...cellStyle }}>{t(buff.describe)}</td>\n        </tr>)}\n      </tbody>\n    </table>\n  )\n}\nexport { BuffButton, BuffList }\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\nimport shortid from \"shortid\";\n// import db from '../db.js'\nimport dbL from \"../dbL.js\";\nimport t from \"../components/t.js\";\nimport axios from \"axios\";\n\nimport {\n  // Divider,\n  Row,\n  Col,\n  // Modal,\n  Tag,\n  message,\n  Popover,\n  Popconfirm,\n  Checkbox,\n} from \"antd\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\n\nconst MyDecks = (props) => {\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n      tags: [],\n    };\n    if (props.player.id) {\n      tmpDeck.playerId = props.player.id;\n      tmpDeck.imgUrls.push(props.player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (props.supports[index] && props.supports[index].id) {\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl);\n        tmpDeck.supportsId.push(props.supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const shareDeck = async (deck) => {\n    //判断表格\n    // if(deck.playerId)\n    const formData = {\n      ...deck,\n      id: deck.playerId + deck.supportsId.sort((a, b) => a.localeCompare(b)).join(\"\"),\n    };\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/addDeck\", formData);\n    const data = res.data;\n    data && message.info(data.msg);\n  };\n\n  const labels = [\n    \"短距離\",\n    \"マイル\",\n    \"中距離\",\n    \"長距離\",\n    \"ダート\",\n    \"逃げ\",\n    \"先行\",\n    \"差し\",\n    \"追込\",\n    \"高速度\",\n    \"高耐力\",\n    \"高力量\",\n    \"高根性 \",\n    \"高智力\",\n    \"竞技场前排\",\n    \"萌新之友\",\n  ];\n  const onChangeTag = (values, deck) => {\n    dbL.get(\"myDecks\").find({ id: deck.id }).assign({ tags: values }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  return (\n    <Popover\n      width={\"100%\"}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={\n        <>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n            {t(\"保存为新卡组\")}\n          </Button>\n          {decks.map((deck) => (\n            <>\n              <Row>\n                <Checkbox.Group\n                  options={labels}\n                  defaultValue={deck.tags || []}\n                  onChange={(values) => onChangeTag(values, deck)}\n                />\n              </Row>\n              <Row key={deck.id}>\n                {deck.imgUrls.map((imgUrl) => (\n                  <Col span={3} key={imgUrl}>\n                    <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\n                  </Col>\n                ))}\n                <Col span={3}>\n                  <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n                    {t(\"读取卡组\")}\n                  </Button>\n                  <Popconfirm title={t(\"确认覆盖？\")} onConfirm={() => saveDeck(deck)}>\n                    <Button danger type=\"dashed\">\n                      {t(\"覆盖卡组\")}\n                    </Button>\n                  </Popconfirm>\n                  <Popconfirm title={t(\"确认删除？\")} onConfirm={() => deleteDeck(deck)}>\n                    <Button danger type=\"dashed\">\n                      {t(\"删除卡组\")}\n                    </Button>\n                  </Popconfirm>\n                  <Popconfirm title={t(\"确认分享？\")} onConfirm={() => shareDeck(deck)}>\n                    <Button>分享卡组</Button>\n                  </Popconfirm>\n                </Col>\n              </Row>\n            </>\n          ))}\n        </>\n      }\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"我的卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nconst RecommendDecks = (props) => {\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\n  const [recommendDecks, setRecommendDecks] = useState([]);\n  const [playerId, setPlayerId] = useState(\"\");\n  const searchDeck = async () => {\n    if (playerId !== props.player.id) {\n      const formData = props.player ? { playerId: props.player.id } : {};\n      const res = await axios.post(\"https://urarawin.com/api/sqlite/searchDeck\", formData);\n      setRecommendDecks(res.data || []);\n      setPlayerId(props.player.id);\n    }\n  };\n  // const deleteDeck = async (deck) => {\n  //   const res = await axios.post(\"https://urarawin.com/api/sqlite/deleteDeck\", deck)\n  //   searchDeck()\n  // }\n  return (\n    <Popover\n      width={\"100%\"}\n      onVisibleChange={searchDeck}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={recommendDecks.map((deck) => (\n        <>\n          <Row>{deck.tags && deck.tags.map((tag) => <Tag>{tag}</Tag>)}</Row>\n          <Row key={deck.id}>\n            {deck.imgUrls.map((imgUrl) => (\n              <Col span={3} key={imgUrl}>\n                <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\n              </Col>\n            ))}\n            <Col span={3}>\n              <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n                {t(\"读取卡组\")}\n              </Button>\n              {/* <Button type=\"primary\" onClick={()=>deleteDeck(deck)}>{t('删除卡组')}</Button> */}\n            </Col>\n          </Row>\n        </>\n      ))}\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"推荐卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nexport { MyDecks, RecommendDecks };\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n// import shortid from 'shortid'\n// import axios from \"axios\";\nimport ScrollBars from \"react-custom-scrollbars\";\nimport { Popover } from \"antd\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\n\nimport db from \"@/db.js\";\nimport dbL from \"@/dbL.js\";\nimport t from \"@/components/t.js\";\nimport Layout from \"@/components/common/Layout.js\";\nimport EventList from \"@/components/event/EventList\";\nimport SkillList from \"@/components/skill/SkillList\";\nimport { BuffButton } from \"@/components/buff.js\";\n\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n  RaceCheckbox,\n} from \"@/components/race\";\nimport { MyDecks, RecommendDecks } from \"@/components/deck.js\";\n\nimport GridLayout from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\n// import Race from './race.js'\nimport SupportList from \"@/components/support/SupportList\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList\";\n// import Checkbox from 'antd/lib/checkbox/Checkbox';\n\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/public/\";\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Nurturing = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const races = db.get(\"races\").value();\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n    // save player\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight);\n        setWidth(window.innerWidth);\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height, width };\n  };\n\n  const dynamicRowHeight = Math.floor((useViewport().height - 128 - 40) / 18);\n\n  const layoutWithBlank = [\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n    { i: \"b\", x: 2, y: 0, w: 7, h: 2 },\n    { i: \"c\", x: 0, y: 2, w: 9, h: 7 },\n    { i: \"d\", x: 0, y: 10, w: 4, h: 4 },\n    { i: \"e\", x: 4, y: 10, w: 5, h: 7 },\n    { i: \"f\", x: 0, y: 14, w: 4, h: 3 },\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    { i: \"s0\", x: 17, y: 0, w: 5, h: 8 },\n    { i: \"s1\", x: 22, y: 0, w: 5, h: 8 },\n    { i: \"s2\", x: 27, y: 0, w: 5, h: 8 },\n    { i: \"s3\", x: 17, y: 9, w: 5, h: 8 },\n    { i: \"s4\", x: 22, y: 9, w: 5, h: 8 },\n    { i: \"s5\", x: 27, y: 9, w: 5, h: 8 },\n  ];\n  const layoutWithoutBlank = [\n    { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n    { i: \"b\", x: 2, y: 0, w: 9, h: 2 },\n    { i: \"c\", x: 0, y: 2, w: 11, h: 7 },\n    { i: \"d\", x: 0, y: 10, w: 5, h: 4 },\n    { i: \"e\", x: 5, y: 10, w: 6, h: 7 },\n    { i: \"f\", x: 0, y: 14, w: 5, h: 3 },\n    // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n    { i: \"s0\", x: 11, y: 0, w: 7, h: 8 },\n    { i: \"s1\", x: 18, y: 0, w: 7, h: 8 },\n    { i: \"s2\", x: 25, y: 0, w: 7, h: 8 },\n    { i: \"s3\", x: 11, y: 9, w: 7, h: 8 },\n    { i: \"s4\", x: 18, y: 9, w: 7, h: 8 },\n    { i: \"s5\", x: 25, y: 9, w: 7, h: 8 },\n  ];\n  const originalLayout = dbL.get(\"layout\").value() || layoutWithoutBlank;\n  const [layout, setLayout] = useState(originalLayout);\n  const onLayoutChange = (layout) => {\n    /*eslint no-console: 0*/\n    dbL.set(\"layout\", layout).write();\n    setLayout(layout);\n    // onLayoutChange(layout); // updates status display\n  };\n  const panelClass = \"bg-white border border-solid border-gray-500\";\n  const headClass = \"panel-heading w-full text-center bg-gray-300 cursor-move\";\n  const pBodyStyle = {\n    height: \"calc(100% - 22px)\",\n  };\n  return (\n    <>\n      <GridLayout\n        cols={32}\n        layout={layout}\n        draggableCancel=\".panel-title\"\n        draggableHandle=\".panel-heading\"\n        rowHeight={dynamicRowHeight}\n        width={useViewport().width - 10}\n        onLayoutChange={onLayoutChange}\n        useCSSTransforms={false}\n      >\n        <div key=\"a\" className={panelClass}>\n          <div className={headClass} onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </div>\n          {player.id && (\n            <img\n              src={cdnServer + player.imgUrl}\n              alt={player.imgUrl}\n              style={{ ...pBodyStyle }}\n              onClick={showPlayer}\n            />\n          )}\n        </div>\n        <div key=\"b\" className={panelClass}>\n          <div className={headClass}>{t(\"操作\")}</div>\n          <div className=\"flex flex-wrap\">\n            <Button size=\"sm\" buttonType=\"outline\" className=\"add-player\" onClick={showPlayer}>\n              {t(\"选择马娘\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n              {t(\"支援卡查询\")}\n            </Button>\n            <BuffButton />\n            <Popover\n              content={\n                <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n              }\n            >\n              <Button size=\"sm\" buttonType=\"outline\">\n                {t(\"比赛\")}\n              </Button>\n            </Popover>\n            <MyDecks player={player} supports={supports} loadDeck={loadDeck} />\n            <RecommendDecks player={player} loadDeck={loadDeck} />\n\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithBlank)}>\n              {t(\"初始化布局(有留白)\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithoutBlank)}>\n              {t(\"初始化布局(无留白)\")}\n            </Button>\n          </div>\n        </div>\n        <div key=\"c\" className={panelClass}>\n          <div className={headClass}>{t(\"事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            {/* <p>{player.id}</p> */}\n            <EventList idList={player.eventList} sortFlag={true} />\n          </ScrollBars>\n        </div>\n        <div key=\"d\" className={panelClass}>\n          <div className={headClass}>{t(\"技能\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <SkillList idList={player.skillList} isNur={true} size=\"small\" />\n          </ScrollBars>\n        </div>\n        <div key=\"e\" className={panelClass}>\n          <div className={headClass}>{t(\"比赛\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <RaceTimeline raceList={player.raceList || []} filterRace={filterRace} />\n          </ScrollBars>\n        </div>\n        <div key=\"f\" className={panelClass}>\n          <div className={headClass}>{t(\"隐藏事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <EventList idList={player.hideEvent} />\n          </ScrollBars>\n        </div>\n        {[0, 1, 2, 3, 4, 5].map((index) => {\n          let support = supports[index];\n          if (support.id) {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <div className={headClass}>\n                  <span\n                    className=\"panel-title\"\n                    onClick={() => showSupport(index)}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {t(\"选择支援卡\")}\n                  </span>\n                </div>\n                <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n                  <div style={{ display: \"flex\" }}>\n                    <img\n                      style={{ width: \"26%\", height: \"39%\" }}\n                      src={cdnServer + support.imgUrl}\n                      alt={support.imgUrl}\n                    />\n                    <div style={{ flex: \"1 1 auto\" }}>\n                      <EventList idList={supports[index].eventList} pid={supports[index].id} />\n                    </div>\n                  </div>\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"培训技能\")}\n                  </div>\n                  <SkillList idList={supports[index].possessionSkill} isNur={true} size=\"small\" />\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"事件技能\")}\n                  </div>\n                  <SkillList\n                    idList={supports[index].trainingEventSkill}\n                    isNur={true}\n                    size=\"small\"\n                  />\n                </ScrollBars>\n              </div>\n            );\n          } else {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => showSupport(index)}>\n                  {t(\"选择支援卡\")}\n                </Button>\n              </div>\n            );\n          }\n        })}\n      </GridLayout>\n      <Modal size=\"lg\" active={isPlayerVisible} toggler={closePlayer}>\n        <ModalHeader toggler={closePlayer}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div className=\"w-full h-full\" style={{ maxHeight: \"80vh\", overflow: \"auto\" }}>\n            <PlayerList onClick={handleSelectPlayer} sortFlag={true} />\n          </div>\n        </ModalBody>\n      </Modal>\n      <Modal size=\"lg\" active={isSupportVisible} toggler={closeSupport}>\n        <ModalHeader toggler={closeSupport}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div\n            className=\"w-full h-full flex relative\"\n            style={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n          >\n            <SupportListWithFilter\n              onClick={needSelect ? handleSelectSupport : null}\n              limitHeight={true}\n              sortFlag={true}\n            />\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport db from \"@/db.js\";\nimport t from \"@/components/t.js\";\nimport SkillList from \"@/components/skill/SkillList\";\nimport SkillFilterForm from \"@/components/skill/SkillFilterForm\";\n\nimport useViewport from \"@/utils/useViewport\";\n\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\n\ndocument.title = TITLE;\nconst Skill = (props) => {\n  const viewport = useViewport();\n  const [show, setShow] = React.useState(false);\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  // 所有技能列表\n  const allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\n\n  const [skillList, setSkillList] = useState(allSkillList);\n\n  // init supportMode\n  localStorage.getItem(\"supportMode\") === null && localStorage.setItem(\"supportMode\", 0);\n\n  return (\n    <>\n      {viewport?.width >= 768 ? (\n        <div\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120)\",\n          }}\n        >\n          <SkillFilterForm onUpdate={setSkillList} />\n        </div>\n      ) : (\n        <>\n          <Button\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\n            onClick={() => setShow(true)}\n          >\n            筛选\n          </Button>\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选技能\"}</ModalHeader>\n            <ModalBody className=\"flex flex-col\">\n              <SkillFilterForm onUpdate={setSkillList} />\n            </ModalBody>\n          </Modal>\n        </>\n      )}\n\n      <SkillList className=\"w-full md:w-3/4\" dataList={skillList} sortFlag={true} />\n    </>\n  );\n};\n\nexport default Skill;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\nimport {\n  Row,\n  Alert,\n  Image,\n  // Divider,\n  Table,\n  Modal,\n  Col,\n  Radio,\n  Rate,\n  Form,\n  Slider,\n  PageHeader,\n  Input,\n  // Space,\n  Card,\n} from \"antd\";\nimport { message } from \"antd\";\n//test\nimport {\n  PlusOutlined,\n  SmileOutlined,\n  FrownOutlined,\n  CopyOutlined,\n  DeleteOutlined,\n} from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\nimport db from \"@/db.js\";\nimport dbL from \"@/dbL.js\";\n// import t from \"../components/t.js\";\n\nimport Layout from \"@/components/common/Layout.js\";\nimport PlayerList from \"@/components/player/PlayerList\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n// db.set('userId',null).write()\nlet userId = dbL.get(\"userId\").value();\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escapeR leadingR insertR trackingR\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst blueLabels = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst redLabels = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escapeR: \"逃\",\n  leadingR: \"先\",\n  insertR: \"差\",\n  trackingR: \"追\",\n};\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showPlayer}\n      />\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"80%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n        preview={false}\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showSupport}\n      />\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"80%\"}\n        bodyStyle={{ height: \"90vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter onClick={handleSelectSupport} sortFlag={true} />\n        </div>\n      </Modal>\n    </>\n  );\n};\nconst SeedInput = (props) => {\n  const [form] = Form.useForm();\n  const [seed, setSeed] = useState({});\n\n  const onFinish = async (value) => {\n    let tmpSeed = seed;\n    tmpSeed = Object.assign({}, seed, value);\n    setSeed(tmpSeed);\n    // db.set('form',form).write()\n    // 修整成需要的数据\n    const formData = { ...tmpSeed };\n    formData.userId = userId || dbL.get(\"userId\").value();\n    let updateTime = new Date().getTime();\n    formData.updateTime = updateTime;\n    formData[\"playerId0\"] = value[\"player0\"].id;\n    formData[\"playerId1\"] = value[\"player1\"].id;\n    formData[\"playerId2\"] = value[\"player2\"].id;\n    formData[\"supportId\"] = value[\"support\"].id;\n    delete formData[\"support\"];\n    delete formData[\"player0\"];\n    delete formData[\"player1\"];\n    delete formData[\"player2\"];\n    // formData[formData['blue0']]=formData['blueLevel0']\n    // formData[formData['red0']]=formData['redLevel0']\n    let list = [\"0\", \"1\", \"2\"];\n    list.forEach((i) => {\n      //统计蓝色因子\n      if (formData[formData[`blue${i}`]] !== undefined) {\n        formData[formData[`blue${i}`]] += formData[`blueLevel${i}`];\n      } else {\n        formData[formData[`blue${i}`]] = formData[`blueLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[formData[`red${i}`]] !== undefined) {\n        formData[formData[`red${i}`]] += formData[`redLevel${i}`];\n      } else {\n        formData[formData[`red${i}`]] = formData[`redLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[\"white\"] !== undefined) {\n        formData[\"white\"] += formData[`whiteNum${i}`];\n      } else {\n        formData[\"white\"] = formData[`whiteNum${i}`];\n      }\n      //统计ura\n      if (formData[\"uraLevel\"] !== undefined) {\n        formData[\"uraLevel\"] += formData[`uraLevel${i}`];\n      } else {\n        formData[\"uraLevel\"] = formData[`uraLevel${i}`];\n      }\n    });\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/add\", formData);\n    if (res.data && res.data.success) {\n      message.info(\"成功添加\");\n      props.onFinish();\n    } else {\n      message.info(\"有地方出错了\");\n    }\n  };\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\n\n  const getFields = () => {\n    const children = [];\n    for (let i = 0; i < 3; i++) {\n      children.push(\n        <Col span={8} key={i}>\n          <PageHeader title={`${list[i]}`} />\n          <Row>\n            <Col span={6} offset={4}>\n              <Form.Item label=\"角色\" name={`player${i}`} rules={[{ required: true }]}>\n                <PlayerInput />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item label=\"蓝色因子\" name={`blue${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"红色因子\" name={`red${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n              <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n              <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n              <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"红色因子星数\" name={`redLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"URA因子星数\" name={`uraLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"白色因子个数\" name={`whiteNum${i}`} initialValue={0}>\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"} />\n          </Form.Item>\n        </Col>\n      );\n    }\n    return children;\n  };\n  return (\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\n      <Alert\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\n        type=\"info\"\n      />\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify=\"end\">\n        <Col span={3}>\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\n            <SupportInput />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item\n            label=\"玩家id\"\n            name=\"gameId\"\n            rules={[\n              { required: true },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\n                },\n              }),\n            ]}\n          >\n            <Input placeholder=\"id\" style={{ width: \"100%\" }} />\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <>\n          <Row>\n            {fields.map((field, index) => (\n              <Col key={field.key} lg={8} md={12} xs={24}>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"attr\"]}\n                    fieldKey={[field.fieldKey, \"attr\"]}\n                    rules={[{ required: true }]}\n                    validateTrigger={[\"onChange\", \"onBlur\"]}\n                    noStyle\n                  >\n                    <Radio.Group>\n                      <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n                      <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n                      <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n                      <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n                      <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n                      <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n                      <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n                      <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n                      <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n                      <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n                      <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n                      <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </Row>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"level\"]}\n                    fieldKey={[field.fieldKey, \"level\"]}\n                    rules={[{ required: true }]}\n                  >\n                    <Rate count={props.max} />\n                  </Form.Item>\n                </Row>\n                <Col span={5}>\n                  <Button type=\"dashed\" onClick={() => remove(field.name)}>\n                    移除\n                  </Button>\n                </Col>\n              </Col>\n            ))}\n          </Row>\n          <Row justify=\"start\">\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </Row>\n        </>\n      )}\n    </Form.List>\n  );\n};\n\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"supportLevel\"]) {\n      formData.attrs.push(\"supportLevel\");\n      formData.levels.push(value[\"supportLevel\"]);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p0?.forEach((item) => {\n      if (blueLabels[item.attr]) {\n        formData[\"blue0\"] = item.attr;\n        formData.attrs.push(\"blueLevel0\");\n        formData.levels.push(item.level);\n      } else if (redLabels[item.attr]) {\n        formData[\"red0\"] = item.attr;\n        formData.attrs.push(\"redLevel0\");\n        formData.levels.push(item.level);\n      } else if (item.attr === \"uraLevel\") {\n        formData.attrs.push(\"uraLevel0\");\n        formData.levels.push(item.level);\n      }\n    });\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr);\n      formData.levels.push(item.level);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Form.Item label=\"角色\" name={`player0`}>\n          <PlayerInput />\n        </Form.Item>\n      </Row>\n      <SearchOne name=\"p0\" max=\"3\" />\n      <div>总计:</div>\n      <SearchOne name=\"p1\" max=\"9\" />\n      <Row>\n        <Form.Item label=\"支援卡\" name={\"support\"}>\n          <SupportInput />\n        </Form.Item>\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\n          <Rate count={4} />\n        </Form.Item>\n      </Row>\n      <Row justify=\"end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Row>\n    </Form>\n  );\n};\n\nconst PlayerImage = (props) => {\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    />\n  );\n};\n\nconst SupportImage = (props) => {\n  let support = db.get(\"supports\").find({ id: props.id }).value();\n  let imgUrl = \"\";\n  if (support) {\n    imgUrl = support.imgUrl;\n  }\n  return (\n    <Image\n      src={cdnServer + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview={false}\n    />\n  );\n};\n\nconst Seed = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList, setSeedList] = useState([]);\n  const [total, setTotal] = useState(0);\n  // const [current, setCurrent] = useState(0)\n  const [value, setValue] = useState();\n\n  const columns = [\n    {\n      title: \"玩家id\",\n      dataIndex: \"gameId\",\n      key: \"gameId\",\n      render: (text, seed) => (\n        <>\n          <Row>\n            <p>{text}</p>\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\n              <CopyOutlined />\n            </CopyToClipboard>\n          </Row>\n          <Row align=\"middle\">\n            <SmileOutlined onClick={() => like(seed)} />\n            <p>{seed.likes}</p>\n          </Row>\n          <Row align=\"middle\">\n            <FrownOutlined onClick={() => dislike(seed)} />\n            <p>{seed.dislikes}</p>\n          </Row>\n          {seed.userId === userId && (\n            <Row align=\"middle\">\n              <DeleteOutlined onClick={() => deleteSeed(seed)} />\n            </Row>\n          )}\n        </>\n      ),\n    },\n    {\n      title: \"主要\",\n      dataIndex: \"playerId0\",\n      key: \"playerId0\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"蓝色因子\",\n      dataIndex: \"blue0\",\n      key: \"blue0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${blueLabels[text]}\\xa0\\xa0${record[\"blueLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"红色因子\",\n      dataIndex: \"red0\",\n      key: \"red0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${redLabels[text]}\\xa0\\xa0${record[\"redLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"绿色因子\",\n      dataIndex: \"greenLevel0\",\n      key: \"greenLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`固有\\xa0\\xa0${record[\"greenLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"URA\",\n      dataIndex: \"uraLevel0\",\n      key: \"uraLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">\n          {`${record[\"uraLevel0\"] ? `URA  ${record[\"uraLevel0\"]}` : \"\"}`}\n        </span>\n      ),\n    },\n    {\n      title: \"父辈1\",\n      dataIndex: \"playerId1\",\n      key: \"playerId1\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"父辈2\",\n      dataIndex: \"playerId2\",\n      key: \"playerId2\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"总计蓝色\",\n      key: \"allBlue\",\n      render: (text, record) =>\n        Object.keys(blueLabels).map((key) => {\n          if (record[key]) {\n            return <span className=\"rate-label\">{`${blueLabels[key]}\\xa0\\xa0${record[key]}`}</span>;\n          } else {\n            return null;\n          }\n        }),\n    },\n    {\n      title: \"总计红色\",\n      key: \"allRed\",\n      render: (text, record) =>\n        Object.keys(redLabels).map((key) => {\n          if (record[key]) {\n            return <span className=\"rate-label\">{`${redLabels[key]}\\xa0\\xa0${record[key]}`}</span>;\n          } else {\n            return null;\n          }\n        }),\n    },\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\n    {\n      title: \"支援卡\",\n      dataIndex: \"supportId\",\n      key: \"supportId\",\n      render: (text) => <SupportImage id={text} />,\n    },\n    {\n      title: \"突破等级\",\n      dataIndex: \"supportLevel\",\n      key: \"supportLevel\",\n      render: (text, record) => (\n        <Row>\n          <Rate count={4} value={record[\"supportLevel\"]} disabled />\n        </Row>\n      ),\n    },\n  ];\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const showMySeed = () => {\n    search({ attrs: [\"userId\"], levels: [userId] });\n  };\n  const deleteSeed = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/delete\", value);\n    if (res.data) {\n      message.info(\"成功删除\");\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const search = async (value) => {\n    setValue(value);\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    // setCurrent(0)\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n        setTotal(res.data.count);\n      } else {\n        setSeedList([]);\n        setTotal(0);\n        message.info(\"暂无数据\");\n      }\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.dislikes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const onChange = (e) => {\n    search({\n      ...value,\n      count: e.total,\n      offset: e.current * 10 - 10,\n    });\n  };\n  return (\n    <>\n      <div className=\"seed-container\">\n        <Card className=\"card\" title=\"过滤条件\">\n          <SearchForm search={search} />\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\n        </Card>\n        <Card className=\"card\" title=\"结果\">\n          <Table\n            columns={columns}\n            dataSource={seedList}\n            onChange={onChange}\n            pagination={{\n              pageSize: 10,\n              total: total,\n              simple: true,\n              showQuickJumper: false,\n              position: [\"topRight\", \"bottomRight\"],\n            }}\n            rowKey={\"id\"}\n          />\n        </Card>\n      </div>\n      <Modal\n        visible={isSeedInputVisible}\n        onOk={closeSeedInput}\n        onCancel={closeSeedInput}\n        footer={null}\n        width={\"80%\"}\n      >\n        <SeedInput onFinish={closeSeedInput} />\n      </Modal>\n    </>\n  );\n};\nexport default Seed;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport shortid from \"shortid\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport db from \"@/db.js\";\nimport dbL from \"@/dbL.js\";\nimport t from \"@/components/t.js\";\nimport {\n  Divider,\n  Row,\n  Col,\n  Modal,\n  Popconfirm,\n  Popover,\n  // Tooltip\n} from \"antd\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport SupportList from \"@/components/support/SupportList.js\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\nimport Layout from \"@/components/common/Layout.js\";\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n  RaceCheckbox,\n} from \"../../components/race\";\n\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Nurturing = (props) => {\n  const history = useHistory();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const races = db.get(\"races\").value();\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n\n    // save\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closePlayer();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closeSupport();\n  };\n  const handleSelectSupportShow = (data) => {\n    history.push(`/support-detail/${data.id}`);\n    closeSupport();\n  };\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n    };\n    if (player.id) {\n      tmpDeck.playerId = player.id;\n      tmpDeck.imgUrls.push(player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (supports[index] && supports[index].id) {\n        tmpDeck.imgUrls.push(supports[index].imgUrl);\n        tmpDeck.supportsId.push(supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    db.get(\"selected\").assign(selected).write();\n  };\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const toSupportDetail = (id) => {\n    props.history.push(`/support-detail/${id}`);\n  };\n  const toPlayerDetail = (id) => {\n    props.history.push(`/player-detail/${id}/1`);\n  };\n  const toBuffList = (id) => {\n    props.history.push(`/buff`);\n  };\n\n  return (\n    <>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        {player.imgUrl && (\n          <img\n            src={cdnServer + player.imgUrl}\n            alt={player.imgUrl}\n            width=\"128\"\n            onClick={() => toPlayerDetail(player.id)}\n          />\n        )}\n        <div className=\"flex-auto flex flex-wrap items-center\">\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n            {t(\"支援卡查询\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={toBuffList}>\n            {t(\"BUFF\")}\n          </Button>\n          <Popover\n            trigger=\"click\"\n            content={\n              <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n            }\n          >\n            <Button>{t(\"比赛\")}</Button>\n          </Popover>\n          <Popover\n            trigger=\"click\"\n            width={\"80%\"}\n            content={\n              <>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n                  {t(\"保存为新卡组\")}\n                </Button>\n                {decks.map((deck) => (\n                  <Row key={deck.id}>\n                    {deck.imgUrls.map((imgUrl) => (\n                      <Col span={3} key={imgUrl}>\n                        <img src={cdnServer + imgUrl} alt={imgUrl} width={\"100\"} />\n                      </Col>\n                    ))}\n                    <Col span={3}>\n                      <Button\n                        size=\"sm\"\n                        buttonType=\"outline\"\n                        type=\"primary\"\n                        onClick={() => loadDeck(deck)}\n                      >\n                        {t(\"读取卡组\")}\n                      </Button>\n                      <Popconfirm title=\"确认覆盖？\" onConfirm={() => saveDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"覆盖卡组\")}\n                        </Button>\n                      </Popconfirm>\n                      <Popconfirm title=\"确认删除？\" onConfirm={() => deleteDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"删除卡组\")}\n                        </Button>\n                      </Popconfirm>\n                    </Col>\n                  </Row>\n                ))}\n              </>\n            }\n          >\n            <Button>{t(\"我的卡组\")}</Button>\n          </Popover>\n        </div>\n      </div>\n\n      <Row justify=\"space-around\">\n        {[0, 1, 2, 3, 4, 5].map((index) => (\n          <Col span={7} key={index} style={{}}>\n            <Button\n              size=\"sm\"\n              buttonType=\"outline\"\n              icon={<EditOutlined />}\n              onClick={() => showSupport(index)}\n            >\n              {t(\"选择支援卡\")}\n            </Button>\n            {supports[index] && supports[index].id && (\n              <img\n                src={cdnServer + supports[index].imgUrl}\n                alt={supports[index].name}\n                width={\"100%\"}\n                onClick={() => toSupportDetail(supports[index].id)}\n              />\n            )}\n          </Col>\n        ))}\n      </Row>\n\n      <Divider>比赛</Divider>\n      <div style={{ overflow: \"auto\", paddingTop: \"10px\", width: \"100%\", height: \"400px\" }}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace} />\n      </div>\n\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\", overflow: \"auto\" }}\n      >\n        <SupportListWithFilter\n          onClick={needSelect ? handleSelectSupport : handleSelectSupportShow}\n          sortFlag={true}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { Picker, List } from \"antd-mobile\";\n\nimport { Image, Modal, Rate, Form } from \"antd\";\nimport { message } from \"antd\";\n//test\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined } from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\n\nimport db from \"@/db.js\";\nimport t from \"@/components/t.js\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\nimport Layout from \"@/components/common/Layout.js\";\n\nconst cdnServer = \"https://cdn.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\n\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\nlet userId = db.get(\"userId\").value();\nconst blueLabels = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst redLabels = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escapeR: \"逃\",\n  leadingR: \"先\",\n  insertR: \"差\",\n  trackingR: \"追\",\n};\n\nconst lists = [\n  [\n    { value: \"speed\", label: t(\"速度\") },\n    { value: \"stamina\", label: t(\"耐力\") },\n    { value: \"power\", label: t(\"力量\") },\n    { value: \"guts\", label: t(\"根性\") },\n    { value: \"wisdom\", label: t(\"智力\") },\n    { value: \"grass\", label: t(\"草地\") },\n    { value: \"dirt\", label: t(\"泥地\") },\n    { value: \"shortDistance\", label: t(\"短距离\") },\n    { value: \"mile\", label: t(\"英里\") },\n    { value: \"mediumDistance\", label: t(\"中距离\") },\n    { value: \"longDistance\", label: t(\"长距离\") },\n    { value: \"escapeR\", label: t(\"逃\") },\n    { value: \"leadingR\", label: t(\"先\") },\n    { value: \"insertR\", label: t(\"差\") },\n    { value: \"trackingR\", label: t(\"追\") },\n  ],\n  [\n    { value: 1, label: `1${t(\"星\")}` },\n    { value: 2, label: `2${t(\"星\")}` },\n    { value: 3, label: `3${t(\"星\")}` },\n    { value: 4, label: `4${t(\"星\")}` },\n    { value: 5, label: `5${t(\"星\")}` },\n    { value: 6, label: `6${t(\"星\")}` },\n    { value: 7, label: `7${t(\"星\")}` },\n    { value: 8, label: `8${t(\"星\")}` },\n    { value: 9, label: `9${t(\"星\")}` },\n  ],\n];\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    closePlayer();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n          preview={false}\n          fallback=\"data:image/png;base64,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\"\n          onClick={showPlayer}\n        />\n      </div>\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    closeSupport();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? cdnServer + data.imgUrl : \"\"}\n          preview={false}\n          fallback=\"data:image/png;base64,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\"\n          onClick={showSupport}\n        />\n      </div>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter onClick={handleSelectSupport} sortFlag={true} />\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <List>\n          {fields.map((field, index) => (\n            <Form.Item\n              {...field}\n              key={field.key}\n              name={[field.name, \"attr\"]}\n              fieldKey={[field.fieldKey, \"attr\"]}\n              rules={[{ required: true }]}\n              validateTrigger={[\"onChange\", \"onBlur\"]}\n              noStyle\n            >\n              <Picker data={lists} cascade={false} extra={t(\"请选择\")}>\n                <List.Item arrow=\"horizontal\">{t(\"过滤条件(总计)\")}</List.Item>\n              </Picker>\n            </Form.Item>\n          ))}\n          <List.Item>\n            <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\n              {t(\"添加过滤条件\")}\n            </Button>\n          </List.Item>\n        </List>\n      )}\n    </Form.List>\n  );\n};\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr[0]);\n      formData.levels.push(item.attr[1]);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form w-full\">\n      <SearchOne name=\"p1\" />\n      <div className=\"grid grid-cols-4 w-full \" align=\"start\">\n        <div>\n          {t(\"角色\")}\n          <Form.Item name={`player0`}>\n            <PlayerInput />\n          </Form.Item>\n        </div>\n        <div>\n          {t(\"支援卡\")}\n          <Form.Item name={\"support\"}>\n            <SupportInput />\n          </Form.Item>\n        </div>\n        <div className=\"col-span-2\">\n          {t(\"突破等级\")}\n          <Form.Item name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </div>\n      </div>\n      <div className=\"flex justify-end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            {t(\"重置\")}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t(\"搜索\")}\n          </Button>\n        </Form.Item>\n      </div>\n    </Form>\n  );\n};\n\nconst SeedCard = (props) => {\n  const data = props.data;\n  const player = db.get(\"players\").find({ id: data.playerId0 }).value();\n  const support = db.get(\"supports\").find({ id: data.supportId }).value();\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.likes += 1;\n    }\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.dislikes += 1;\n    }\n  };\n  return (\n    <div className=\"w-1/2 p-1\">\n      <div className=\"border-green-300 border border-solid flex flex-col\">\n        <CopyToClipboard text={data.gameId} onCopy={() => message.info(\"成功\")}>\n          <div className=\"w-full flex text-lg\">\n            {data.gameId}\n            <CopyOutlined />\n          </div>\n        </CopyToClipboard>\n        <div className=\"w-full flex items-center justify-around\">\n          {player && (\n            <img alt={player.name} src={cdnServer + player.imgUrl} className=\"w-10 h-10\" />\n          )}\n          {support && <img alt={support.name} src={cdnServer + support.imgUrl} className=\"w-10\" />}\n          <div className=\"text-lg flex\" onClick={() => like(data)}>\n            <SmileOutlined />\n            <div>{data.likes}</div>\n          </div>\n          <div className=\"text-lg flex\" onClick={() => dislike(data)}>\n            <FrownOutlined />\n            <div>{data.dislikes}</div>\n          </div>\n        </div>\n        <div>{`${t(blueLabels[data[\"blue0\"]])}: ${data[\"blueLevel0\"]}`}</div>\n        <div>{`${t(redLabels[data[\"red0\"]])}: ${data[\"redLevel0\"]}`}</div>\n        {Object.keys(blueLabels).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(blueLabels[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        {Object.keys(redLabels).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(redLabels[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        <div>{`${t(\"突破等级\")}: ${data[\"supportLevel\"] || 0}`}</div>\n      </div>\n    </div>\n  );\n};\nconst Seed = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  const [seedList, setSeedList] = useState([]);\n  const search = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n      } else {\n        message.info(t(\"暂无数据\"));\n      }\n    } else {\n      message.info(t(\"出错了\"));\n    }\n  };\n  return (\n    <div className=\"w-full flex flex-wrap px-3\">\n      <SearchForm search={search} />\n      <div className=\"w-full text-lg font-semibold\">{t(\"结果\")}</div>\n      {seedList.map((seed) => {\n        return <SeedCard key={seed.id} data={seed} />;\n      })}\n    </div>\n  );\n};\nexport default Seed;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Layout from \"../../components/common/Layout.js\";\nimport SupportDetail from \"../../components/support/SupportDetail.js\";\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SupportDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <SupportDetail id={id} />\n    </div>\n  );\n};\n\nexport default SupportDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Layout from \"../../components/common/Layout.js\";\nimport PlayerDetail from \"../../components/player/PlayerDetail.js\";\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst PlayerDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <PlayerDetail id={id} />\n    </div>\n  );\n};\n\nexport default PlayerDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Layout from \"../../components/common/Layout.js\";\nimport SkillDetail from \"../../components/skill/SkillDetail.js\";\n\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SkillDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <SkillDetail id={id} />\n  );\n};\n\nexport default SkillDetailPage;\n","import React, { useEffect } from \"react\";\n\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\nimport { Route } from \"react-router-dom\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Race from \"@/pages/race\";\nimport Player from \"@/pages/player\";\nimport Support from \"@/pages/support\";\nimport Nurturing from \"@/pages/nurturing/index\";\nimport Skill from \"@/pages/skill\";\nimport Seed from \"@/pages/seed\";\nimport NotFound from \"@/pages/404\";\n\nimport NurturingMO from \"@/pages/nurturingMo\";\nimport SeedMo from \"@/pages/seedMo\";\n\nimport SupportDetailPage from \"@/pages/support/detail\";\nimport PlayerDetailPage from \"@/pages/player/detail\";\nimport SkillDetailPage from \"@/pages/skill/detail\";\nimport { BuffList } from \"./components/buff.js\";\nimport Layout from \"./components/common/Layout.js\";\nconst AppPc = () => {\n  return (\n    <CacheSwitch>\n      <Layout>\n        <CacheRoute className='container mx-auto' exact path=\"/\" component={Player} />\n        <CacheRoute className='container mx-auto flex' path=\"/support\" component={Support} />\n        <CacheRoute className='container mx-auto flex' path=\"/skill\" component={Skill} />\n        <CacheRoute path={[\"/nurturing\"]} component={Nurturing} />\n        <CacheRoute path={[\"/nurturingMo\"]} component={NurturingMO} />\n        <CacheRoute className=\"\" path=\"/seed\" component={Seed} />\n        <CacheRoute className=\"\" path=\"/SeedMo\" component={SeedMo} />\n        <CacheRoute className=\"\" path=\"/race\" component={Race} />\n        <CacheRoute\n          path={[\"/support-detail/:id\", \"/support-detail/:id/:nur\"]}\n          component={SupportDetailPage}\n        />\n        <CacheRoute\n          path={[\"/player-detail/:id\", \"/player-detail/:id/:nur\"]}\n          component={PlayerDetailPage}\n        />\n        <CacheRoute path=\"/skill-detail/:id\" component={SkillDetailPage} />\n        <CacheRoute path=\"/buff\" component={BuffList} />\n        {/* <CacheRoute component={NotFound}></CacheRoute> */}\n        <ReactTooltip className=\"z-max !hidden md:!inline-block\" html={true} />\n      </Layout>\n    </CacheSwitch>\n  );\n};\n\nexport default AppPc;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\n// import 'antd-mobile/dist/antd-mobile.min.css';\nimport \"@material-tailwind/react/tailwind.css\";\nimport \"./styles/tailwind.css\";\n\nimport App from \"./app\";\n\nconst Index = () => {\n  return (\n    <Router>\n      <App></App>\n    </Router>\n  );\n};\n\nReactDOM.render(<Index></Index>, document.getElementById(\"root\"));\n"],"sourceRoot":""}